/*! For license information please see main.cjs.LICENSE.txt */
(()=>{var e={9:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DifferentialDownloader=void 0;const n=r(5129),o=r(8799),i=r(9896),s=r(2652),a=r(7016),c=r(1305),l=r(4405),u=r(9516);function p(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}t.DifferentialDownloader=class{constructor(e,t,r){this.blockAwareFileInfo=e,this.httpExecutor=t,this.options=r,this.fileMetadataBuffer=null,this.logger=r.logger}createRequestOptions(){const e={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,n.configureRequestUrl)(this.options.newUrl,e),(0,n.configureRequestOptions)(e),e}doDownload(e,t){if(e.version!==t.version)throw new Error(`version is different (${e.version} - ${t.version}), full download is required`);const r=this.logger,n=(0,c.computeOperations)(e,t,r);null!=r.debug&&r.debug(JSON.stringify(n,null,2));let o=0,i=0;for(const e of n){const t=e.end-e.start;e.kind===c.OperationKind.DOWNLOAD?o+=t:i+=t}const s=this.blockAwareFileInfo.size;if(o+i+(null==this.fileMetadataBuffer?0:this.fileMetadataBuffer.length)!==s)throw new Error(`Internal error, size mismatch: downloadSize: ${o}, copySize: ${i}, newSize: ${s}`);return r.info(`Full: ${p(s)}, To download: ${p(o)} (${Math.round(o/(s/100))}%)`),this.downloadFile(n)}downloadFile(e){const t=[],r=()=>Promise.all(t.map(e=>(0,o.close)(e.descriptor).catch(t=>{this.logger.error(`cannot close file "${e.path}": ${t}`)})));return this.doDownloadFile(e,t).then(r).catch(e=>r().catch(t=>{try{this.logger.error(`cannot close files: ${t}`)}catch(e){try{console.error(e)}catch(e){}}throw e}).then(()=>{throw e}))}async doDownloadFile(e,t){const r=await(0,o.open)(this.options.oldFile,"r");t.push({descriptor:r,path:this.options.oldFile});const p=await(0,o.open)(this.options.newFile,"w");t.push({descriptor:p,path:this.options.newFile});const d=(0,i.createWriteStream)(this.options.newFile,{fd:p});await new Promise((o,i)=>{const p=[];let h;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const t=[];let r=0;for(const n of e)n.kind===c.OperationKind.DOWNLOAD&&(t.push(n.end-n.start),r+=n.end-n.start);const n={expectedByteCounts:t,grandTotal:r};h=new u.ProgressDifferentialDownloadCallbackTransform(n,this.options.cancellationToken,this.options.onProgress),p.push(h)}const f=new n.DigestTransform(this.blockAwareFileInfo.sha512);f.isValidateOnEnd=!1,p.push(f),d.on("finish",()=>{d.close(()=>{t.splice(1,1);try{f.validate()}catch(e){return void i(e)}o(void 0)})}),p.push(d);let g=null;for(const e of p)e.on("error",i),g=null==g?e:g.pipe(e);const m=p[0];let y;if(this.options.isUseMultipleRangeRequest)return y=(0,l.executeTasksUsingMultipleRangeRequests)(this,e,m,r,i),void y(0);let v=0,E=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const w=this.createRequestOptions();w.redirect="manual",y=t=>{var o,l;if(t>=e.length)return null!=this.fileMetadataBuffer&&m.write(this.fileMetadataBuffer),void m.end();const u=e[t++];if(u.kind===c.OperationKind.COPY)return h&&h.beginFileCopy(),void(0,s.copyData)(u,m,r,i,()=>y(t));const p=`bytes=${u.start}-${u.end-1}`;w.headers.range=p,null===(l=null===(o=this.logger)||void 0===o?void 0:o.debug)||void 0===l||l.call(o,`download range: ${p}`),h&&h.beginRangeDownload();const d=this.httpExecutor.createRequest(w,e=>{e.on("error",i),e.on("aborted",()=>{i(new Error("response has been aborted by the server"))}),e.statusCode>=400&&i((0,n.createHttpError)(e)),e.pipe(m,{end:!1}),e.once("end",()=>{h&&h.endRangeDownload(),100===++v?(v=0,setTimeout(()=>y(t),1e3)):y(t)})});d.on("redirect",(e,t,r)=>{this.logger.info(`Redirect to ${function(e){const t=e.indexOf("?");return t<0?e:e.substring(0,t)}(r)}`),E=r,(0,n.configureRequestUrl)(new a.URL(E),w),d.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(d,i),d.end()},y(0)})}async readRemoteBytes(e,t){const r=Buffer.allocUnsafe(t+1-e),n=this.createRequestOptions();n.headers.range=`bytes=${e}-${t}`;let o=0;if(await this.request(n,e=>{e.copy(r,o),o+=e.length}),o!==r.length)throw new Error(`Received data length ${o} is not equal to expected ${r.length}`);return r}request(e,t){return new Promise((r,n)=>{const o=this.httpExecutor.createRequest(e,e=>{(0,l.checkIsRangesSupported)(e,n)&&(e.on("error",n),e.on("aborted",()=>{n(new Error("response has been aborted by the server"))}),e.on("data",t),e.on("end",()=>r()))});this.httpExecutor.addErrorAndTimeoutHandlers(o,n),o.end()})}}},61:e=>{"use strict";e.exports=function(e){return Object.defineProperties(t,{defaultLabel:{value:"",writable:!0},labelPadding:{value:!0,writable:!0},maxLabelLength:{value:0,writable:!0},labelLength:{get(){switch(typeof t.labelPadding){case"boolean":return t.labelPadding?t.maxLabelLength:0;case"number":return t.labelPadding;default:return 0}}}});function t(r){t.maxLabelLength=Math.max(t.maxLabelLength,r.length);const n={};for(const t of e.levels)n[t]=(...n)=>e.logData(n,{level:t,scope:r});return n.log=n.info,n}}},127:(e,t,r)=>{"use strict";var n=r(5388),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new n("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==o.exec(e)||null!==i.exec(e))},construct:function(e){var t,r,n,s,a,c,l,u,p=0,d=null;if(null===(t=o.exec(e))&&(t=i.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(r,n,s));if(a=+t[4],c=+t[5],l=+t[6],t[7]){for(p=t[7].slice(0,3);p.length<3;)p+="0";p=+p}return t[9]&&(d=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(d=-d)),u=new Date(Date.UTC(r,n,s,a,c,l,p)),d&&u.setTime(u.getTime()-d),u},instanceOf:Date,represent:function(e){return e.toISOString()}})},144:(e,t,r)=>{"use strict";const n=r(3908);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},270:(e,t,r)=>{"use strict";const n=r(3908),o=r(8311);e.exports=(e,t,r)=>{let i=null,s=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(i&&1!==s.compare(e)||(i=e,s=new n(i,r)))}),i}},329:(e,t,r)=>{"use strict";const n="undefined"==typeof process||"renderer"===process.type||"worker"===process.type,o="object"==typeof process&&"browser"===process.type;n?(r(8308),e.exports=r(6393)):e.exports=r(o?7295:4746)},345:(e,t,r)=>{"use strict";const n=r(3950).fromCallback;e.exports={move:n(r(6820)),moveSync:r(6358)}},369:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElectronHttpExecutor=t.NET_SESSION_NAME=void 0,t.getNetSession=o;const n=r(5129);function o(){return r(1288).session.fromPartition(t.NET_SESSION_NAME,{cache:!1})}t.NET_SESSION_NAME="electron-updater";class i extends n.HttpExecutor{constructor(e){super(),this.proxyLoginCallback=e,this.cachedSession=null}async download(e,t,r){return await r.cancellationToken.createPromise((o,i,s)=>{const a={headers:r.headers||void 0,redirect:"manual"};(0,n.configureRequestUrl)(e,a),(0,n.configureRequestOptions)(a),this.doDownload(a,{destination:t,options:r,onCancel:s,callback:e=>{null==e?o(t):i(e)},responseHandler:null},0)})}createRequest(e,t){e.headers&&e.headers.Host&&(e.host=e.headers.Host,delete e.headers.Host),null==this.cachedSession&&(this.cachedSession=o());const n=r(1288).net.request({...e,session:this.cachedSession});return n.on("response",t),null!=this.proxyLoginCallback&&n.on("login",this.proxyLoginCallback),n}addRedirectHandlers(e,t,r,o,i){e.on("redirect",(s,a,c)=>{e.abort(),o>this.maxRedirects?r(this.createMaxRedirectError()):i(n.HttpExecutor.prepareRedirectUrlOptions(c,t))})}}t.ElectronHttpExecutor=i},396:(e,t,r)=>{"use strict";const n=r(4603),o=r(6928),i=r(9023);function s(e,t,r){const o=r.dereference?e=>n.stat(e,{bigint:!0}):e=>n.lstat(e,{bigint:!0});return Promise.all([o(e),o(t).catch(e=>{if("ENOENT"===e.code)return null;throw e})]).then(([e,t])=>({srcStat:e,destStat:t}))}function a(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function c(e,t){const r=o.resolve(e).split(o.sep).filter(e=>e),n=o.resolve(t).split(o.sep).filter(e=>e);return r.reduce((e,t,r)=>e&&n[r]===t,!0)}function l(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,r,n,u){i.callbackify(s)(e,t,n,(n,i)=>{if(n)return u(n);const{srcStat:s,destStat:p}=i;if(p){if(a(s,p)){const n=o.basename(e),i=o.basename(t);return"move"===r&&n!==i&&n.toLowerCase()===i.toLowerCase()?u(null,{srcStat:s,destStat:p,isChangingCase:!0}):u(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&!p.isDirectory())return u(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!s.isDirectory()&&p.isDirectory())return u(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return s.isDirectory()&&c(e,t)?u(new Error(l(e,t,r))):u(null,{srcStat:s,destStat:p})})},checkPathsSync:function(e,t,r,i){const{srcStat:s,destStat:u}=function(e,t,r){let o;const i=r.dereference?e=>n.statSync(e,{bigint:!0}):e=>n.lstatSync(e,{bigint:!0}),s=i(e);try{o=i(t)}catch(e){if("ENOENT"===e.code)return{srcStat:s,destStat:null};throw e}return{srcStat:s,destStat:o}}(e,t,i);if(u){if(a(s,u)){const n=o.basename(e),i=o.basename(t);if("move"===r&&n!==i&&n.toLowerCase()===i.toLowerCase())return{srcStat:s,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&c(e,t))throw new Error(l(e,t,r));return{srcStat:s,destStat:u}},checkParentPaths:function e(t,r,i,s,c){const u=o.resolve(o.dirname(t)),p=o.resolve(o.dirname(i));if(p===u||p===o.parse(p).root)return c();n.stat(p,{bigint:!0},(n,o)=>n?"ENOENT"===n.code?c():c(n):a(r,o)?c(new Error(l(t,i,s))):e(t,r,p,s,c))},checkParentPathsSync:function e(t,r,i,s){const c=o.resolve(o.dirname(t)),u=o.resolve(o.dirname(i));if(u===c||u===o.parse(u).root)return;let p;try{p=n.statSync(u,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(a(r,p))throw new Error(l(t,i,s));return e(t,r,u,s)},isSrcSubdir:c,areIdentical:a}},407:(e,t,r)=>{"use strict";const n=r(5317),o=r(857),i=r(6928),s=r(9084);e.exports=class{appName=void 0;appPackageJson=void 0;platform=process.platform;getAppLogPath(e=this.getAppName()){return"darwin"===this.platform?i.join(this.getSystemPathHome(),"Library/Logs",e):i.join(this.getAppUserDataPath(e),"logs")}getAppName(){const e=this.appName||this.getAppPackageJson()?.name;if(!e)throw new Error("electron-log can't determine the app name. It tried these methods:\n1. Use `electron.app.name`\n2. Use productName or name from the nearest package.json`\nYou can also set it through log.transports.file.setAppName()");return e}getAppPackageJson(){return"object"!=typeof this.appPackageJson&&(this.appPackageJson=s.findAndReadPackageJson()),this.appPackageJson}getAppUserDataPath(e=this.getAppName()){return e?i.join(this.getSystemPathAppData(),e):void 0}getAppVersion(){return this.getAppPackageJson()?.version}getElectronLogPath(){return this.getAppLogPath()}getMacOsVersion(){const e=Number(o.release().split(".")[0]);return e<=19?"10."+(e-4):e-9}getOsVersion(){let e=o.type().replace("_"," "),t=o.release();return"Darwin"===e&&(e="macOS",t=this.getMacOsVersion()),`${e} ${t}`}getPathVariables(){const e=this.getAppName(),t=this.getAppVersion(),r=this;return{appData:this.getSystemPathAppData(),appName:e,appVersion:t,get electronDefaultDir(){return r.getElectronLogPath()},home:this.getSystemPathHome(),libraryDefaultDir:this.getAppLogPath(e),libraryTemplate:this.getAppLogPath("{appName}"),temp:this.getSystemPathTemp(),userData:this.getAppUserDataPath(e)}}getSystemPathAppData(){const e=this.getSystemPathHome();switch(this.platform){case"darwin":return i.join(e,"Library/Application Support");case"win32":return process.env.APPDATA||i.join(e,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||i.join(e,".config")}}getSystemPathHome(){return o.homedir?.()||process.env.HOME}getSystemPathTemp(){return o.tmpdir()}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:void 0,os:this.getOsVersion()}}isDev(){return"1"===process.env.ELECTRON_IS_DEV}isElectron(){return Boolean(process.versions.electron)}onAppEvent(e,t){}onAppReady(e){e()}onEveryWebContentsEvent(e,t){}onIpc(e,t){}onIpcInvoke(e,t){}openUrl(e,t=console.error){const r={darwin:"open",win32:"start",linux:"xdg-open"}[process.platform]||"xdg-open";n.exec(`${r} ${e}`,{},e=>{e&&t(e)})}setAppName(e){this.appName=e}setPlatform(e){this.platform=e}setPreloadFileForSessions({filePath:e,includeFutureSession:t=!0,getSessions:r=()=>[]}){}sendIpc(e,t){}showErrorBox(e,t){}}},560:(e,t,r)=>{"use strict";const n=r(3908);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},657:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressCallbackTransform=void 0;const n=r(2203);class o extends n.Transform{constructor(e,t,r){super(),this.total=e,this.cancellationToken=t,this.onProgress=r,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(e,t,r){if(this.cancellationToken.cancelled)return void r(new Error("cancelled"),null);this.transferred+=e.length,this.delta+=e.length;const n=Date.now();n>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=n+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((n-this.start)/1e3))}),this.delta=0),r(null,e)}_flush(e){this.cancellationToken.cancelled?e(new Error("cancelled")):(this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,e(null))}}t.ProgressCallbackTransform=o},736:(e,t,r)=>{e.exports=function(e){function t(e){let r,o,i,s=null;function a(...e){if(!a.enabled)return;const n=a,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return"%";s++;const i=t.formatters[o];if("function"==typeof i){const t=e[s];r=i.call(n,t),e.splice(s,1),s--}return r}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e,t){let r=0,n=0,o=-1,i=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(o=n,i=r,n++):(r++,n++);else{if(-1===o)return!1;n=o+1,i++,r=i}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const e of r)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const r of t.skips)if(o(e,r))return!1;for(const r of t.names)if(o(e,r))return!0;return!1},t.humanize=r(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NsisUpdater=void 0;const n=r(5129),o=r(6928),i=r(9322),s=r(1972),a=r(3765),c=r(5776),l=r(8799),u=r(6578),p=r(7016);class d extends i.BaseUpdater{constructor(e,t){super(e,t),this._verifyUpdateCodeSignature=(e,t)=>(0,u.verifySignature)(e,t,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(e){e&&(this._verifyUpdateCodeSignature=e)}doDownloadUpdate(e){const t=e.updateInfoAndProvider.provider,r=(0,c.findFile)(t.resolveFiles(e.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:e,fileInfo:r,task:async(o,i,s,a)=>{const c=r.packageInfo,u=null!=c&&null!=s;if(u&&e.disableWebInstaller)throw(0,n.newError)(`Unable to download new version ${e.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");u||e.disableWebInstaller||this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(u||e.disableDifferentialDownload||await this.differentialDownloadInstaller(r,e,o,t,n.CURRENT_APP_INSTALLER_FILE_NAME))&&await this.httpExecutor.download(r.url,o,i);const d=await this.verifySignature(o);if(null!=d)throw await a(),(0,n.newError)(`New version ${e.updateInfoAndProvider.info.version} is not signed by the application owner: ${d}`,"ERR_UPDATER_INVALID_SIGNATURE");if(u&&await this.differentialDownloadWebPackage(e,c,s,t))try{await this.httpExecutor.download(new p.URL(c.path),s,{headers:e.requestHeaders,cancellationToken:e.cancellationToken,sha512:c.sha512})}catch(e){try{await(0,l.unlink)(s)}catch(e){}throw e}}})}async verifySignature(e){let t;try{if(t=(await this.configOnDisk.value).publisherName,null==t)return null}catch(e){if("ENOENT"===e.code)return null;throw e}return await this._verifyUpdateCodeSignature(Array.isArray(t)?t:[t],e)}doInstall(e){const t=this.installerPath;if(null==t)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;const n=["--updated"];e.isSilent&&n.push("/S"),e.isForceRunAfter&&n.push("--force-run"),this.installDirectory&&n.push(`/D=${this.installDirectory}`);const i=null==this.downloadedUpdateHelper?null:this.downloadedUpdateHelper.packageFile;null!=i&&n.push(`--package-file=${i}`);const s=()=>{this.spawnLog(o.join(process.resourcesPath,"elevate.exe"),[t].concat(n)).catch(e=>this.dispatchError(e))};return e.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),s(),!0):(this.spawnLog(t,n).catch(e=>{const n=e.code;this._logger.info(`Cannot run installer: error code: ${n}, error message: "${e.message}", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT`),"UNKNOWN"===n||"EACCES"===n?s():"ENOENT"===n?r(1288).shell.openPath(t).catch(e=>this.dispatchError(e)):this.dispatchError(e)}),!0)}async differentialDownloadWebPackage(e,t,r,i){if(null==t.blockMapSize)return!0;try{const c={newUrl:new p.URL(t.path),oldFile:o.join(this.downloadedUpdateHelper.cacheDir,n.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:r,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,cancellationToken:e.cancellationToken};this.listenerCount(a.DOWNLOAD_PROGRESS)>0&&(c.onProgress=e=>this.emit(a.DOWNLOAD_PROGRESS,e)),await new s.FileWithEmbeddedBlockMapDifferentialDownloader(t,this.httpExecutor,c).download()}catch(e){return this._logger.error(`Cannot download differentially, fallback to full download: ${e.stack||e}`),"win32"===process.platform}return!1}}t.NsisUpdater=d},805:(e,t,r)=>{"use strict";const n=r(6928);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(n.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},857:e=>{"use strict";e.exports=require("os")},885:(e,t,r)=>{"use strict";const n=r(61),o=r(7791);class i{static instances={};dependencies={};errorHandler=null;eventLogger=null;functions={};hooks=[];isDev=!1;levels=null;logId=null;scope=null;transports={};variables={};constructor({allowUnknownLevel:e=!1,dependencies:t={},errorHandler:r,eventLogger:s,initializeFn:a,isDev:c=!1,levels:l=["error","warn","info","verbose","debug","silly"],logId:u,transportFactories:p={},variables:d}={}){this.addLevel=this.addLevel.bind(this),this.create=this.create.bind(this),this.initialize=this.initialize.bind(this),this.logData=this.logData.bind(this),this.processMessage=this.processMessage.bind(this),this.allowUnknownLevel=e,this.buffering=new o(this),this.dependencies=t,this.initializeFn=a,this.isDev=c,this.levels=l,this.logId=u,this.scope=n(this),this.transportFactories=p,this.variables=d||{};for(const e of this.levels)this.addLevel(e,!1);this.log=this.info,this.functions.log=this.log,this.errorHandler=r,r?.setOptions({...t,logFn:this.error}),this.eventLogger=s,s?.setOptions({...t,logger:this});for(const[e,r]of Object.entries(p))this.transports[e]=r(this,t);i.instances[u]=this}static getInstance({logId:e}){return this.instances[e]||this.instances.default}addLevel(e,t=this.levels.length){!1!==t&&this.levels.splice(t,0,e),this[e]=(...t)=>this.logData(t,{level:e}),this.functions[e]=this[e]}catchErrors(e){return this.processMessage({data:["log.catchErrors is deprecated. Use log.errorHandler instead"],level:"warn"},{transports:["console"]}),this.errorHandler.startCatching(e)}create(e){return"string"==typeof e&&(e={logId:e}),new i({dependencies:this.dependencies,errorHandler:this.errorHandler,initializeFn:this.initializeFn,isDev:this.isDev,transportFactories:this.transportFactories,variables:{...this.variables},...e})}compareLevels(e,t,r=this.levels){const n=r.indexOf(e),o=r.indexOf(t);return-1===o||-1===n||o<=n}initialize(e={}){this.initializeFn({logger:this,...this.dependencies,...e})}logData(e,t={}){this.buffering.enabled?this.buffering.addMessage({data:e,date:new Date,...t}):this.processMessage({data:e,...t})}processMessage(e,{transports:t=this.transports}={}){if("errorHandler"===e.cmd)return void this.errorHandler.handle(e.error,{errorName:e.errorName,processType:"renderer",showDialog:Boolean(e.showDialog)});let r=e.level;this.allowUnknownLevel||(r=this.levels.includes(e.level)?e.level:"info");const n={date:new Date,logId:this.logId,...e,level:r,variables:{...this.variables,...e.variables}};for(const[r,o]of this.transportEntries(t))if("function"==typeof o&&!1!==o.level&&this.compareLevels(o.level,e.level))try{const e=this.hooks.reduce((e,t)=>e?t(e,o,r):e,n);e&&o({...e,data:[...e.data]})}catch(e){this.processInternalErrorFn(e)}}processInternalErrorFn(e){}transportEntries(e=this.transports){return(Array.isArray(e)?e:Object.entries(e)).map(e=>{switch(typeof e){case"string":return this.transports[e]?[e,this.transports[e]]:null;case"function":return[e.name,e];default:return Array.isArray(e)?e:null}}).filter(Boolean)}}e.exports=i},906:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newBaseUrl=function(e){const t=new n.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t},t.newUrlFromBase=i,t.getChannelFilename=function(e){return`${e}.yml`},t.blockmapFiles=function(e,t,r){const n=i(`${e.pathname}.blockmap`,e);return[i(`${e.pathname.replace(new RegExp(o(r),"g"),t)}.blockmap`,e),n]};const n=r(7016),o=r(912);function i(e,t,r=!1){const o=new n.URL(e,t),i=t.search;return null!=i&&0!==i.length?o.search=i:r&&(o.search=`noCache=${Date.now().toString(32)}`),o}},909:(e,t,r)=>{"use strict";const n=r(3908);e.exports=(e,t,r)=>{const o=new n(e,r),i=new n(t,r);return o.compare(i)||o.compareBuild(i)}},910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElectronAppAdapter=void 0;const n=r(6928),o=r(6176);t.ElectronAppAdapter=class{constructor(e=r(1288).app){this.app=e}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return!0===this.app.isPackaged}get appUpdateConfigPath(){return this.isPackaged?n.join(process.resourcesPath,"app-update.yml"):n.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,o.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(e){this.app.once("quit",(t,r)=>e(r))}}},912:e=>{var t=/[\\^$.*+?()[\]{}|]/g,r=RegExp(t.source),n="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")(),s=Object.prototype.toString,a=i.Symbol,c=a?a.prototype:void 0,l=c?c.toString:void 0;e.exports=function(e){var n;return(e=null==(n=e)?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(n))&&r.test(e)?e.replace(t,"\\$&"):e}},1005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PacmanUpdater=void 0;const n=r(9322),o=r(3765),i=r(5776);class s extends n.BaseUpdater{constructor(e,t){super(e,t)}doDownloadUpdate(e){const t=e.updateInfoAndProvider.provider,r=(0,i.findFile)(t.resolveFiles(e.updateInfoAndProvider.info),"pacman",["AppImage","deb","rpm"]);return this.executeDownload({fileExtension:"pacman",fileInfo:r,downloadUpdateOptions:e,task:async(e,t)=>{this.listenerCount(o.DOWNLOAD_PROGRESS)>0&&(t.onProgress=e=>this.emit(o.DOWNLOAD_PROGRESS,e)),await this.httpExecutor.download(r.url,e,t)}})}get installerPath(){var e,t;return null!==(t=null===(e=super.installerPath)||void 0===e?void 0:e.replace(/ /g,"\\ "))&&void 0!==t?t:null}doInstall(e){const t=this.wrapSudo(),r=/pkexec/i.test(t)?"":'"',n=this.installerPath;if(null==n)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;const o=["pacman","-U","--noconfirm",n];return this.spawnSyncLog(t,[`${r}/bin/bash`,"-c",`'${o.join(" ")}'${r}`]),e.isForceRunAfter&&this.app.relaunch(),!0}}t.PacmanUpdater=s},1030:(e,t,r)=>{"use strict";const{stringify:n}=r(8698),{outputFileSync:o}=r(7542);e.exports=function(e,t,r){const i=n(t,r);o(e,i,r)}},1123:e=>{"use strict";const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},1203:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GitHubProvider=t.BaseGitHubProvider=void 0,t.computeReleaseNotes=p;const n=r(5129),o=r(9589),i=r(7016),s=r(906),a=r(5776),c=/\/tag\/([^/]+)$/;class l extends a.Provider{constructor(e,t,r){super({...r,isUseMultipleRangeRequest:!1}),this.options=e,this.baseUrl=(0,s.newBaseUrl)((0,n.githubUrl)(e,t));const o="github.com"===t?"api.github.com":t;this.baseApiUrl=(0,s.newBaseUrl)((0,n.githubUrl)(e,o))}computeGithubBasePath(e){const t=this.options.host;return t&&!["github.com","api.github.com"].includes(t)?`/api/v3${e}`:e}}function u(e){const t=e.elementValueOrEmpty("content");return"No content."===t?"":t}function p(e,t,r,n){if(!t)return u(n);const i=[];for(const t of r.getElements("entry")){const r=/\/tag\/v?([^/]+)$/.exec(t.element("link").attribute("href"))[1];o.lt(e,r)&&i.push({version:r,note:u(t)})}return i.sort((e,t)=>o.rcompare(e.version,t.version))}t.BaseGitHubProvider=l,t.GitHubProvider=class extends l{constructor(e,t,r){super(e,"github.com",r),this.options=e,this.updater=t}get channel(){const e=this.updater.channel||this.options.channel;return null==e?this.getDefaultChannelName():this.getCustomChannelName(e)}async getLatestVersion(){var e,t,r,i,l;const u=new n.CancellationToken,d=await this.httpRequest((0,s.newUrlFromBase)(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},u),h=(0,n.parseXml)(d);let f,g=h.element("entry",!1,"No published versions on GitHub"),m=null;try{if(this.updater.allowPrerelease){const n=(null===(e=this.updater)||void 0===e?void 0:e.channel)||(null===(t=o.prerelease(this.updater.currentVersion))||void 0===t?void 0:t[0])||null;if(null===n)m=c.exec(g.element("link").attribute("href"))[1];else for(const e of h.getElements("entry")){const t=c.exec(e.element("link").attribute("href"));if(null===t)continue;const i=t[1],s=(null===(r=o.prerelease(i))||void 0===r?void 0:r[0])||null,a=!n||["alpha","beta"].includes(n),l=null!==s&&!["alpha","beta"].includes(String(s));if(a&&!l&&("beta"!==n||"alpha"!==s)){m=i;break}if(s&&s===n){m=i;break}}}else{m=await this.getLatestTagName(u);for(const e of h.getElements("entry"))if(c.exec(e.element("link").attribute("href"))[1]===m){g=e;break}}}catch(e){throw(0,n.newError)(`Cannot parse releases feed: ${e.stack||e.message},\nXML:\n${d}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(null==m)throw(0,n.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let y="",v="";const E=async e=>{y=(0,s.getChannelFilename)(e),v=(0,s.newUrlFromBase)(this.getBaseDownloadPath(String(m),y),this.baseUrl);const t=this.createRequestOptions(v);try{return await this.executor.request(t,u)}catch(e){if(e instanceof n.HttpError&&404===e.statusCode)throw(0,n.newError)(`Cannot find ${y} in the latest release artifacts (${v}): ${e.stack||e.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");throw e}};try{let e=this.channel;this.updater.allowPrerelease&&(null===(i=o.prerelease(m))||void 0===i?void 0:i[0])&&(e=this.getCustomChannelName(String(null===(l=o.prerelease(m))||void 0===l?void 0:l[0]))),f=await E(e)}catch(e){if(!this.updater.allowPrerelease)throw e;f=await E(this.getDefaultChannelName())}const w=(0,a.parseUpdateInfo)(f,y,v);return null==w.releaseName&&(w.releaseName=g.elementValueOrEmpty("title")),null==w.releaseNotes&&(w.releaseNotes=p(this.updater.currentVersion,this.updater.fullChangelog,h,g)),{tag:m,...w}}async getLatestTagName(e){const t=this.options,r=null==t.host||"github.com"===t.host?(0,s.newUrlFromBase)(`${this.basePath}/latest`,this.baseUrl):new i.URL(`${this.computeGithubBasePath(`/repos/${t.owner}/${t.repo}/releases`)}/latest`,this.baseApiUrl);try{const t=await this.httpRequest(r,{Accept:"application/json"},e);return null==t?null:JSON.parse(t).tag_name}catch(e){throw(0,n.newError)(`Unable to find latest version on GitHub (${r}), please ensure a production release exists: ${e.stack||e.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(e){return(0,a.resolveFiles)(e,this.baseUrl,t=>this.getBaseDownloadPath(e.tag,t.replace(/ /g,"-")))}getBaseDownloadPath(e,t){return`${this.basePath}/download/${e}/${t}`}}},1231:e=>{"use strict";function t(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function r(e,r){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=r,this.message=t(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(e){return this.name+": "+t(this,e)},e.exports=r},1261:(e,t,r)=>{"use strict";const n=r(3908),o=r(8311),i=r(5580);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let s=null;o.forEach(e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!i(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}),!s||r&&!i(r,s)||(r=s)}return r&&e.test(r)?r:null}},1283:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var r={__proto__:t(e)};else r=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}),r};var t=Object.getPrototypeOf||function(e){return e.__proto__}},1288:e=>{"use strict";e.exports=require("electron")},1296:(e,t,r)=>{"use strict";const n=r(9023);function o(e={}){const t=new WeakSet;return function(r,n){if("object"==typeof n&&null!==n){if(t.has(n))return;t.add(n)}return i(0,n,e)}}function i(e,t,r={}){const n=!1!==r?.serializeMapAndSet;return t instanceof Error?t.stack:t?"function"==typeof t?`[function] ${t.toString()}`:t instanceof Date?t.toISOString():n&&t instanceof Map&&Object.fromEntries?Object.fromEntries(t):n&&t instanceof Set&&Array.from?Array.from(t):t:t}e.exports={serialize:i,maxDepth({data:t,transport:r,depth:n=r?.depth??6}){if(!t)return t;if(n<1)return Array.isArray(t)?"[array]":"object"==typeof t&&t?"[object]":t;if(Array.isArray(t))return t.map(t=>e.exports.maxDepth({data:t,depth:n-1}));if("object"!=typeof t)return t;if(t&&"function"==typeof t.toISOString)return t;if(null===t)return null;if(t instanceof Error)return t;const o={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=e.exports.maxDepth({data:t[r],depth:n-1}));return o},toJSON:({data:e})=>JSON.parse(JSON.stringify(e,o())),toString({data:e,transport:t}){const r=t?.inspectOptions||{},i=e.map(e=>{if(void 0!==e)try{const t=JSON.stringify(e,o(),"  ");return void 0===t?void 0:JSON.parse(t)}catch(t){return e}});return n.formatWithOptions(r,...i)}}},1305:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.OperationKind=void 0,t.computeOperations=function(e,t,n){const s=i(e.files),a=i(t.files);let c=null;const l=t.files[0],u=[],p=l.name,d=s.get(p);if(null==d)throw new Error(`no file ${p} in old blockmap`);const h=a.get(p);let f=0;const{checksumToOffset:g,checksumToOldSize:m}=function(e,t,r){const n=new Map,o=new Map;let i=t;for(let t=0;t<e.checksums.length;t++){const s=e.checksums[t],a=e.sizes[t],c=o.get(s);if(void 0===c)n.set(s,i),o.set(s,a);else if(null!=r.debug){const e=c===a?"(same size)":`(size: ${c}, this size: ${a})`;r.debug(`${s} duplicated in blockmap ${e}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}i+=a}return{checksumToOffset:n,checksumToOldSize:o}}(s.get(p),d.offset,n);let y=l.offset;for(let e=0;e<h.checksums.length;y+=h.sizes[e],e++){const t=h.sizes[e],i=h.checksums[e];let s=g.get(i);null!=s&&m.get(i)!==t&&(n.warn(`Checksum ("${i}") matches, but size differs (old: ${m.get(i)}, new: ${t})`),s=void 0),void 0===s?(f++,null!=c&&c.kind===r.DOWNLOAD&&c.end===y?c.end+=t:(c={kind:r.DOWNLOAD,start:y,end:y+t},o(c,u,i,e))):null!=c&&c.kind===r.COPY&&c.end===s?c.end+=t:(c={kind:r.COPY,start:s,end:s+t},o(c,u,i,e))}return f>0&&n.info(`File${"file"===l.name?"":" "+l.name} has ${f} changed blocks`),u},function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"}(r||(t.OperationKind=r={}));const n="true"===process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES;function o(e,t,o,i){if(n&&0!==t.length){const n=t[t.length-1];if(n.kind===e.kind&&e.start<n.end&&e.start>n.start){const t=[n.start,n.end,e.start,e.end].reduce((e,t)=>e<t?e:t);throw new Error(`operation (block index: ${i}, checksum: ${o}, kind: ${r[e.kind]}) overlaps previous operation (checksum: ${o}):\nabs: ${n.start} until ${n.end} and ${e.start} until ${e.end}\nrel: ${n.start-t} until ${n.end-t} and ${e.start-t} until ${e.end-t}`)}}t.push(e)}function i(e){const t=new Map;for(const r of e)t.set(r.name,r);return t}},1325:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitbucketProvider=void 0;const n=r(5129),o=r(906),i=r(5776);class s extends i.Provider{constructor(e,t,r){super({...r,isUseMultipleRangeRequest:!1}),this.configuration=e,this.updater=t;const{owner:n,slug:i}=e;this.baseUrl=(0,o.newBaseUrl)(`https://api.bitbucket.org/2.0/repositories/${n}/${i}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const e=new n.CancellationToken,t=(0,o.getChannelFilename)(this.getCustomChannelName(this.channel)),r=(0,o.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);try{const n=await this.httpRequest(r,void 0,e);return(0,i.parseUpdateInfo)(n,t,r)}catch(e){throw(0,n.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${e.stack||e.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(e){return(0,i.resolveFiles)(e,this.baseUrl)}toString(){const{owner:e,slug:t}=this.configuration;return`Bitbucket (owner: ${e}, slug: ${t}, channel: ${this.channel})`}}t.BitbucketProvider=s},1461:(e,t,r)=>{"use strict";var n=r(8433),o=r(5388),i=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),s=/^[-+]?[0-9]+e/;e.exports=new o("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!i.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||n.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(n.isNegativeZero(e))return"-0.0";return r=e.toString(10),s.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"})},1548:(e,t,r)=>{"use strict";const n=r(9896),o=r(857),i=r(6928),s=r(5255),{transform:a}=r(8915),{removeStyles:c}=r(6230),{format:l,concatFirstStringElements:u}=r(1640),{toString:p}=r(1296);e.exports=function(e,{registry:t=d,externalApi:r}={}){let s;return t.listenerCount("error")<1&&t.on("error",(e,t)=>{m(`Can't write to ${t}`,e)}),Object.assign(f,{fileName:h(e.variables.processType),format:"[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",getFile:y,inspectOptions:{depth:5},level:"silly",maxSize:1048576,readAllLogs:function({fileFilter:e=e=>e.endsWith(".log")}={}){g();const t=i.dirname(f.resolvePathFn(s));return n.existsSync(t)?n.readdirSync(t).map(e=>i.join(t,e)).filter(e).map(e=>{try{return{path:e,lines:n.readFileSync(e,"utf8").split(o.EOL)}}catch{return null}}).filter(Boolean):[]},sync:!0,transforms:[c,l,u,p],writeOptions:{flag:"a",mode:438,encoding:"utf8"},archiveLogFn(e){const t=e.toString(),r=i.parse(t);try{n.renameSync(t,i.join(r.dir,`${r.name}.old${r.ext}`))}catch(t){m("Could not rotate log",t);const r=Math.round(f.maxSize/4);e.crop(Math.min(r,262144))}},resolvePathFn:e=>i.join(e.libraryDefaultDir,e.fileName),setAppName(t){e.dependencies.externalApi.setAppName(t)}});function f(t){const r=y(t);f.maxSize>0&&r.size>f.maxSize&&(f.archiveLogFn(r),r.reset());const n=a({logger:e,message:t,transport:f});r.writeLine(n)}function g(){s||(s=Object.create(Object.prototype,{...Object.getOwnPropertyDescriptors(r.getPathVariables()),fileName:{get:()=>f.fileName,enumerable:!0}}),"function"==typeof f.archiveLog&&(f.archiveLogFn=f.archiveLog,m("archiveLog is deprecated. Use archiveLogFn instead")),"function"==typeof f.resolvePath&&(f.resolvePathFn=f.resolvePath,m("resolvePath is deprecated. Use resolvePathFn instead")))}function m(t,r=null,n="error"){const o=[`electron-log.transports.file: ${t}`];r&&o.push(r),e.transports.console({data:o,date:new Date,level:n})}function y(e){g();const r=f.resolvePathFn(s,e);return t.provide({filePath:r,writeAsync:!f.sync,writeOptions:f.writeOptions})}};const d=new s;function h(e=process.type){switch(e){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}},1619:(e,t,r)=>{"use strict";const n=r(3735),o=r(6928),i=r(2613),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||n[t],e[t+="Sync"]=e[t]||n[t]}),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,r){let n=0;"function"==typeof t&&(r=t,t={}),i(e,"rimraf: missing path"),i.strictEqual(typeof e,"string","rimraf: path should be a string"),i.strictEqual(typeof r,"function","rimraf: callback function required"),i(t,"rimraf: invalid options argument provided"),i.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),l(e,t,function o(i){if(i){if(("EBUSY"===i.code||"ENOTEMPTY"===i.code||"EPERM"===i.code)&&n<t.maxBusyTries)return n++,setTimeout(()=>l(e,t,o),100*n);"ENOENT"===i.code&&(i=null)}r(i)})}function l(e,t,r){i(e),i(t),i("function"==typeof r),t.lstat(e,(n,o)=>n&&"ENOENT"===n.code?r(null):n&&"EPERM"===n.code&&s?u(e,t,n,r):o&&o.isDirectory()?d(e,t,n,r):void t.unlink(e,n=>{if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return s?u(e,t,n,r):d(e,t,n,r);if("EISDIR"===n.code)return d(e,t,n,r)}return r(n)}))}function u(e,t,r,n){i(e),i(t),i("function"==typeof n),t.chmod(e,438,o=>{o?n("ENOENT"===o.code?null:r):t.stat(e,(o,i)=>{o?n("ENOENT"===o.code?null:r):i.isDirectory()?d(e,t,r,n):t.unlink(e,n)})})}function p(e,t,r){let n;i(e),i(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw r}try{n=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw r}n.isDirectory()?f(e,t,r):t.unlinkSync(e)}function d(e,t,r,n){i(e),i(t),i("function"==typeof n),t.rmdir(e,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?n(r):n(s):function(e,t,r){i(e),i(t),i("function"==typeof r),t.readdir(e,(n,i)=>{if(n)return r(n);let s,a=i.length;if(0===a)return t.rmdir(e,r);i.forEach(n=>{c(o.join(e,n),t,n=>{if(!s)return n?r(s=n):void(0===--a&&t.rmdir(e,r))})})})}(e,t,n)})}function h(e,t){let r;a(t=t||{}),i(e,"rimraf: missing path"),i.strictEqual(typeof e,"string","rimraf: path should be a string"),i(t,"rimraf: missing options"),i.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&s&&p(e,t,r)}try{r&&r.isDirectory()?f(e,t,null):t.unlinkSync(e)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return s?p(e,t,r):f(e,t,r);if("EISDIR"!==r.code)throw r;f(e,t,r)}}function f(e,t,r){i(e),i(t);try{t.rmdirSync(e)}catch(n){if("ENOTDIR"===n.code)throw r;if("ENOTEMPTY"===n.code||"EEXIST"===n.code||"EPERM"===n.code)!function(e,t){if(i(e),i(t),t.readdirSync(e).forEach(r=>h(o.join(e,r),t)),!s)return t.rmdirSync(e,t);{const r=Date.now();do{try{return t.rmdirSync(e,t)}catch{}}while(Date.now()-r<500)}}(e,t);else if("ENOENT"!==n.code)throw n}}e.exports=c,c.sync=h},1640:(e,t,r)=>{"use strict";const{transform:n}=r(8915);function o(e){const t=Math.abs(e);return`${e>0?"-":"+"}${Math.floor(t/60).toString().padStart(2,"0")}:${(t%60).toString().padStart(2,"0")}`}function i({data:e,logger:t,message:r}){const{defaultLabel:n,labelLength:o}=t?.scope||{},i=e[0];let s,a=r.scope;return a||(a=n),s=""===a?o>0?"".padEnd(o+3):"":"string"==typeof a?` (${a})`.padEnd(o+3):"",e[0]=i.replace("{scope}",s),e}function s({data:e,message:t}){let r=e[0];if("string"!=typeof r)return e;r=r.replace("{level}]",`${t.level}]`.padEnd(6," "));const n=t.date||new Date;return e[0]=r.replace(/\{(\w+)}/g,(e,r)=>{switch(r){case"level":return t.level||"info";case"logId":return t.logId;case"y":return n.getFullYear().toString(10);case"m":return(n.getMonth()+1).toString(10).padStart(2,"0");case"d":return n.getDate().toString(10).padStart(2,"0");case"h":return n.getHours().toString(10).padStart(2,"0");case"i":return n.getMinutes().toString(10).padStart(2,"0");case"s":return n.getSeconds().toString(10).padStart(2,"0");case"ms":return n.getMilliseconds().toString(10).padStart(3,"0");case"z":return o(n.getTimezoneOffset());case"iso":return n.toISOString();default:return t.variables?.[r]||e}}).trim(),e}function a({data:e}){const t=e[0];if("string"!=typeof t)return e;if(t.lastIndexOf("{text}")===t.length-6)return e[0]=t.replace(/\s?{text}/,""),""===e[0]&&e.shift(),e;const r=t.split("{text}");let n=[];return""!==r[0]&&n.push(r[0]),n=n.concat(e.slice(1)),""!==r[1]&&n.push(r[1]),n}e.exports={concatFirstStringElements:function({data:e}){return"string"!=typeof e[0]||"string"!=typeof e[1]||e[0].match(/%[1cdfiOos]/)?e:[`${e[0]} ${e[1]}`,...e.slice(2)]},formatScope:i,formatText:a,formatVariables:s,timeZoneFromOffset:o,format({message:e,logger:t,transport:r,data:o=e?.data}){switch(typeof r.format){case"string":return n({message:e,logger:t,transforms:[s,i,a],transport:r,initialData:[r.format,...o]});case"function":return r.format({data:o,level:e?.level||"info",logger:t,message:e,transport:r});default:return o}}}},1729:(e,t,r)=>{"use strict";const n=r(144);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},1763:(e,t,r)=>{"use strict";const n=r(560);e.exports=(e,t)=>n(e,t,!0)},1769:(e,t,r)=>{"use strict";e.exports=r(6184)},1832:(e,t,r)=>{"use strict";const n=r(144);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),i=r.compare(o);if(0===i)return null;const s=i>0,a=s?r:o,c=s?o:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l){if(!c.patch&&!c.minor)return"major";if(0===c.compareMain(a))return c.minor&&!c.patch?"minor":"patch"}const u=l?"pre":"";return r.major!==o.major?u+"major":r.minor!==o.minor?u+"minor":r.patch!==o.patch?u+"patch":"prerelease"}},1851:(e,t,r)=>{"use strict";var n=r(5388);e.exports=new n("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},1972:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const n=r(8799),o=r(9),i=r(3106);class s extends o.DifferentialDownloader{async download(){const e=this.blockAwareFileInfo,t=e.size,r=t-(e.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(r,t-1);const o=a(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await async function(e){const t=await(0,n.open)(e,"r");try{const e=(await(0,n.fstat)(t)).size,r=Buffer.allocUnsafe(4);await(0,n.read)(t,r,0,r.length,e-r.length);const o=Buffer.allocUnsafe(r.readUInt32BE(0));return await(0,n.read)(t,o,0,o.length,e-r.length-o.length),await(0,n.close)(t),a(o)}catch(e){throw await(0,n.close)(t),e}}(this.options.oldFile),o)}}function a(e){return JSON.parse((0,i.inflateRawSync)(e).toString())}t.FileWithEmbeddedBlockMapDifferentialDownloader=s},1995:(e,t,r)=>{var n=r(2203).Stream;e.exports=function(e){return{ReadStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this);var i=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var s=Object.keys(o),a=0,c=s.length;a<c;a++){var l=s[a];this[l]=o[l]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,function(e,t){if(e)return i.emit("error",e),void(i.readable=!1);i.fd=t,i.emit("open",t),i._read()}):process.nextTick(function(){i._read()})},WriteStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var i=Object.keys(o),s=0,a=i.length;s<a;s++){var c=i[s];this[c]=o[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},2018:e=>{"use strict";e.exports=require("tty")},2050:e=>{"use strict";e.exports=class{disposers=[];format="{eventSource}#{eventName}:";formatters={app:{"certificate-error":({args:e})=>this.arrayToObject(e.slice(1,4),["url","error","certificate"]),"child-process-gone":({args:e})=>1===e.length?e[0]:e,"render-process-gone":({args:[e,t]})=>t&&"object"==typeof t?{...t,...this.getWebContentsDetails(e)}:[]},webContents:{"console-message":({args:[e,t,r,n]})=>{if(!(e<3))return{message:t,source:`${n}:${r}`}},"did-fail-load":({args:e})=>this.arrayToObject(e,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"did-fail-provisional-load":({args:e})=>this.arrayToObject(e,["errorCode","errorDescription","validatedURL","isMainFrame","frameProcessId","frameRoutingId"]),"plugin-crashed":({args:e})=>this.arrayToObject(e,["name","version"]),"preload-error":({args:e})=>this.arrayToObject(e,["preloadPath","error"])}};events={app:{"certificate-error":!0,"child-process-gone":!0,"render-process-gone":!0},webContents:{"did-fail-load":!0,"did-fail-provisional-load":!0,"plugin-crashed":!0,"preload-error":!0,unresponsive:!0}};externalApi=void 0;level="error";scope="";constructor(e={}){this.setOptions(e)}setOptions({events:e,externalApi:t,level:r,logger:n,format:o,formatters:i,scope:s}){"object"==typeof e&&(this.events=e),"object"==typeof t&&(this.externalApi=t),"string"==typeof r&&(this.level=r),"object"==typeof n&&(this.logger=n),"string"!=typeof o&&"function"!=typeof o||(this.format=o),"object"==typeof i&&(this.formatters=i),"string"==typeof s&&(this.scope=s)}startLogging(e={}){this.setOptions(e),this.disposeListeners();for(const e of this.getEventNames(this.events.app))this.disposers.push(this.externalApi.onAppEvent(e,(...t)=>{this.handleEvent({eventSource:"app",eventName:e,handlerArgs:t})}));for(const e of this.getEventNames(this.events.webContents))this.disposers.push(this.externalApi.onEveryWebContentsEvent(e,(...t)=>{this.handleEvent({eventSource:"webContents",eventName:e,handlerArgs:t})}))}stopLogging(){this.disposeListeners()}arrayToObject(e,t){const r={};return t.forEach((t,n)=>{r[t]=e[n]}),e.length>t.length&&(r.unknownArgs=e.slice(t.length)),r}disposeListeners(){this.disposers.forEach(e=>e()),this.disposers=[]}formatEventLog({eventName:e,eventSource:t,handlerArgs:r}){const[n,...o]=r;if("function"==typeof this.format)return this.format({args:o,event:n,eventName:e,eventSource:t});const i=this.formatters[t]?.[e];let s=o;if("function"==typeof i&&(s=i({args:o,event:n,eventName:e,eventSource:t})),!s)return;const a={};return Array.isArray(s)?a.args=s:"object"==typeof s&&Object.assign(a,s),"webContents"===t&&Object.assign(a,this.getWebContentsDetails(n?.sender)),[this.format.replace("{eventSource}","app"===t?"App":"WebContents").replace("{eventName}",e),a]}getEventNames(e){return e&&"object"==typeof e?Object.entries(e).filter(([e,t])=>t).map(([e])=>e):[]}getWebContentsDetails(e){if(!e?.loadURL)return{};try{return{webContents:{id:e.id,url:e.getURL()}}}catch{return{}}}handleEvent({eventName:e,eventSource:t,handlerArgs:r}){const n=this.formatEventLog({eventName:e,eventSource:t,handlerArgs:r});if(n){const e=this.scope?this.logger.scope(this.scope):this.logger;e?.[this.level]?.(...n)}}}},2057:(e,t,r)=>{"use strict";const n=r(3950).fromCallback;e.exports={copy:n(r(2492)),copySync:r(2958)}},2088:(e,t,r)=>{"use strict";const n=r(6928),o=r(407);e.exports=class extends o{electron=void 0;constructor({electron:e}={}){super(),this.electron=e}getAppName(){let e;try{e=this.appName||this.electron.app?.name||this.electron.app?.getName()}catch{}return e||super.getAppName()}getAppUserDataPath(e){return this.getPath("userData")||super.getAppUserDataPath(e)}getAppVersion(){let e;try{e=this.electron.app?.getVersion()}catch{}return e||super.getAppVersion()}getElectronLogPath(){return this.getPath("logs")||super.getElectronLogPath()}getPath(e){try{return this.electron.app?.getPath(e)}catch{return}}getVersions(){return{app:`${this.getAppName()} ${this.getAppVersion()}`,electron:`Electron ${process.versions.electron}`,os:this.getOsVersion()}}getSystemPathAppData(){return this.getPath("appData")||super.getSystemPathAppData()}isDev(){return void 0!==this.electron.app?.isPackaged?!this.electron.app.isPackaged:"string"==typeof process.execPath?n.basename(process.execPath).toLowerCase().startsWith("electron"):super.isDev()}onAppEvent(e,t){return this.electron.app?.on(e,t),()=>{this.electron.app?.off(e,t)}}onAppReady(e){this.electron.app?.isReady()?e():this.electron.app?.once?this.electron.app?.once("ready",e):e()}onEveryWebContentsEvent(e,t){return this.electron.webContents?.getAllWebContents()?.forEach(r=>{r.on(e,t)}),this.electron.app?.on("web-contents-created",r),()=>{this.electron.webContents?.getAllWebContents().forEach(r=>{r.off(e,t)}),this.electron.app?.off("web-contents-created",r)};function r(r,n){n.on(e,t)}}onIpc(e,t){this.electron.ipcMain?.on(e,t)}onIpcInvoke(e,t){this.electron.ipcMain?.handle?.(e,t)}openUrl(e,t=console.error){this.electron.shell?.openExternal(e).catch(t)}setPreloadFileForSessions({filePath:e,includeFutureSession:t=!0,getSessions:r=()=>[this.electron.session?.defaultSession]}){for(const e of r().filter(Boolean))n(e);function n(t){"function"==typeof t.registerPreloadScript?t.registerPreloadScript({filePath:e,id:"electron-log-preload",type:"frame"}):t.setPreloads([...t.getPreloads(),e])}t&&this.onAppEvent("session-created",e=>{n(e)})}sendIpc(e,t){this.electron.BrowserWindow?.getAllWindows()?.forEach(r=>{!1===r.webContents?.isDestroyed()&&!1===r.webContents?.isCrashed()&&r.webContents.send(e,t)})}showErrorBox(e,t){this.electron.dialog?.showErrorBox(e,t)}}},2111:(e,t,r)=>{"use strict";const n=r(4641),o=r(3999),i=r(5580),s=r(4089),a=r(7059),c=r(5200);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return o(e,r,l);case">":return i(e,r,l);case">=":return s(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},2119:(e,t,r)=>{"use strict";var n=r(1231),o=r(5388);function i(e,t){var r=[];return e[t].forEach(function(e){var t=r.length;r.forEach(function(r,n){r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi&&(t=n)}),r[t]=e}),r}function s(e){return this.extend(e)}s.prototype.extend=function(e){var t=[],r=[];if(e instanceof o)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new n("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach(function(e){if(!(e instanceof o))throw new n("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new n("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new n("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(e){if(!(e instanceof o))throw new n("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(s.prototype);return a.implicit=(this.implicit||[]).concat(t),a.explicit=(this.explicit||[]).concat(r),a.compiledImplicit=i(a,"implicit"),a.compiledExplicit=i(a,"explicit"),a.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(a.compiledImplicit,a.compiledExplicit),a},e.exports=s},2203:e=>{"use strict";e.exports=require("stream")},2369:(e,t,r)=>{"use strict";var n=r(5388);e.exports=new n("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},2444:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericDifferentialDownloader=void 0;const n=r(9);class o extends n.DifferentialDownloader{download(e,t){return this.doDownload(e,t)}}t.GenericDifferentialDownloader=o},2474:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadedUpdateHelper=void 0,t.createTempUpdateFile=async function(e,t,r){let n=0,o=a.join(t,e);for(let i=0;i<3;i++)try{return await(0,s.unlink)(o),o}catch(i){if("ENOENT"===i.code)return o;r.warn(`Error on remove temp update file: ${i}`),o=a.join(t,`${n++}-${e}`)}return o};const n=r(6982),o=r(9896),i=r(8142),s=r(8799),a=r(6928);t.DownloadedUpdateHelper=class{constructor(e){this.cacheDir=e,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return a.join(this.cacheDir,"pending")}async validateDownloadedPath(e,t,r,n){if(null!=this.versionInfo&&this.file===e&&null!=this.fileInfo)return i(this.versionInfo,t)&&i(this.fileInfo.info,r.info)&&await(0,s.pathExists)(e)?e:null;const o=await this.getValidCachedUpdateFile(r,n);return null===o?null:(n.info(`Update has already been downloaded to ${e}).`),this._file=o,o)}async setDownloadedFile(e,t,r,n,o,i){this._file=e,this._packageFile=t,this.versionInfo=r,this.fileInfo=n,this._downloadedFileInfo={fileName:o,sha512:n.info.sha512,isAdminRightsRequired:!0===n.info.isAdminRightsRequired},i&&await(0,s.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,s.emptyDir)(this.cacheDirForPendingUpdate)}catch(e){}}async getValidCachedUpdateFile(e,t){const r=this.getUpdateInfoFile();if(!await(0,s.pathExists)(r))return null;let i;try{i=await(0,s.readJson)(r)}catch(e){let r="No cached update info available";return"ENOENT"!==e.code&&(await this.cleanCacheDirForPendingUpdate(),r+=` (error on read: ${e.message})`),t.info(r),null}if(null===(null==i?void 0:i.fileName))return t.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(e.info.sha512!==i.sha512)return t.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${i.sha512}, expected: ${e.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const c=a.join(this.cacheDirForPendingUpdate,i.fileName);if(!await(0,s.pathExists)(c))return t.info("Cached update file doesn't exist"),null;const l=await function(e,t="sha512",r="base64",i){return new Promise((s,a)=>{const c=(0,n.createHash)(t);c.on("error",a).setEncoding(r),(0,o.createReadStream)(e,{...i,highWaterMark:1048576}).on("error",a).on("end",()=>{c.end(),s(c.read())}).pipe(c,{end:!1})})}(c);return e.info.sha512!==l?(t.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${l}, expected: ${e.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=i,c)}getUpdateInfoFile(){return a.join(this.cacheDirForPendingUpdate,"update-info.json")}}},2492:(e,t,r)=>{"use strict";const n=r(3735),o=r(6928),i=r(8860).mkdirs,s=r(6566).pathExists,a=r(9633).utimesMillis,c=r(396);function l(e,t,r,n,a){const c=o.dirname(r);s(c,(o,s)=>o?a(o):s?p(e,t,r,n,a):void i(c,o=>o?a(o):p(e,t,r,n,a)))}function u(e,t,r,n,o,i){Promise.resolve(o.filter(r,n)).then(s=>s?e(t,r,n,o,i):i(),e=>i(e))}function p(e,t,r,i,s){(i.dereference?n.stat:n.lstat)(t,(a,l)=>a?s(a):l.isDirectory()?function(e,t,r,o,i,s){return t?g(r,o,i,s):function(e,t,r,o,i){n.mkdir(r,n=>{if(n)return i(n);g(t,r,o,t=>t?i(t):f(r,e,i))})}(e.mode,r,o,i,s)}(l,e,t,r,i,s):l.isFile()||l.isCharacterDevice()||l.isBlockDevice()?function(e,t,r,o,i,s){return t?function(e,t,r,o,i){if(!o.overwrite)return o.errorOnExist?i(new Error(`'${r}' already exists`)):i();n.unlink(r,n=>n?i(n):d(e,t,r,o,i))}(e,r,o,i,s):d(e,r,o,i,s)}(l,e,t,r,i,s):l.isSymbolicLink()?function(e,t,r,i,s){n.readlink(t,(t,a)=>t?s(t):(i.dereference&&(a=o.resolve(process.cwd(),a)),e?void n.readlink(r,(t,l)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?n.symlink(a,r,s):s(t):(i.dereference&&(l=o.resolve(process.cwd(),l)),c.isSrcSubdir(a,l)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${l}'.`)):e.isDirectory()&&c.isSrcSubdir(l,a)?s(new Error(`Cannot overwrite '${l}' with '${a}'.`)):function(e,t,r){n.unlink(t,o=>o?r(o):n.symlink(e,t,r))}(a,r,s))):n.symlink(a,r,s)))}(e,t,r,i,s):l.isSocket()?s(new Error(`Cannot copy a socket file: ${t}`)):l.isFIFO()?s(new Error(`Cannot copy a FIFO pipe: ${t}`)):s(new Error(`Unknown file: ${t}`)))}function d(e,t,r,o,i){n.copyFile(t,r,n=>n?i(n):o.preserveTimestamps?function(e,t,r,n){return function(e){return!(128&e)}(e)?function(e,t,r){return f(e,128|t,r)}(r,e,o=>o?n(o):h(e,t,r,n)):h(e,t,r,n)}(e.mode,t,r,i):f(r,e.mode,i))}function h(e,t,r,o){!function(e,t,r){n.stat(e,(e,n)=>e?r(e):a(t,n.atime,n.mtime,r))}(t,r,t=>t?o(t):f(r,e,o))}function f(e,t,r){return n.chmod(e,t,r)}function g(e,t,r,o){n.readdir(e,(n,i)=>n?o(n):m(i,e,t,r,o))}function m(e,t,r,n,i){const s=e.pop();return s?function(e,t,r,n,i,s){const a=o.join(r,t),l=o.join(n,t);c.checkPaths(a,l,"copy",i,(t,o)=>{if(t)return s(t);const{destStat:c}=o;!function(e,t,r,n,o){n.filter?u(p,e,t,r,n,o):p(e,t,r,n,o)}(c,a,l,i,t=>t?s(t):m(e,r,n,i,s))})}(e,s,t,r,n,i):i()}e.exports=function(e,t,r,n){"function"!=typeof r||n?"function"==typeof r&&(r={filter:r}):(n=r,r={}),n=n||function(){},(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),c.checkPaths(e,t,"copy",r,(o,i)=>{if(o)return n(o);const{srcStat:s,destStat:a}=i;c.checkParentPaths(e,s,t,"copy",o=>o?n(o):r.filter?u(l,a,e,t,r,n):l(a,e,t,r,n))})}},2525:(e,t,r)=>{"use strict";const n=r(7638),o=r(560);e.exports=(e,t,r)=>{const i=[];let s=null,a=null;const c=e.sort((e,t)=>o(e,t,r));for(const e of c)n(e,t,r)?(a=e,s||(s=e)):(a&&i.push([s,a]),a=null,s=null);s&&i.push([s,null]);const l=[];for(const[e,t]of i)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},2613:e=>{"use strict";e.exports=require("assert")},2652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataSplitter=void 0,t.copyData=l;const n=r(5129),o=r(9896),i=r(2203),s=r(1305),a=Buffer.from("\r\n\r\n");var c;function l(e,t,r,n,i){const s=(0,o.createReadStream)("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});s.on("error",n),s.once("end",i),s.pipe(t,{end:!1})}!function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(c||(c={}));class u extends i.Writable{constructor(e,t,r,n,o,i){super(),this.out=e,this.options=t,this.partIndexToTaskIndex=r,this.partIndexToLength=o,this.finishHandler=i,this.partIndex=-1,this.headerListBuffer=null,this.readState=c.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=n.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(e,t,r){this.isFinished?console.error(`Trailing ignored data: ${e.length} bytes`):this.handleData(e).then(r).catch(r)}async handleData(e){let t=0;if(0!==this.ignoreByteCount&&0!==this.remainingPartDataCount)throw(0,n.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const r=Math.min(this.ignoreByteCount,e.length);this.ignoreByteCount-=r,t=r}else if(this.remainingPartDataCount>0){const r=Math.min(this.remainingPartDataCount,e.length);this.remainingPartDataCount-=r,await this.processPartData(e,0,r),t=r}if(t!==e.length){if(this.readState===c.HEADER){const r=this.searchHeaderListEnd(e,t);if(-1===r)return;t=r,this.readState=c.BODY,this.headerListBuffer=null}for(;;){if(this.readState===c.BODY)this.readState=c.INIT;else{this.partIndex++;let r=this.partIndexToTaskIndex.get(this.partIndex);if(null==r){if(!this.isFinished)throw(0,n.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");r=this.options.end}const o=0===this.partIndex?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(o<r)await this.copyExistingData(o,r);else if(o>r)throw(0,n.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished)return this.onPartEnd(),void this.finishHandler();if(t=this.searchHeaderListEnd(e,t),-1===t)return void(this.readState=c.HEADER)}const r=this.partIndexToLength[this.partIndex],o=t+r,i=Math.min(o,e.length);if(await this.processPartStarted(e,t,i),this.remainingPartDataCount=r-(i-t),this.remainingPartDataCount>0)return;if(t=o+this.boundaryLength,t>=e.length)return void(this.ignoreByteCount=this.boundaryLength-(e.length-o))}}}copyExistingData(e,t){return new Promise((r,n)=>{const o=()=>{if(e===t)return void r();const i=this.options.tasks[e];i.kind===s.OperationKind.COPY?l(i,this.out,this.options.oldFileFd,n,()=>{e++,o()}):n(new Error("Task kind must be COPY"))};o()})}searchHeaderListEnd(e,t){const r=e.indexOf(a,t);if(-1!==r)return r+a.length;const n=0===t?e:e.slice(t);return null==this.headerListBuffer?this.headerListBuffer=n:this.headerListBuffer=Buffer.concat([this.headerListBuffer,n]),-1}onPartEnd(){const e=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==e)throw(0,n.newError)(`Expected length: ${e} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(e,t,r){return 0!==this.partIndex&&this.onPartEnd(),this.processPartData(e,t,r)}processPartData(e,t,r){this.actualPartLength+=r-t;const n=this.out;return n.write(0===t&&e.length===r?e:e.slice(t,r))?Promise.resolve():new Promise((e,t)=>{n.on("error",t),n.once("drain",()=>{n.removeListener("error",t),e()})})}}t.DataSplitter=u},2658:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MacUpdater=void 0;const n=r(5129),o=r(8799),i=r(9896),s=r(6928),a=r(8611),c=r(4718),l=r(5776),u=r(5317),p=r(6982);class d extends c.AppUpdater{constructor(e,t){super(e,t),this.nativeUpdater=r(1288).autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",e=>{this._logger.warn(e),this.emit("error",e)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0,this.debug("nativeUpdater.update-downloaded")})}debug(e){null!=this._logger.debug&&this._logger.debug(e)}closeServerIfExists(){this.server&&(this.debug("Closing proxy server"),this.server.close(e=>{e&&this.debug("proxy server wasn't already open, probably attempted closing again as a safety check before quit")}))}async doDownloadUpdate(e){let t=e.updateInfoAndProvider.provider.resolveFiles(e.updateInfoAndProvider.info);const r=this._logger,i="sysctl.proc_translated";let a=!1;try{this.debug("Checking for macOS Rosetta environment"),a=(0,u.execFileSync)("sysctl",[i],{encoding:"utf8"}).includes(`${i}: 1`),r.info(`Checked for macOS Rosetta environment (isRosetta=${a})`)}catch(e){r.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${e}`)}let c=!1;try{this.debug("Checking for arm64 in uname");const e=(0,u.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");r.info(`Checked 'uname -a': arm64=${e}`),c=c||e}catch(e){r.warn(`uname shell command to check for arm64 failed: ${e}`)}c=c||"arm64"===process.arch||a;const p=e=>{var t;return e.url.pathname.includes("arm64")||(null===(t=e.info.url)||void 0===t?void 0:t.includes("arm64"))};t=c&&t.some(p)?t.filter(e=>c===p(e)):t.filter(e=>!p(e));const d=(0,l.findFile)(t,"zip",["pkg","dmg"]);if(null==d)throw(0,n.newError)(`ZIP file not provided: ${(0,n.safeStringifyJson)(t)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");const h=e.updateInfoAndProvider.provider,f="update.zip";return this.executeDownload({fileExtension:"zip",fileInfo:d,downloadUpdateOptions:e,task:async(t,n)=>{const i=s.join(this.downloadedUpdateHelper.cacheDir,f);let a=!0;((0,o.pathExistsSync)(i)?!e.disableDifferentialDownload:(r.info("Unable to locate previous update.zip for differential download (is this first install?), falling back to full download"),0))&&(a=await this.differentialDownloadInstaller(d,e,t,h,f)),a&&await this.httpExecutor.download(d.url,t,n)},done:async t=>{if(!e.disableDifferentialDownload)try{const e=s.join(this.downloadedUpdateHelper.cacheDir,f);await(0,o.copyFile)(t.downloadedFile,e)}catch(e){this._logger.warn(`Unable to copy file for caching for future differential downloads: ${e.message}`)}return this.updateDownloaded(d,t)}})}async updateDownloaded(e,t){var r;const n=t.downloadedFile,s=null!==(r=e.info.size)&&void 0!==r?r:(await(0,o.stat)(n)).size,c=this._logger,l=`fileToProxy=${e.url.href}`;this.closeServerIfExists(),this.debug(`Creating proxy server for native Squirrel.Mac (${l})`),this.server=(0,a.createServer)(),this.debug(`Proxy server for native Squirrel.Mac is created (${l})`),this.server.on("close",()=>{c.info(`Proxy server for native Squirrel.Mac is closed (${l})`)});const u=e=>{const t=e.address();return"string"==typeof t?t:`http://127.0.0.1:${null==t?void 0:t.port}`};return await new Promise((e,r)=>{const o=(0,p.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),a=Buffer.from(`autoupdater:${o}`,"ascii"),d=`/${(0,p.randomBytes)(64).toString("hex")}.zip`;this.server.on("request",(t,a)=>{const l=t.url;if(c.info(`${l} requested`),"/"===l){if(!t.headers.authorization||-1===t.headers.authorization.indexOf("Basic "))return a.statusCode=401,a.statusMessage="Invalid Authentication Credentials",a.end(),void c.warn("No authenthication info");const e=t.headers.authorization.split(" ")[1],r=Buffer.from(e,"base64").toString("ascii"),[n,i]=r.split(":");if("autoupdater"!==n||i!==o)return a.statusCode=401,a.statusMessage="Invalid Authentication Credentials",a.end(),void c.warn("Invalid authenthication credentials");const s=Buffer.from(`{ "url": "${u(this.server)}${d}" }`);return a.writeHead(200,{"Content-Type":"application/json","Content-Length":s.length}),void a.end(s)}if(!l.startsWith(d))return c.warn(`${l} requested, but not supported`),a.writeHead(404),void a.end();c.info(`${d} requested by Squirrel.Mac, pipe ${n}`);let p=!1;a.on("finish",()=>{p||(this.nativeUpdater.removeListener("error",r),e([]))});const h=(0,i.createReadStream)(n);h.on("error",e=>{try{a.end()}catch(e){c.warn(`cannot end response: ${e}`)}p=!0,this.nativeUpdater.removeListener("error",r),r(new Error(`Cannot pipe "${n}": ${e}`))}),a.writeHead(200,{"Content-Type":"application/zip","Content-Length":s}),h.pipe(a)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${l})`),this.server.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${u(this.server)}, ${l})`),this.nativeUpdater.setFeedURL({url:u(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${a.toString("base64")}`}}),this.dispatchUpdateDownloaded(t),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",r),this.nativeUpdater.checkForUpdates()):e([])})})}handleUpdateDownloaded(){this.autoRunAppAfterInstall?this.nativeUpdater.quitAndInstall():this.app.quit(),this.closeServerIfExists()}quitAndInstall(){this.squirrelDownloadedUpdate?this.handleUpdateDownloaded():(this.nativeUpdater.on("update-downloaded",()=>this.handleUpdateDownloaded()),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}}t.MacUpdater=d},2705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericProvider=void 0;const n=r(5129),o=r(906),i=r(5776);class s extends i.Provider{constructor(e,t,r){super(r),this.configuration=e,this.updater=t,this.baseUrl=(0,o.newBaseUrl)(this.configuration.url)}get channel(){const e=this.updater.channel||this.configuration.channel;return null==e?this.getDefaultChannelName():this.getCustomChannelName(e)}async getLatestVersion(){const e=(0,o.getChannelFilename)(this.channel),t=(0,o.newUrlFromBase)(e,this.baseUrl,this.updater.isAddNoCacheQuery);for(let r=0;;r++)try{return(0,i.parseUpdateInfo)(await this.httpRequest(t),e,t)}catch(t){if(t instanceof n.HttpError&&404===t.statusCode)throw(0,n.newError)(`Cannot find channel "${e}" update info: ${t.stack||t.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if("ECONNREFUSED"===t.code&&r<3){await new Promise((e,t)=>{try{setTimeout(e,1e3*r)}catch(e){t(e)}});continue}throw t}}resolveFiles(e){return(0,i.resolveFiles)(e,this.baseUrl)}}t.GenericProvider=s},2938:(e,t,r)=>{"use strict";const n=r(3908);e.exports=(e,t)=>new n(e,t).major},2958:(e,t,r)=>{"use strict";const n=r(3735),o=r(6928),i=r(8860).mkdirsSync,s=r(9633).utimesMillisSync,a=r(396);function c(e,t,r,i){const s=(i.dereference?n.statSync:n.lstatSync)(t);if(s.isDirectory())return function(e,t,r,o,i){return t?p(r,o,i):function(e,t,r,o){return n.mkdirSync(r),p(t,r,o),u(r,e)}(e.mode,r,o,i)}(s,e,t,r,i);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(e,t,r,o,i){return t?function(e,t,r,o){if(o.overwrite)return n.unlinkSync(r),l(e,t,r,o);if(o.errorOnExist)throw new Error(`'${r}' already exists`)}(e,r,o,i):l(e,r,o,i)}(s,e,t,r,i);if(s.isSymbolicLink())return function(e,t,r,i){let s=n.readlinkSync(t);if(i.dereference&&(s=o.resolve(process.cwd(),s)),e){let e;try{e=n.readlinkSync(r)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return n.symlinkSync(s,r);throw e}if(i.dereference&&(e=o.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(n.statSync(r).isDirectory()&&a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return n.unlinkSync(t),n.symlinkSync(e,t)}(s,r)}return n.symlinkSync(s,r)}(e,t,r,i);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function l(e,t,r,o){return n.copyFileSync(t,r),o.preserveTimestamps&&function(e,t,r){(function(e){return!(128&e)})(e)&&function(e,t){u(e,128|t)}(r,e),function(e,t){const r=n.statSync(e);s(t,r.atime,r.mtime)}(t,r)}(e.mode,t,r),u(r,e.mode)}function u(e,t){return n.chmodSync(e,t)}function p(e,t,r){n.readdirSync(e).forEach(n=>function(e,t,r,n){const i=o.join(t,e),s=o.join(r,e),{destStat:l}=a.checkPathsSync(i,s,"copy",n);return function(e,t,r,n){if(!n.filter||n.filter(t,r))return c(e,t,r,n)}(l,i,s,n)}(n,e,t,r))}e.exports=function(e,t,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:s,destStat:l}=a.checkPathsSync(e,t,"copy",r);return a.checkParentPathsSync(e,s,t,"copy"),function(e,t,r,s){if(s.filter&&!s.filter(t,r))return;const a=o.dirname(r);return n.existsSync(a)||i(a),c(e,t,r,s)}(l,e,t,r)}},3007:(e,t,r)=>{"use strict";const n=r(3908);e.exports=(e,t,r,o,i)=>{"string"==typeof r&&(i=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,i).version}catch(e){return null}}},3106:e=>{"use strict";e.exports=require("zlib")},3193:e=>{"use strict";e.exports=require("string_decoder")},3194:(e,t,r)=>{"use strict";const n=r(3950).fromPromise,o=r(5332);o.outputJson=n(r(7764)),o.outputJsonSync=r(1030),o.outputJSON=o.outputJson,o.outputJSONSync=o.outputJsonSync,o.writeJSON=o.writeJson,o.writeJSONSync=o.writeJsonSync,o.readJSON=o.readJson,o.readJSONSync=o.readJsonSync,e.exports=o},3378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebUpdater=void 0;const n=r(9322),o=r(5776),i=r(3765);class s extends n.BaseUpdater{constructor(e,t){super(e,t)}doDownloadUpdate(e){const t=e.updateInfoAndProvider.provider,r=(0,o.findFile)(t.resolveFiles(e.updateInfoAndProvider.info),"deb",["AppImage","rpm","pacman"]);return this.executeDownload({fileExtension:"deb",fileInfo:r,downloadUpdateOptions:e,task:async(e,t)=>{this.listenerCount(i.DOWNLOAD_PROGRESS)>0&&(t.onProgress=e=>this.emit(i.DOWNLOAD_PROGRESS,e)),await this.httpExecutor.download(r.url,e,t)}})}get installerPath(){var e,t;return null!==(t=null===(e=super.installerPath)||void 0===e?void 0:e.replace(/ /g,"\\ "))&&void 0!==t?t:null}doInstall(e){const t=this.wrapSudo(),r=/pkexec/i.test(t)?"":'"',n=this.installerPath;if(null==n)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;const o=["dpkg","-i",n,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(t,[`${r}/bin/bash`,"-c",`'${o.join(" ")}'${r}`]),e.isForceRunAfter&&this.app.relaunch(),!0}}t.DebUpdater=s},3616:e=>{"use strict";const t=console.error;e.exports=class{logFn=null;onError=null;showDialog=!1;preventDefault=!0;constructor({logFn:e=null}={}){this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.startCatching=this.startCatching.bind(this),this.logFn=e}handle(e,{logFn:r=this.logFn,errorName:n="",onError:o=this.onError,showDialog:i=this.showDialog}={}){try{!1!==o?.({error:e,errorName:n,processType:"renderer"})&&r({error:e,errorName:n,showDialog:i})}catch{t(e)}}setOptions({logFn:e,onError:t,preventDefault:r,showDialog:n}){"function"==typeof e&&(this.logFn=e),"function"==typeof t&&(this.onError=t),"boolean"==typeof r&&(this.preventDefault=r),"boolean"==typeof n&&(this.showDialog=n)}startCatching({onError:e,showDialog:t}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:e,showDialog:t}),window.addEventListener("error",e=>{this.preventDefault&&e.preventDefault?.(),this.handleError(e.error||e)}),window.addEventListener("unhandledrejection",e=>{this.preventDefault&&e.preventDefault?.(),this.handleRejection(e.reason||e)}))}handleError(e){this.handle(e,{errorName:"Unhandled"})}handleRejection(e){const t=e instanceof Error?e:new Error(JSON.stringify(e));this.handle(t,{errorName:"Unhandled rejection"})}}},3735:(e,t,r)=>{var n,o,i=r(9896),s=r(9106),a=r(1995),c=r(1283),l=r(9023);function u(e,t){Object.defineProperty(e,n,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",o="___graceful-fs.previous");var p,d=function(){};if(l.debuglog?d=l.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var e=l.format.apply(l,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!i[n]){var h=global[n]||[];u(i,h),i.close=function(e){function t(t,r){return e.call(i,t,function(e){e||m(),"function"==typeof r&&r.apply(this,arguments)})}return Object.defineProperty(t,o,{value:e}),t}(i.close),i.closeSync=function(e){function t(t){e.apply(i,arguments),m()}return Object.defineProperty(t,o,{value:e}),t}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){d(i[n]),r(2613).equal(i[n].length,0)})}function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,n){return"function"==typeof r&&(n=r,r=null),function e(r,n,o,i){return t(r,n,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof o&&o.apply(this,arguments):g([e,[r,n,o],t,i||Date.now(),Date.now()])})}(e,r,n)};var r=e.writeFile;e.writeFile=function(e,t,n,o){return"function"==typeof n&&(o=n,n=null),function e(t,n,o,i,s){return r(t,n,o,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof i&&i.apply(this,arguments):g([e,[t,n,o,i],r,s||Date.now(),Date.now()])})}(e,t,n,o)};var n=e.appendFile;n&&(e.appendFile=function(e,t,r,o){return"function"==typeof r&&(o=r,r=null),function e(t,r,o,i,s){return n(t,r,o,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof i&&i.apply(this,arguments):g([e,[t,r,o,i],n,s||Date.now(),Date.now()])})}(e,t,r,o)});var o=e.copyFile;o&&(e.copyFile=function(e,t,r,n){return"function"==typeof r&&(n=r,r=0),function e(t,r,n,i,s){return o(t,r,n,function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):g([e,[t,r,n,i],o,s||Date.now(),Date.now()])})}(e,t,r,n)});var i=e.readdir;e.readdir=function(e,t,r){"function"==typeof t&&(r=t,t=null);var n=c.test(process.version)?function(e,t,r,n){return i(e,o(e,t,r,n))}:function(e,t,r,n){return i(e,t,o(e,t,r,n))};return n(e,t,r);function o(e,t,r,o){return function(i,s){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?(s&&s.sort&&s.sort(),"function"==typeof r&&r.call(this,i,s)):g([n,[e,t,r],i,o||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var l=a(e);m=l.ReadStream,y=l.WriteStream}var u=e.ReadStream;u&&(m.prototype=Object.create(u.prototype),m.prototype.open=function(){var e=this;E(e.path,e.flags,e.mode,function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())})});var p=e.WriteStream;p&&(y.prototype=Object.create(p.prototype),y.prototype.open=function(){var e=this;E(e.path,e.flags,e.mode,function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))})}),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var d=m;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var h=y;function m(e,t){return this instanceof m?(u.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function y(e,t){return this instanceof y?(p.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var v=e.open;function E(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,o,i){return v(t,r,n,function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,r,n,o],s,i||Date.now(),Date.now()])})}(e,t,r,n)}return e.open=E,e}function g(e){d("ENQUEUE",e[0].name,e[1]),i[n].push(e),y()}function m(){for(var e=Date.now(),t=0;t<i[n].length;++t)i[n][t].length>2&&(i[n][t][3]=e,i[n][t][4]=e);y()}function y(){if(clearTimeout(p),p=void 0,0!==i[n].length){var e=i[n].shift(),t=e[0],r=e[1],o=e[2],s=e[3],a=e[4];if(void 0===s)d("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){d("TIMEOUT",t.name,r);var c=r.pop();"function"==typeof c&&c.call(null,o)}else{var l=Date.now()-a,u=Math.max(a-s,1);l>=Math.min(1.2*u,100)?(d("RETRY",t.name,r),t.apply(null,r.concat([s]))):i[n].push(e)}void 0===p&&(p=setTimeout(y,0))}}global[n]||u(global,i[n]),e.exports=f(c(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(e.exports=f(i),i.__patched=!0)},3765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdaterSignal=t.UPDATE_DOWNLOADED=t.DOWNLOAD_PROGRESS=t.CancellationToken=void 0,t.addHandler=i;const n=r(5129);Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return n.CancellationToken}}),t.DOWNLOAD_PROGRESS="download-progress",t.UPDATE_DOWNLOADED="update-downloaded",t.UpdaterSignal=class{constructor(e){this.emitter=e}login(e){i(this.emitter,"login",e)}progress(e){i(this.emitter,t.DOWNLOAD_PROGRESS,e)}updateDownloaded(e){i(this.emitter,t.UPDATE_DOWNLOADED,e)}updateCancelled(e){i(this.emitter,"update-cancelled",e)}};const o=!1;function i(e,t,r){o?e.on(t,(...e)=>{console.log("%s %s",t,e),r(...e)}):e.on(t,r)}},3874:(e,t,r)=>{"use strict";const n=r(8311);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},3904:(e,t,r)=>{"use strict";const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=i(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const i=r(8587),{safeRe:s,t:a}=r(9718),c=r(2111),l=r(7272),u=r(3908),p=r(8311)},3908:(e,t,r)=>{"use strict";const n=r(7272),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=r(6874),{safeRe:s,t:a}=r(9718),c=r(8587),{compareIdentifiers:l}=r(1123);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return l(r,o)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?s[a.PRERELEASELOOSE]:s[a.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},3916:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpmUpdater=void 0;const n=r(9322),o=r(3765),i=r(5776);class s extends n.BaseUpdater{constructor(e,t){super(e,t)}doDownloadUpdate(e){const t=e.updateInfoAndProvider.provider,r=(0,i.findFile)(t.resolveFiles(e.updateInfoAndProvider.info),"rpm",["AppImage","deb","pacman"]);return this.executeDownload({fileExtension:"rpm",fileInfo:r,downloadUpdateOptions:e,task:async(e,t)=>{this.listenerCount(o.DOWNLOAD_PROGRESS)>0&&(t.onProgress=e=>this.emit(o.DOWNLOAD_PROGRESS,e)),await this.httpExecutor.download(r.url,e,t)}})}get installerPath(){var e,t;return null!==(t=null===(e=super.installerPath)||void 0===e?void 0:e.replace(/ /g,"\\ "))&&void 0!==t?t:null}doInstall(e){const t=this.wrapSudo(),r=/pkexec/i.test(t)?"":'"',n=this.spawnSyncLog("which zypper"),o=this.installerPath;if(null==o)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let i;return i=n?[n,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",o]:[this.spawnSyncLog("which dnf || which yum"),"-y","install",o],this.spawnSyncLog(t,[`${r}/bin/bash`,"-c",`'${i.join(" ")}'${r}`]),e.isForceRunAfter&&this.app.relaunch(),!0}}t.RpmUpdater=s},3927:(e,t,r)=>{"use strict";const n=r(909);e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},3950:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty(function(...t){if("function"!=typeof t[t.length-1])return new Promise((r,n)=>{t.push((e,t)=>null!=e?n(e):r(t)),e.apply(this,t)});e.apply(this,t)},"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if("function"!=typeof r)return e.apply(this,t);t.pop(),e.apply(this,t).then(e=>r(null,e),r)},"name",{value:e.name})}},3999:(e,t,r)=>{"use strict";const n=r(560);e.exports=(e,t,r)=>0!==n(e,t,r)},4043:(e,t,r)=>{!function(e){e.parser=function(e,t){return new o(e,t)},e.SAXParser=o,e.SAXStream=s,e.createStream=function(e,t){return new s(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(t,r){if(!(this instanceof o))return new o(t,r);var i=this;!function(e){for(var t=0,r=n.length;t<r;t++)e[n[t]]=""}(i),i.q=i.c="",i.bufferCheckPosition=e.MAX_BUFFER_LENGTH,i.opt=r||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=A.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(p)),void 0===i.opt.unquotedAttributeValues&&(i.opt.unquotedAttributeValues=!t),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),I(i,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),o.prototype={end:function(){D(this)},write:function(t){var r=this;if(this.error)throw this.error;if(r.closed)return P(r,"Cannot write after close. Assign an onready handler.");if(null===t)return D(r);"object"==typeof t&&(t=t.toString());for(var o=0,i="";i=M(t,o++),r.c=i,i;)switch(r.trackPosition&&(r.position++,"\n"===i?(r.line++,r.column=0):r.column++),r.state){case A.BEGIN:if(r.state=A.BEGIN_WHITESPACE,"\ufeff"===i)continue;j(r,i);continue;case A.BEGIN_WHITESPACE:j(r,i);continue;case A.TEXT:if(r.sawRoot&&!r.closedRoot){for(var s=o-1;i&&"<"!==i&&"&"!==i;)(i=M(t,o++))&&r.trackPosition&&(r.position++,"\n"===i?(r.line++,r.column=0):r.column++);r.textNode+=t.substring(s,o-1)}"<"!==i||r.sawRoot&&r.closedRoot&&!r.strict?(m(i)||r.sawRoot&&!r.closedRoot||R(r,"Text data outside of root node."),"&"===i?r.state=A.TEXT_ENTITY:r.textNode+=i):(r.state=A.OPEN_WAKA,r.startTagPosition=r.position);continue;case A.SCRIPT:"<"===i?r.state=A.SCRIPT_ENDING:r.script+=i;continue;case A.SCRIPT_ENDING:"/"===i?r.state=A.CLOSE_TAG:(r.script+="<"+i,r.state=A.SCRIPT);continue;case A.OPEN_WAKA:if("!"===i)r.state=A.SGML_DECL,r.sgmlDecl="";else if(m(i));else if(E(d,i))r.state=A.OPEN_TAG,r.tagName=i;else if("/"===i)r.state=A.CLOSE_TAG,r.tagName="";else if("?"===i)r.state=A.PROC_INST,r.procInstName=r.procInstBody="";else{if(R(r,"Unencoded <"),r.startTagPosition+1<r.position){var l=r.position-r.startTagPosition;i=new Array(l).join(" ")+i}r.textNode+="<"+i,r.state=A.TEXT}continue;case A.SGML_DECL:if(r.sgmlDecl+i==="--"){r.state=A.COMMENT,r.comment="",r.sgmlDecl="";continue}r.doctype&&!0!==r.doctype&&r.sgmlDecl?(r.state=A.DOCTYPE_DTD,r.doctype+="<!"+r.sgmlDecl+i,r.sgmlDecl=""):(r.sgmlDecl+i).toUpperCase()===a?(C(r,"onopencdata"),r.state=A.CDATA,r.sgmlDecl="",r.cdata=""):(r.sgmlDecl+i).toUpperCase()===c?(r.state=A.DOCTYPE,(r.doctype||r.sawRoot)&&R(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===i?(C(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=A.TEXT):y(i)?(r.state=A.SGML_DECL_QUOTED,r.sgmlDecl+=i):r.sgmlDecl+=i;continue;case A.SGML_DECL_QUOTED:i===r.q&&(r.state=A.SGML_DECL,r.q=""),r.sgmlDecl+=i;continue;case A.DOCTYPE:">"===i?(r.state=A.TEXT,C(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=i,"["===i?r.state=A.DOCTYPE_DTD:y(i)&&(r.state=A.DOCTYPE_QUOTED,r.q=i));continue;case A.DOCTYPE_QUOTED:r.doctype+=i,i===r.q&&(r.q="",r.state=A.DOCTYPE);continue;case A.DOCTYPE_DTD:"]"===i?(r.doctype+=i,r.state=A.DOCTYPE):"<"===i?(r.state=A.OPEN_WAKA,r.startTagPosition=r.position):y(i)?(r.doctype+=i,r.state=A.DOCTYPE_DTD_QUOTED,r.q=i):r.doctype+=i;continue;case A.DOCTYPE_DTD_QUOTED:r.doctype+=i,i===r.q&&(r.state=A.DOCTYPE_DTD,r.q="");continue;case A.COMMENT:"-"===i?r.state=A.COMMENT_ENDING:r.comment+=i;continue;case A.COMMENT_ENDING:"-"===i?(r.state=A.COMMENT_ENDED,r.comment=N(r.opt,r.comment),r.comment&&C(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+i,r.state=A.COMMENT);continue;case A.COMMENT_ENDED:">"!==i?(R(r,"Malformed comment"),r.comment+="--"+i,r.state=A.COMMENT):r.doctype&&!0!==r.doctype?r.state=A.DOCTYPE_DTD:r.state=A.TEXT;continue;case A.CDATA:"]"===i?r.state=A.CDATA_ENDING:r.cdata+=i;continue;case A.CDATA_ENDING:"]"===i?r.state=A.CDATA_ENDING_2:(r.cdata+="]"+i,r.state=A.CDATA);continue;case A.CDATA_ENDING_2:">"===i?(r.cdata&&C(r,"oncdata",r.cdata),C(r,"onclosecdata"),r.cdata="",r.state=A.TEXT):"]"===i?r.cdata+="]":(r.cdata+="]]"+i,r.state=A.CDATA);continue;case A.PROC_INST:"?"===i?r.state=A.PROC_INST_ENDING:m(i)?r.state=A.PROC_INST_BODY:r.procInstName+=i;continue;case A.PROC_INST_BODY:if(!r.procInstBody&&m(i))continue;"?"===i?r.state=A.PROC_INST_ENDING:r.procInstBody+=i;continue;case A.PROC_INST_ENDING:">"===i?(C(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=A.TEXT):(r.procInstBody+="?"+i,r.state=A.PROC_INST_BODY);continue;case A.OPEN_TAG:E(h,i)?r.tagName+=i:(x(r),">"===i?k(r):"/"===i?r.state=A.OPEN_TAG_SLASH:(m(i)||R(r,"Invalid character in tag name"),r.state=A.ATTRIB));continue;case A.OPEN_TAG_SLASH:">"===i?(k(r,!0),U(r)):(R(r,"Forward-slash in opening tag not followed by >"),r.state=A.ATTRIB);continue;case A.ATTRIB:if(m(i))continue;">"===i?k(r):"/"===i?r.state=A.OPEN_TAG_SLASH:E(d,i)?(r.attribName=i,r.attribValue="",r.state=A.ATTRIB_NAME):R(r,"Invalid attribute name");continue;case A.ATTRIB_NAME:"="===i?r.state=A.ATTRIB_VALUE:">"===i?(R(r,"Attribute without value"),r.attribValue=r.attribName,L(r),k(r)):m(i)?r.state=A.ATTRIB_NAME_SAW_WHITE:E(h,i)?r.attribName+=i:R(r,"Invalid attribute name");continue;case A.ATTRIB_NAME_SAW_WHITE:if("="===i)r.state=A.ATTRIB_VALUE;else{if(m(i))continue;R(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",C(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===i?k(r):E(d,i)?(r.attribName=i,r.state=A.ATTRIB_NAME):(R(r,"Invalid attribute name"),r.state=A.ATTRIB)}continue;case A.ATTRIB_VALUE:if(m(i))continue;y(i)?(r.q=i,r.state=A.ATTRIB_VALUE_QUOTED):(r.opt.unquotedAttributeValues||P(r,"Unquoted attribute value"),r.state=A.ATTRIB_VALUE_UNQUOTED,r.attribValue=i);continue;case A.ATTRIB_VALUE_QUOTED:if(i!==r.q){"&"===i?r.state=A.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=i;continue}L(r),r.q="",r.state=A.ATTRIB_VALUE_CLOSED;continue;case A.ATTRIB_VALUE_CLOSED:m(i)?r.state=A.ATTRIB:">"===i?k(r):"/"===i?r.state=A.OPEN_TAG_SLASH:E(d,i)?(R(r,"No whitespace between attributes"),r.attribName=i,r.attribValue="",r.state=A.ATTRIB_NAME):R(r,"Invalid attribute name");continue;case A.ATTRIB_VALUE_UNQUOTED:if(!v(i)){"&"===i?r.state=A.ATTRIB_VALUE_ENTITY_U:r.attribValue+=i;continue}L(r),">"===i?k(r):r.state=A.ATTRIB;continue;case A.CLOSE_TAG:if(r.tagName)">"===i?U(r):E(h,i)?r.tagName+=i:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=A.SCRIPT):(m(i)||R(r,"Invalid tagname in closing tag"),r.state=A.CLOSE_TAG_SAW_WHITE);else{if(m(i))continue;w(d,i)?r.script?(r.script+="</"+i,r.state=A.SCRIPT):R(r,"Invalid tagname in closing tag."):r.tagName=i}continue;case A.CLOSE_TAG_SAW_WHITE:if(m(i))continue;">"===i?U(r):R(r,"Invalid characters in closing tag");continue;case A.TEXT_ENTITY:case A.ATTRIB_VALUE_ENTITY_Q:case A.ATTRIB_VALUE_ENTITY_U:var u,p;switch(r.state){case A.TEXT_ENTITY:u=A.TEXT,p="textNode";break;case A.ATTRIB_VALUE_ENTITY_Q:u=A.ATTRIB_VALUE_QUOTED,p="attribValue";break;case A.ATTRIB_VALUE_ENTITY_U:u=A.ATTRIB_VALUE_UNQUOTED,p="attribValue"}if(";"===i){var b=$(r);r.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(b)?(r.entity="",r.state=u,r.write(b)):(r[p]+=b,r.entity="",r.state=u)}else E(r.entity.length?g:f,i)?r.entity+=i:(R(r,"Invalid character in entity name"),r[p]+="&"+r.entity+i,r.entity="",r.state=u);continue;default:throw new Error(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&function(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),o=0,i=0,s=n.length;i<s;i++){var a=t[n[i]].length;if(a>r)switch(n[i]){case"textNode":T(t);break;case"cdata":C(t,"oncdata",t.cdata),t.cdata="";break;case"script":C(t,"onscript",t.script),t.script="";break;default:P(t,"Max buffer length exceeded: "+n[i])}o=Math.max(o,a)}var c=e.MAX_BUFFER_LENGTH-o;t.bufferCheckPosition=c+t.position}(r),r},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;T(e=this),""!==e.cdata&&(C(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(C(e,"onscript",e.script),e.script="")}};try{t=r(2203).Stream}catch(e){t=function(){}}t||(t=function(){});var i=e.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function s(e,r){if(!(this instanceof s))return new s(e,r);t.apply(this),this._parser=new o(e,r),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,i.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})})}s.prototype=Object.create(t.prototype,{constructor:{value:s}}),s.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=r(3193).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,r){var n=this;return n._parser["on"+e]||-1===i.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,r)};var a="[CDATA[",c="DOCTYPE",l="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/2000/xmlns/",p={xml:l,xmlns:u},d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function y(e){return'"'===e||"'"===e}function v(e){return">"===e||m(e)}function E(e,t){return e.test(t)}function w(e,t){return!E(e,t)}var b,S,O,A=0;for(var _ in e.STATE={BEGIN:A++,BEGIN_WHITESPACE:A++,TEXT:A++,TEXT_ENTITY:A++,OPEN_WAKA:A++,SGML_DECL:A++,SGML_DECL_QUOTED:A++,DOCTYPE:A++,DOCTYPE_QUOTED:A++,DOCTYPE_DTD:A++,DOCTYPE_DTD_QUOTED:A++,COMMENT_STARTING:A++,COMMENT:A++,COMMENT_ENDING:A++,COMMENT_ENDED:A++,CDATA:A++,CDATA_ENDING:A++,CDATA_ENDING_2:A++,PROC_INST:A++,PROC_INST_BODY:A++,PROC_INST_ENDING:A++,OPEN_TAG:A++,OPEN_TAG_SLASH:A++,ATTRIB:A++,ATTRIB_NAME:A++,ATTRIB_NAME_SAW_WHITE:A++,ATTRIB_VALUE:A++,ATTRIB_VALUE_QUOTED:A++,ATTRIB_VALUE_CLOSED:A++,ATTRIB_VALUE_UNQUOTED:A++,ATTRIB_VALUE_ENTITY_Q:A++,ATTRIB_VALUE_ENTITY_U:A++,CLOSE_TAG:A++,CLOSE_TAG_SAW_WHITE:A++,SCRIPT:A++,SCRIPT_ENDING:A++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(t){var r=e.ENTITIES[t],n="number"==typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=n}),e.STATE)e.STATE[e.STATE[_]]=_;function I(e,t,r){e[t]&&e[t](r)}function C(e,t,r){e.textNode&&T(e),I(e,t,r)}function T(e){e.textNode=N(e.opt,e.textNode),e.textNode&&I(e,"ontext",e.textNode),e.textNode=""}function N(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function P(e,t){return T(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,I(e,"onerror",t),e}function D(e){return e.sawRoot&&!e.closedRoot&&R(e,"Unclosed root tag"),e.state!==A.BEGIN&&e.state!==A.BEGIN_WHITESPACE&&e.state!==A.TEXT&&P(e,"Unexpected end"),T(e),e.c="",e.closed=!0,I(e,"onend"),o.call(e,e.strict,e.opt),e}function R(e,t){if("object"!=typeof e||!(e instanceof o))throw new Error("bad call to strictFail");e.strict&&P(e,t)}function x(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,C(e,"onopentagstart",r)}function F(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],o=r[1];return t&&"xmlns"===e&&(n="xmlns",o=""),{prefix:n,local:o}}function L(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=F(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==l)R(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==u)R(e,"xmlns: prefix must be bound to "+u+"\nActual: "+e.attribValue);else{var o=e.tag,i=e.tags[e.tags.length-1]||e;o.ns===i.ns&&(o.ns=Object.create(i.ns)),o.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,C(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function k(e,t){if(e.opt.xmlns){var r=e.tag,n=F(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(R(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var o=e.tags[e.tags.length-1]||e;r.ns&&o.ns!==r.ns&&Object.keys(r.ns).forEach(function(t){C(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var i=0,s=e.attribList.length;i<s;i++){var a=e.attribList[i],c=a[0],l=a[1],u=F(c,!0),p=u.prefix,d=u.local,h=""===p?"":r.ns[p]||"",f={name:c,value:l,prefix:p,local:d,uri:h};p&&"xmlns"!==p&&!h&&(R(e,"Unbound namespace prefix: "+JSON.stringify(p)),f.uri=p),e.tag.attributes[c]=f,C(e,"onattribute",f)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),C(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=A.TEXT:e.state=A.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function U(e){if(!e.tagName)return R(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=A.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=A.SCRIPT);C(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--&&e.tags[t].name!==n;)R(e,"Unexpected close tag");if(t<0)return R(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=A.TEXT);e.tagName=r;for(var o=e.tags.length;o-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,C(e,"onclosetag",e.tagName);var s={};for(var a in i.ns)s[a]=i.ns[a];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==c.ns&&Object.keys(i.ns).forEach(function(t){var r=i.ns[t];C(e,"onclosenamespace",{prefix:t,uri:r})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=A.TEXT}function $(e){var t,r=e.entity,n=r.toLowerCase(),o="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),o=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),o=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||o.toLowerCase()!==r?(R(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function j(e,t){"<"===t?(e.state=A.OPEN_WAKA,e.startTagPosition=e.position):m(t)||(R(e,"Non-whitespace before first tag."),e.textNode=t,e.state=A.TEXT)}function M(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}A=e.STATE,String.fromCodePoint||(b=String.fromCharCode,S=Math.floor,O=function(){var e,t,r=[],n=-1,o=arguments.length;if(!o)return"";for(var i="";++n<o;){var s=Number(arguments[n]);if(!isFinite(s)||s<0||s>1114111||S(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?r.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,r.push(e,t)),(n+1===o||r.length>16384)&&(i+=b.apply(null,r),r.length=0)}return i},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:O,configurable:!0,writable:!0}):String.fromCodePoint=O)}(t)},4089:(e,t,r)=>{"use strict";const n=r(560);e.exports=(e,t,r)=>n(e,t,r)>=0},4165:(e,t)=>{"use strict";function r(e,t){if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every(n=>r(e[n],t[n]))}return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.MemoLazy=void 0,t.MemoLazy=class{constructor(e,t){this.selector=e,this.creator=t,this.selected=void 0,this._value=void 0}get hasValue(){return void 0!==this._value}get value(){const e=this.selector();if(void 0!==this._value&&r(this.selected,e))return this._value;this.selected=e;const t=this.creator(e);return this.value=t,t}set value(e){this._value=e}}},4277:(e,t,r)=>{"use strict";const n=r(909);e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},4405:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeTasksUsingMultipleRangeRequests=function(e,t,r,a,c){const l=u=>{if(u>=t.length)return null!=e.fileMetadataBuffer&&r.write(e.fileMetadataBuffer),void r.end();const p=u+1e3;!function(e,t,r,a,c){let l="bytes=",u=0;const p=new Map,d=[];for(let e=t.start;e<t.end;e++){const r=t.tasks[e];r.kind===i.OperationKind.DOWNLOAD&&(l+=`${r.start}-${r.end-1}, `,p.set(u,e),u++,d.push(r.end-r.start))}if(u<=1){const n=l=>{if(l>=t.end)return void a();const u=t.tasks[l++];if(u.kind===i.OperationKind.COPY)(0,o.copyData)(u,r,t.oldFileFd,c,()=>n(l));else{const t=e.createRequestOptions();t.headers.Range=`bytes=${u.start}-${u.end-1}`;const o=e.httpExecutor.createRequest(t,e=>{s(e,c)&&(e.pipe(r,{end:!1}),e.once("end",()=>n(l)))});e.httpExecutor.addErrorAndTimeoutHandlers(o,c),o.end()}};return void n(t.start)}const h=e.createRequestOptions();h.headers.Range=l.substring(0,l.length-2);const f=e.httpExecutor.createRequest(h,e=>{if(!s(e,c))return;const i=(0,n.safeGetHeader)(e,"content-type"),l=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(i);if(null==l)return void c(new Error(`Content-Type "multipart/byteranges" is expected, but got "${i}"`));const u=new o.DataSplitter(r,t,p,l[1]||l[2],d,a);u.on("error",c),e.pipe(u),e.on("end",()=>{setTimeout(()=>{f.abort(),c(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(f,c),f.end()}(e,{tasks:t,start:u,end:Math.min(t.length,p),oldFileFd:a},r,()=>l(p),c)};return l},t.checkIsRangesSupported=s;const n=r(5129),o=r(2652),i=r(1305);function s(e,t){if(e.statusCode>=400)return t((0,n.createHttpError)(e)),!1;if(206!==e.statusCode){const r=(0,n.safeGetHeader)(e,"accept-ranges");if(null==r||"none"===r)return t(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}},4434:e=>{"use strict";e.exports=require("events")},4454:e=>{"use strict";e.exports=class{externalApi=void 0;isActive=!1;logFn=void 0;onError=void 0;showDialog=!0;constructor({externalApi:e,logFn:t,onError:r,showDialog:n}={}){this.createIssue=this.createIssue.bind(this),this.handleError=this.handleError.bind(this),this.handleRejection=this.handleRejection.bind(this),this.setOptions({externalApi:e,logFn:t,onError:r,showDialog:n}),this.startCatching=this.startCatching.bind(this),this.stopCatching=this.stopCatching.bind(this)}handle(e,{logFn:t=this.logFn,onError:r=this.onError,processType:n="browser",showDialog:o=this.showDialog,errorName:i=""}={}){e=function(e){if(e instanceof Error)return e;if(e&&"object"==typeof e){if(e.message)return Object.assign(new Error(e.message),e);try{return new Error(JSON.stringify(e))}catch(t){return new Error(`Couldn't normalize error ${String(e)}: ${t}`)}}return new Error(`Can't normalize error ${String(e)}`)}(e);try{if("function"==typeof r){const t=this.externalApi?.getVersions()||{};if(!1===r({createIssue:this.createIssue,error:e,errorName:i,processType:n,versions:t}))return}i?t(i,e):t(e),o&&!i.includes("rejection")&&this.externalApi&&this.externalApi.showErrorBox(`A JavaScript error occurred in the ${n} process`,e.stack)}catch{console.error(e)}}setOptions({externalApi:e,logFn:t,onError:r,showDialog:n}){"object"==typeof e&&(this.externalApi=e),"function"==typeof t&&(this.logFn=t),"function"==typeof r&&(this.onError=r),"boolean"==typeof n&&(this.showDialog=n)}startCatching({onError:e,showDialog:t}={}){this.isActive||(this.isActive=!0,this.setOptions({onError:e,showDialog:t}),process.on("uncaughtException",this.handleError),process.on("unhandledRejection",this.handleRejection))}stopCatching(){this.isActive=!1,process.removeListener("uncaughtException",this.handleError),process.removeListener("unhandledRejection",this.handleRejection)}createIssue(e,t){this.externalApi?.openUrl(`${e}?${new URLSearchParams(t).toString()}`)}handleError(e){this.handle(e,{errorName:"Unhandled"})}handleRejection(e){const t=e instanceof Error?e:new Error(JSON.stringify(e));this.handle(t,{errorName:"Unhandled rejection"})}}},4466:(e,t,r)=>{"use strict";var n=r(8433),o=r(5388);function i(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function s(e){return 48<=e&&e<=55}function a(e){return 48<=e&&e<=57}e.exports=new o("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r=e.length,n=0,o=!1;if(!r)return!1;if("-"!==(t=e[n])&&"+"!==t||(t=e[++n]),"0"===t){if(n+1===r)return!0;if("b"===(t=e[++n])){for(n++;n<r;n++)if("_"!==(t=e[n])){if("0"!==t&&"1"!==t)return!1;o=!0}return o&&"_"!==t}if("x"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!i(e.charCodeAt(n)))return!1;o=!0}return o&&"_"!==t}if("o"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!s(e.charCodeAt(n)))return!1;o=!0}return o&&"_"!==t}}if("_"===t)return!1;for(;n<r;n++)if("_"!==(t=e[n])){if(!a(e.charCodeAt(n)))return!1;o=!0}return!(!o||"_"===t)},construct:function(e){var t,r=e,n=1;if(-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(n=-1),t=(r=r.slice(1))[0]),"0"===r)return 0;if("0"===t){if("b"===r[1])return n*parseInt(r.slice(2),2);if("x"===r[1])return n*parseInt(r.slice(2),16);if("o"===r[1])return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!n.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},4493:(e,t,r)=>{"use strict";const n=r(3908);e.exports=(e,t)=>new n(e,t).patch},4572:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateGitHubProvider=void 0;const n=r(5129),o=r(7210),i=r(6928),s=r(7016),a=r(906),c=r(1203),l=r(5776);class u extends c.BaseGitHubProvider{constructor(e,t,r,n){super(e,"api.github.com",n),this.updater=t,this.token=r}createRequestOptions(e,t){const r=super.createRequestOptions(e,t);return r.redirect="manual",r}async getLatestVersion(){const e=new n.CancellationToken,t=(0,a.getChannelFilename)(this.getDefaultChannelName()),r=await this.getLatestVersionInfo(e),i=r.assets.find(e=>e.name===t);if(null==i)throw(0,n.newError)(`Cannot find ${t} in the release ${r.html_url||r.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const c=new s.URL(i.url);let l;try{l=(0,o.load)(await this.httpRequest(c,this.configureHeaders("application/octet-stream"),e))}catch(e){if(e instanceof n.HttpError&&404===e.statusCode)throw(0,n.newError)(`Cannot find ${t} in the latest release artifacts (${c}): ${e.stack||e.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");throw e}return l.assets=r.assets,l}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(e){return{accept:e,authorization:`token ${this.token}`}}async getLatestVersionInfo(e){const t=this.updater.allowPrerelease;let r=this.basePath;t||(r=`${r}/latest`);const o=(0,a.newUrlFromBase)(r,this.baseUrl);try{const r=JSON.parse(await this.httpRequest(o,this.configureHeaders("application/vnd.github.v3+json"),e));return t?r.find(e=>e.prerelease)||r[0]:r}catch(e){throw(0,n.newError)(`Unable to find latest version on GitHub (${o}), please ensure a production release exists: ${e.stack||e.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(e){return(0,l.getFileList)(e).map(t=>{const r=i.posix.basename(t.url).replace(/ /g,"-"),o=e.assets.find(e=>null!=e&&e.name===r);if(null==o)throw(0,n.newError)(`Cannot find asset "${r}" in: ${JSON.stringify(e.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new s.URL(o.url),info:t}})}}t.PrivateGitHubProvider=u},4603:(e,t,r)=>{"use strict";const n=r(3950).fromCallback,o=r(3735),i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof o[e]);Object.assign(t,o),i.forEach(e=>{t[e]=n(o[e])}),t.exists=function(e,t){return"function"==typeof t?o.exists(e,t):new Promise(t=>o.exists(e,t))},t.read=function(e,t,r,n,i,s){return"function"==typeof s?o.read(e,t,r,n,i,s):new Promise((s,a)=>{o.read(e,t,r,n,i,(e,t,r)=>{if(e)return a(e);s({bytesRead:t,buffer:r})})})},t.write=function(e,t,...r){return"function"==typeof r[r.length-1]?o.write(e,t,...r):new Promise((n,i)=>{o.write(e,t,...r,(e,t,r)=>{if(e)return i(e);n({bytesWritten:t,buffer:r})})})},"function"==typeof o.writev&&(t.writev=function(e,t,...r){return"function"==typeof r[r.length-1]?o.writev(e,t,...r):new Promise((n,i)=>{o.writev(e,t,...r,(e,t,r)=>{if(e)return i(e);n({bytesWritten:t,buffers:r})})})}),"function"==typeof o.realpath.native?t.realpath.native=n(o.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")},4631:(e,t,r)=>{"use strict";const{maxDepth:n,toJSON:o}=r(1296),{transform:i}=r(8915);e.exports=function(e,{externalApi:t}){return Object.assign(r,{depth:3,eventId:"__ELECTRON_LOG_IPC__",level:!!e.isDev&&"silly",transforms:[o,n]}),t?.isElectron()?r:void 0;function r(n){"renderer"!==n?.variables?.processType&&t?.sendIpc(r.eventId,{...n,data:i({logger:e,message:n,transport:r})})}}},4641:(e,t,r)=>{"use strict";const n=r(560);e.exports=(e,t,r)=>0===n(e,t,r)},4694:(e,t,r)=>{"use strict";const{createFile:n,createFileSync:o}=r(6338),{createLink:i,createLinkSync:s}=r(4776),{createSymlink:a,createSymlinkSync:c}=r(4945);e.exports={createFile:n,createFileSync:o,ensureFile:n,ensureFileSync:o,createLink:i,createLinkSync:s,ensureLink:i,ensureLinkSync:s,createSymlink:a,createSymlinkSync:c,ensureSymlink:a,ensureSymlinkSync:c}},4718:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpLogger=t.AppUpdater=void 0;const n=r(5129),o=r(6982),i=r(857),s=r(4434),a=r(8799),c=r(7210),l=r(8801),u=r(6928),p=r(9589),d=r(2474),h=r(910),f=r(369),g=r(2705),m=r(7981),y=r(3106),v=r(906),E=r(2444),w=r(3765);class b extends s.EventEmitter{get channel(){return this._channel}set channel(e){if(null!=this._channel){if("string"!=typeof e)throw(0,n.newError)(`Channel must be a string, but got: ${e}`,"ERR_UPDATER_INVALID_CHANNEL");if(0===e.length)throw(0,n.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=e,this.allowDowngrade=!0}addAuthHeader(e){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:e})}get netSession(){return(0,f.getNetSession)()}get logger(){return this._logger}set logger(e){this._logger=null==e?new S:e}set updateConfigPath(e){this.clientPromise=null,this._appUpdateConfigPath=e,this.configOnDisk=new l.Lazy(()=>this.loadUpdateConfig())}get isUpdateSupported(){return this._isUpdateSupported}set isUpdateSupported(e){e&&(this._isUpdateSupported=e)}constructor(e,t){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.disableDifferentialDownload=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new w.UpdaterSignal(this),this._appUpdateConfigPath=null,this._isUpdateSupported=e=>this.checkIfUpdateSupported(e),this.clientPromise=null,this.stagingUserIdPromise=new l.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new l.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.downloadPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",e=>{this._logger.error(`Error: ${e.stack||e.message}`)}),null==t?(this.app=new h.ElectronAppAdapter,this.httpExecutor=new f.ElectronHttpExecutor((e,t)=>this.emit("login",e,t))):(this.app=t,this.httpExecutor=null);const r=this.app.version,o=(0,p.parse)(r);if(null==o)throw(0,n.newError)(`App version is not a valid semver version: "${r}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=o,this.allowPrerelease=function(e){const t=(0,p.prerelease)(e);return null!=t&&t.length>0}(o),null!=e&&(this.setFeedURL(e),"string"!=typeof e&&e.requestHeaders&&(this.requestHeaders=e.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(e){const t=this.createProviderRuntimeOptions();let r;r="string"==typeof e?new g.GenericProvider({provider:"generic",url:e},this,{...t,isUseMultipleRangeRequest:(0,m.isUrlProbablySupportMultiRangeRequests)(e)}):(0,m.createClient)(e,this,t),this.clientPromise=Promise.resolve(r)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let e=this.checkForUpdatesPromise;if(null!=e)return this._logger.info("Checking for update (already in progress)"),e;const t=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),e=this.doCheckForUpdates().then(e=>(t(),e)).catch(e=>{throw t(),this.emit("error",e,`Cannot check for updates: ${(e.stack||e).toString()}`),e}),this.checkForUpdatesPromise=e,e}isUpdaterActive(){return!(!this.app.isPackaged&&!this.forceDevUpdateConfig&&(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),1))}checkForUpdatesAndNotify(e){return this.checkForUpdates().then(t=>(null==t?void 0:t.downloadPromise)?(t.downloadPromise.then(()=>{const n=b.formatDownloadNotification(t.updateInfo.version,this.app.name,e);new(r(1288).Notification)(n).show()}),t):(null!=this._logger.debug&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),t))}static formatDownloadNotification(e,t,r){return null==r&&(r={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),{title:r.title.replace("{appName}",t).replace("{version}",e),body:r.body.replace("{appName}",t).replace("{version}",e)}}async isStagingMatch(e){const t=e.stagingPercentage;let r=t;if(null==r)return!0;if(r=parseInt(r,10),isNaN(r))return this._logger.warn(`Staging percentage is NaN: ${t}`),!0;r/=100;const o=await this.stagingUserIdPromise.value,i=n.UUID.parse(o).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${r}, percentage: ${i}, user id: ${o}`),i<r}computeFinalHeaders(e){return null!=this.requestHeaders&&Object.assign(e,this.requestHeaders),e}async isUpdateAvailable(e){const t=(0,p.parse)(e.version);if(null==t)throw(0,n.newError)(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${e.version}"`,"ERR_UPDATER_INVALID_VERSION");const r=this.currentVersion;if((0,p.eq)(t,r))return!1;if(!await Promise.resolve(this.isUpdateSupported(e)))return!1;if(!await this.isStagingMatch(e))return!1;const o=(0,p.gt)(t,r),i=(0,p.lt)(t,r);return!!o||this.allowDowngrade&&i}checkIfUpdateSupported(e){const t=null==e?void 0:e.minimumSystemVersion,r=(0,i.release)();if(t)try{if((0,p.lt)(r,t))return this._logger.info(`Current OS version ${r} is less than the minimum OS version required ${t} for version ${r}`),!1}catch(e){this._logger.warn(`Failed to compare current OS version(${r}) with minimum OS version(${t}): ${(e.message||e).toString()}`)}return!0}async getUpdateInfoAndProvider(){await this.app.whenReady(),null==this.clientPromise&&(this.clientPromise=this.configOnDisk.value.then(e=>(0,m.createClient)(e,this,this.createProviderRuntimeOptions())));const e=await this.clientPromise,t=await this.stagingUserIdPromise.value;return e.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":t})),{info:await e.getLatestVersion(),provider:e}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:null==this._testOnlyOptions?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const e=await this.getUpdateInfoAndProvider(),t=e.info;if(!await this.isUpdateAvailable(t))return this._logger.info(`Update for version ${this.currentVersion.format()} is not available (latest version: ${t.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",t),{isUpdateAvailable:!1,versionInfo:t,updateInfo:t};this.updateInfoAndProvider=e,this.onUpdateAvailable(t);const r=new n.CancellationToken;return{isUpdateAvailable:!0,versionInfo:t,updateInfo:t,cancellationToken:r,downloadPromise:this.autoDownload?this.downloadUpdate(r):null}}onUpdateAvailable(e){this._logger.info(`Found version ${e.version} (url: ${(0,n.asArray)(e.files).map(e=>e.url).join(", ")})`),this.emit("update-available",e)}downloadUpdate(e=new n.CancellationToken){const t=this.updateInfoAndProvider;if(null==t){const e=new Error("Please check update first");return this.dispatchError(e),Promise.reject(e)}if(null!=this.downloadPromise)return this._logger.info("Downloading update (already in progress)"),this.downloadPromise;this._logger.info(`Downloading update from ${(0,n.asArray)(t.info.files).map(e=>e.url).join(", ")}`);const r=e=>{if(!(e instanceof n.CancellationError))try{this.dispatchError(e)}catch(e){this._logger.warn(`Cannot dispatch error event: ${e.stack||e}`)}return e};return this.downloadPromise=this.doDownloadUpdate({updateInfoAndProvider:t,requestHeaders:this.computeRequestHeaders(t.provider),cancellationToken:e,disableWebInstaller:this.disableWebInstaller,disableDifferentialDownload:this.disableDifferentialDownload}).catch(e=>{throw r(e)}).finally(()=>{this.downloadPromise=null}),this.downloadPromise}dispatchError(e){this.emit("error",e,(e.stack||e).toString())}dispatchUpdateDownloaded(e){this.emit(w.UPDATE_DOWNLOADED,e)}async loadUpdateConfig(){return null==this._appUpdateConfigPath&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,c.load)(await(0,a.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(e){const t=e.fileExtraDownloadHeaders;if(null!=t){const e=this.requestHeaders;return null==e?t:{...t,...e}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const e=u.join(this.app.userDataPath,".updaterId");try{const t=await(0,a.readFile)(e,"utf-8");if(n.UUID.check(t))return t;this._logger.warn(`Staging user id file exists, but content was invalid: ${t}`)}catch(e){"ENOENT"!==e.code&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${e}`)}const t=n.UUID.v5((0,o.randomBytes)(4096),n.UUID.OID);this._logger.info(`Generated new staging user ID: ${t}`);try{await(0,a.outputFile)(e,t)}catch(e){this._logger.warn(`Couldn't write out staging user ID: ${e}`)}return t}get isAddNoCacheQuery(){const e=this.requestHeaders;if(null==e)return!0;for(const t of Object.keys(e)){const e=t.toLowerCase();if("authorization"===e||"private-token"===e)return!1}return!0}async getOrCreateDownloadHelper(){let e=this.downloadedUpdateHelper;if(null==e){const t=(await this.configOnDisk.value).updaterCacheDirName,r=this._logger;null==t&&r.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const n=u.join(this.app.baseCachePath,t||this.app.name);null!=r.debug&&r.debug(`updater cache dir: ${n}`),e=new d.DownloadedUpdateHelper(n),this.downloadedUpdateHelper=e}return e}async executeDownload(e){const t=e.fileInfo,r={headers:e.downloadUpdateOptions.requestHeaders,cancellationToken:e.downloadUpdateOptions.cancellationToken,sha2:t.info.sha2,sha512:t.info.sha512};this.listenerCount(w.DOWNLOAD_PROGRESS)>0&&(r.onProgress=e=>this.emit(w.DOWNLOAD_PROGRESS,e));const o=e.downloadUpdateOptions.updateInfoAndProvider.info,i=o.version,s=t.packageInfo,c=await this.getOrCreateDownloadHelper(),l=c.cacheDirForPendingUpdate;await(0,a.mkdir)(l,{recursive:!0});const p=function(){const t=decodeURIComponent(e.fileInfo.url.pathname);return t.endsWith(`.${e.fileExtension}`)?u.basename(t):e.fileInfo.info.url}();let h=u.join(l,p);const f=null==s?null:u.join(l,`package-${i}${u.extname(s.path)||".7z"}`),g=async r=>(await c.setDownloadedFile(h,f,o,t,p,r),await e.done({...o,downloadedFile:h}),null==f?[h]:[h,f]),m=this._logger,y=await c.validateDownloadedPath(h,o,t,m);if(null!=y)return h=y,await g(!1);const v=async()=>(await c.clear().catch(()=>{}),await(0,a.unlink)(h).catch(()=>{})),E=await(0,d.createTempUpdateFile)(`temp-${p}`,l,m);try{await e.task(E,r,f,v),await(0,n.retry)(()=>(0,a.rename)(E,h),60,500,0,0,e=>e instanceof Error&&/^EBUSY:/.test(e.message))}catch(e){throw await v(),e instanceof n.CancellationError&&(m.info("cancelled"),this.emit("update-cancelled",o)),e}return m.info(`New version ${i} has been downloaded to ${h}`),await g(!0)}async differentialDownloadInstaller(e,t,r,n,o){try{if(null!=this._testOnlyOptions&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const i=(0,v.blockmapFiles)(e.url,this.app.version,t.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${i[0]}", new: ${i[1]})`);const s=async e=>{const r=await this.httpExecutor.downloadToBuffer(e,{headers:t.requestHeaders,cancellationToken:t.cancellationToken});if(null==r||0===r.length)throw new Error(`Blockmap "${e.href}" is empty`);try{return JSON.parse((0,y.gunzipSync)(r).toString())}catch(t){throw new Error(`Cannot parse blockmap "${e.href}", error: ${t}`)}},a={newUrl:e.url,oldFile:u.join(this.downloadedUpdateHelper.cacheDir,o),logger:this._logger,newFile:r,isUseMultipleRangeRequest:n.isUseMultipleRangeRequest,requestHeaders:t.requestHeaders,cancellationToken:t.cancellationToken};this.listenerCount(w.DOWNLOAD_PROGRESS)>0&&(a.onProgress=e=>this.emit(w.DOWNLOAD_PROGRESS,e));const c=await Promise.all(i.map(e=>s(e)));return await new E.GenericDifferentialDownloader(e.info,this.httpExecutor,a).download(c[0],c[1]),!1}catch(e){if(this._logger.error(`Cannot download differentially, fallback to full download: ${e.stack||e}`),null!=this._testOnlyOptions)throw e;return!0}}}t.AppUpdater=b;class S{info(e){}warn(e){}error(e){}}t.NoOpLogger=S},4746:(e,t,r)=>{"use strict";const n=r(407),o=r(8559)({dependencies:{externalApi:new n}});e.exports=o},4776:(e,t,r)=>{"use strict";const n=r(3950).fromCallback,o=r(6928),i=r(3735),s=r(8860),a=r(6566).pathExists,{areIdentical:c}=r(396);e.exports={createLink:n(function(e,t,r){function n(e,t){i.link(e,t,e=>{if(e)return r(e);r(null)})}i.lstat(t,(l,u)=>{i.lstat(e,(i,l)=>{if(i)return i.message=i.message.replace("lstat","ensureLink"),r(i);if(u&&c(l,u))return r(null);const p=o.dirname(t);a(p,(o,i)=>o?r(o):i?n(e,t):void s.mkdirs(p,o=>{if(o)return r(o);n(e,t)}))})})}),createLinkSync:function(e,t){let r;try{r=i.lstatSync(t)}catch{}try{const t=i.lstatSync(e);if(r&&c(t,r))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=o.dirname(t);return i.existsSync(n)||s.mkdirsSync(n),i.linkSync(e,t)}}},4781:(e,t,r)=>{"use strict";var n=r(8433),o=r(1231),i=r(5489),s=Object.prototype.toString,a=Object.prototype.hasOwnProperty,c=65279,l={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},u=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],p=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function d(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else{if(!(e<=4294967295))throw new o("code point within a string may not be greater than 0xFFFFFFFF");r="U",i=8}return"\\"+r+n.repeat("0",i-t.length)+t}function h(e){this.schema=e.schema||i,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=n.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,o,i,s,c,l;if(null===t)return{};for(r={},o=0,i=(n=Object.keys(t)).length;o<i;o+=1)s=n[o],c=String(t[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(l=e.compiledTypeMap.fallback[s])&&a.call(l.styleAliases,c)&&(c=l.styleAliases[c]),r[s]=c;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function f(e,t){for(var r,o=n.repeat(" ",t),i=0,s=-1,a="",c=e.length;i<c;)-1===(s=e.indexOf("\n",i))?(r=e.slice(i),i=c):(r=e.slice(i,s+1),i=s+1),r.length&&"\n"!==r&&(a+=o),a+=r;return a}function g(e,t){return"\n"+n.repeat(" ",e.indent*t)}function m(e){return 32===e||9===e}function y(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==c||65536<=e&&e<=1114111}function v(e){return y(e)&&e!==c&&13!==e&&10!==e}function E(e,t,r){var n=v(e),o=n&&!m(e);return(r?n:n&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!o)||v(t)&&!m(t)&&35===e||58===t&&o}function w(e,t){var r,n=e.charCodeAt(t);return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(n-55296)+r-56320+65536:n}function b(e){return/^\n* /.test(e)}function S(e,t,r,n,i){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==u.indexOf(t)||p.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),h=n||e.flowLevel>-1&&r>=e.flowLevel;switch(function(e,t,r,n,o,i,s,a){var l,u,p=0,d=null,h=!1,f=!1,g=-1!==n,v=-1,S=y(u=w(e,0))&&u!==c&&!m(u)&&45!==u&&63!==u&&58!==u&&44!==u&&91!==u&&93!==u&&123!==u&&125!==u&&35!==u&&38!==u&&42!==u&&33!==u&&124!==u&&61!==u&&62!==u&&39!==u&&34!==u&&37!==u&&64!==u&&96!==u&&function(e){return!m(e)&&58!==e}(w(e,e.length-1));if(t||s)for(l=0;l<e.length;p>=65536?l+=2:l++){if(!y(p=w(e,l)))return 5;S=S&&E(p,d,a),d=p}else{for(l=0;l<e.length;p>=65536?l+=2:l++){if(10===(p=w(e,l)))h=!0,g&&(f=f||l-v-1>n&&" "!==e[v+1],v=l);else if(!y(p))return 5;S=S&&E(p,d,a),d=p}f=f||g&&l-v-1>n&&" "!==e[v+1]}return h||f?r>9&&b(e)?5:s?2===i?5:2:f?4:3:!S||s||o(e)?2===i?5:2:1}(t,h,e.indent,a,function(t){return function(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)},e.quotingType,e.forceQuotes&&!n,i)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+O(t,e.indent)+A(f(t,s));case 4:return">"+O(t,e.indent)+A(f(function(e,t){for(var r,n,o,i=/(\n+)([^\n]*)/g,s=(o=-1!==(o=e.indexOf("\n"))?o:e.length,i.lastIndex=o,_(e.slice(0,o),t)),a="\n"===e[0]||" "===e[0];n=i.exec(e);){var c=n[1],l=n[2];r=" "===l[0],s+=c+(a||r||""===l?"":"\n")+_(l,t),a=r}return s}(t,a),s));case 5:return'"'+function(e){for(var t,r="",n=0,o=0;o<e.length;n>=65536?o+=2:o++)n=w(e,o),!(t=l[n])&&y(n)?(r+=e[o],n>=65536&&(r+=e[o+1])):r+=t||d(n);return r}(t)+'"';default:throw new o("impossible error: invalid scalar style")}}()}function O(e,t){var r=b(e)?String(t):"",n="\n"===e[e.length-1];return r+(!n||"\n"!==e[e.length-2]&&"\n"!==e?n?"":"-":"+")+"\n"}function A(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function _(e,t){if(""===e||" "===e[0])return e;for(var r,n,o=/ [^ ]/g,i=0,s=0,a=0,c="";r=o.exec(e);)(a=r.index)-i>t&&(n=s>i?s:a,c+="\n"+e.slice(i,n),i=n+1),s=a;return c+="\n",e.length-i>t&&s>i?c+=e.slice(i,s)+"\n"+e.slice(s+1):c+=e.slice(i),c.slice(1)}function I(e,t,r,n){var o,i,s,a="",c=e.tag;for(o=0,i=r.length;o<i;o+=1)s=r[o],e.replacer&&(s=e.replacer.call(r,String(o),s)),(T(e,t+1,s,!0,!0,!1,!0)||void 0===s&&T(e,t+1,null,!0,!0,!1,!0))&&(n&&""===a||(a+=g(e,t)),e.dump&&10===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=c,e.dump=a||"[]"}function C(e,t,r){var n,i,c,l,u,p;for(c=0,l=(i=r?e.explicitTypes:e.implicitTypes).length;c<l;c+=1)if(((u=i[c]).instanceOf||u.predicate)&&(!u.instanceOf||"object"==typeof t&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(r?u.multi&&u.representName?e.tag=u.representName(t):e.tag=u.tag:e.tag="?",u.represent){if(p=e.styleMap[u.tag]||u.defaultStyle,"[object Function]"===s.call(u.represent))n=u.represent(t,p);else{if(!a.call(u.represent,p))throw new o("!<"+u.tag+'> tag resolver accepts not "'+p+'" style');n=u.represent[p](t,p)}e.dump=n}return!0}return!1}function T(e,t,r,n,i,a,c){e.tag=null,e.dump=r,C(e,r,!1)||C(e,r,!0);var l,u=s.call(e.dump),p=n;n&&(n=e.flowLevel<0||e.flowLevel>t);var d,h,f="[object Object]"===u||"[object Array]"===u;if(f&&(h=-1!==(d=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(i=!1),h&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(f&&h&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),"[object Object]"===u)n&&0!==Object.keys(e.dump).length?(function(e,t,r,n){var i,s,a,c,l,u,p="",d=e.tag,h=Object.keys(r);if(!0===e.sortKeys)h.sort();else if("function"==typeof e.sortKeys)h.sort(e.sortKeys);else if(e.sortKeys)throw new o("sortKeys must be a boolean or a function");for(i=0,s=h.length;i<s;i+=1)u="",n&&""===p||(u+=g(e,t)),c=r[a=h[i]],e.replacer&&(c=e.replacer.call(r,a,c)),T(e,t+1,a,!0,!0,!0)&&((l=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?u+="?":u+="? "),u+=e.dump,l&&(u+=g(e,t)),T(e,t+1,c,!0,l)&&(e.dump&&10===e.dump.charCodeAt(0)?u+=":":u+=": ",p+=u+=e.dump));e.tag=d,e.dump=p||"{}"}(e,t,e.dump,i),h&&(e.dump="&ref_"+d+e.dump)):(function(e,t,r){var n,o,i,s,a,c="",l=e.tag,u=Object.keys(r);for(n=0,o=u.length;n<o;n+=1)a="",""!==c&&(a+=", "),e.condenseFlow&&(a+='"'),s=r[i=u[n]],e.replacer&&(s=e.replacer.call(r,i,s)),T(e,t,i,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),T(e,t,s,!1,!1)&&(c+=a+=e.dump));e.tag=l,e.dump="{"+c+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+d+" "+e.dump));else if("[object Array]"===u)n&&0!==e.dump.length?(e.noArrayIndent&&!c&&t>0?I(e,t-1,e.dump,i):I(e,t,e.dump,i),h&&(e.dump="&ref_"+d+e.dump)):(function(e,t,r){var n,o,i,s="",a=e.tag;for(n=0,o=r.length;n<o;n+=1)i=r[n],e.replacer&&(i=e.replacer.call(r,String(n),i)),(T(e,t,i,!1,!1)||void 0===i&&T(e,t,null,!1,!1))&&(""!==s&&(s+=","+(e.condenseFlow?"":" ")),s+=e.dump);e.tag=a,e.dump="["+s+"]"}(e,t,e.dump),h&&(e.dump="&ref_"+d+" "+e.dump));else{if("[object String]"!==u){if("[object Undefined]"===u)return!1;if(e.skipInvalid)return!1;throw new o("unacceptable kind of an object to dump "+u)}"?"!==e.tag&&S(e,e.dump,t,a,p)}null!==e.tag&&"?"!==e.tag&&(l=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),l="!"===e.tag[0]?"!"+l:"tag:yaml.org,2002:"===l.slice(0,18)?"!!"+l.slice(18):"!<"+l+">",e.dump=l+" "+e.dump)}return!0}function N(e,t){var r,n,o=[],i=[];for(P(e,o,i),r=0,n=i.length;r<n;r+=1)t.duplicates.push(o[i[r]]);t.usedDuplicates=new Array(n)}function P(e,t,r){var n,o,i;if(null!==e&&"object"==typeof e)if(-1!==(o=t.indexOf(e)))-1===r.indexOf(o)&&r.push(o);else if(t.push(e),Array.isArray(e))for(o=0,i=e.length;o<i;o+=1)P(e[o],t,r);else for(o=0,i=(n=Object.keys(e)).length;o<i;o+=1)P(e[n[o]],t,r)}e.exports.dump=function(e,t){var r=new h(t=t||{});r.noRefs||N(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),T(r,0,n,!0,!0)?r.dump+"\n":""}},4857:(e,t,r)=>{"use strict";const{transform:n}=r(8915);e.exports=function(e){return Object.assign(function t(r){t.writeFn({message:{...r,data:n({logger:e,message:r,transport:t})}})},{format:"{h}:{i}:{s}.{ms}{scope} › {text}",transforms:[i],writeFn({message:{level:e,data:t}}){const r=o[e]||o.info;setTimeout(()=>r(...t))}})};const o={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};function i({data:e=[],logger:t={},message:r={},transport:n={}}){if("function"==typeof n.format)return n.format({data:e,level:r?.level||"info",logger:t,message:r,transport:n});if("string"!=typeof n.format)return e;e.unshift(n.format),"string"==typeof e[1]&&e[1].match(/%[1cdfiOos]/)&&(e=[`${e[0]}${e[1]}`,...e.slice(2)]);const o=r.date||new Date;return e[0]=e[0].replace(/\{(\w+)}/g,(e,n)=>{switch(n){case"level":return r.level;case"logId":return r.logId;case"scope":{const e=r.scope||t.scope?.defaultLabel;return e?` (${e})`:""}case"text":return"";case"y":return o.getFullYear().toString(10);case"m":return(o.getMonth()+1).toString(10).padStart(2,"0");case"d":return o.getDate().toString(10).padStart(2,"0");case"h":return o.getHours().toString(10).padStart(2,"0");case"i":return o.getMinutes().toString(10).padStart(2,"0");case"s":return o.getSeconds().toString(10).padStart(2,"0");case"ms":return o.getMilliseconds().toString(10).padStart(3,"0");case"iso":return o.toISOString();default:return r.variables?.[n]||e}}).trim(),e}},4862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nil=t.UUID=void 0;const n=r(6982),o=r(7339),i=(0,n.randomBytes)(16);i[0]=1|i[0];const s={},a=[];for(let e=0;e<256;e++){const t=(e+256).toString(16).substr(1);s[t]=e,a[e]=t}class c{constructor(e){this.ascii=null,this.binary=null;const t=c.check(e);if(!t)throw new Error("not a UUID");this.version=t.version,"ascii"===t.format?this.ascii=e:this.binary=e}static v5(e,t){return function(e,t,r,i,s=u.ASCII){const l=(0,n.createHash)(t);if("string"!=typeof e&&!Buffer.isBuffer(e))throw(0,o.newError)("options.name must be either a string or a Buffer","ERR_INVALID_UUID_NAME");l.update(i),l.update(e);const p=l.digest();let d;switch(s){case u.BINARY:p[6]=15&p[6]|r,p[8]=63&p[8]|128,d=p;break;case u.OBJECT:p[6]=15&p[6]|r,p[8]=63&p[8]|128,d=new c(p);break;default:d=a[p[0]]+a[p[1]]+a[p[2]]+a[p[3]]+"-"+a[p[4]]+a[p[5]]+"-"+a[15&p[6]|r]+a[p[7]]+"-"+a[63&p[8]|128]+a[p[9]]+"-"+a[p[10]]+a[p[11]]+a[p[12]]+a[p[13]]+a[p[14]]+a[p[15]]}return d}(e,"sha1",80,t)}toString(){var e;return null==this.ascii&&(this.ascii=(e=this.binary,a[e[0]]+a[e[1]]+a[e[2]]+a[e[3]]+"-"+a[e[4]]+a[e[5]]+"-"+a[e[6]]+a[e[7]]+"-"+a[e[8]]+a[e[9]]+"-"+a[e[10]]+a[e[11]]+a[e[12]]+a[e[13]]+a[e[14]]+a[e[15]])),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(e,t=0){if("string"==typeof e)return e=e.toLowerCase(),!!/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(e)&&("00000000-0000-0000-0000-000000000000"===e?{version:void 0,variant:"nil",format:"ascii"}:{version:(240&s[e[14]+e[15]])>>4,variant:l((224&s[e[19]+e[20]])>>5),format:"ascii"});if(Buffer.isBuffer(e)){if(e.length<t+16)return!1;let r=0;for(;r<16&&0===e[t+r];r++);return 16===r?{version:void 0,variant:"nil",format:"binary"}:{version:(240&e[t+6])>>4,variant:l((224&e[t+8])>>5),format:"binary"}}throw(0,o.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(e){const t=Buffer.allocUnsafe(16);let r=0;for(let n=0;n<16;n++)t[n]=s[e[r++]+e[r++]],3!==n&&5!==n&&7!==n&&9!==n||(r+=1);return t}}function l(e){switch(e){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var u;t.UUID=c,c.OID=c.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8"),function(e){e[e.ASCII=0]="ASCII",e[e.BINARY=1]="BINARY",e[e.OBJECT=2]="OBJECT"}(u||(u={})),t.nil=new c("00000000-0000-0000-0000-000000000000")},4945:(e,t,r)=>{"use strict";const n=r(3950).fromCallback,o=r(6928),i=r(4603),s=r(8860),a=s.mkdirs,c=s.mkdirsSync,l=r(9392),u=l.symlinkPaths,p=l.symlinkPathsSync,d=r(6162),h=d.symlinkType,f=d.symlinkTypeSync,g=r(6566).pathExists,{areIdentical:m}=r(396);function y(e,t,r,n){u(e,t,(s,c)=>{if(s)return n(s);e=c.toDst,h(c.toCwd,r,(r,s)=>{if(r)return n(r);const c=o.dirname(t);g(c,(r,o)=>r?n(r):o?i.symlink(e,t,s,n):void a(c,r=>{if(r)return n(r);i.symlink(e,t,s,n)}))})})}e.exports={createSymlink:n(function(e,t,r,n){n="function"==typeof r?r:n,r="function"!=typeof r&&r,i.lstat(t,(o,s)=>{!o&&s.isSymbolicLink()?Promise.all([i.stat(e),i.stat(t)]).then(([o,i])=>{if(m(o,i))return n(null);y(e,t,r,n)}):y(e,t,r,n)})}),createSymlinkSync:function(e,t,r){let n;try{n=i.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const r=i.statSync(e),n=i.statSync(t);if(m(r,n))return}const s=p(e,t);e=s.toDst,r=f(s.toCwd,r);const a=o.dirname(t);return i.existsSync(a)||c(a),i.symlinkSync(e,t,r)}}},4988:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XElement=void 0,t.parseXml=function(e){let t=null;const r=n.parser(!0,{}),o=[];return r.onopentag=e=>{const r=new i(e.name);if(r.attributes=e.attributes,null===t)t=r;else{const e=o[o.length-1];null==e.elements&&(e.elements=[]),e.elements.push(r)}o.push(r)},r.onclosetag=()=>{o.pop()},r.ontext=e=>{o.length>0&&(o[o.length-1].value=e)},r.oncdata=e=>{const t=o[o.length-1];t.value=e,t.isCData=!0},r.onerror=e=>{throw e},r.write(e),t};const n=r(4043),o=r(7339);class i{constructor(e){if(this.name=e,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!e)throw(0,o.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!function(e){return s.test(e)}(e))throw(0,o.newError)(`Invalid element name: ${e}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(e){const t=null===this.attributes?null:this.attributes[e];if(null==t)throw(0,o.newError)(`No attribute "${e}"`,"ERR_XML_MISSED_ATTRIBUTE");return t}removeAttribute(e){null!==this.attributes&&delete this.attributes[e]}element(e,t=!1,r=null){const n=this.elementOrNull(e,t);if(null===n)throw(0,o.newError)(r||`No element "${e}"`,"ERR_XML_MISSED_ELEMENT");return n}elementOrNull(e,t=!1){if(null===this.elements)return null;for(const r of this.elements)if(a(r,e,t))return r;return null}getElements(e,t=!1){return null===this.elements?[]:this.elements.filter(r=>a(r,e,t))}elementValueOrEmpty(e,t=!1){const r=this.elementOrNull(e,t);return null===r?"":r.value}}t.XElement=i;const s=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function a(e,t,r){const n=e.name;return n===t||!0===r&&n.length===t.length&&n.toLowerCase()===t.toLowerCase()}},5032:(e,t,r)=>{"use strict";const n=r(8311),o=r(3904),{ANY:i}=o,s=r(7638),a=r(560),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===i){if(r.includePrerelease)return!0;t=l}const n=new Set;let o,u,h,f,g,m,y;for(const t of e)">"===t.operator||">="===t.operator?o=p(o,t,r):"<"===t.operator||"<="===t.operator?u=d(u,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&u){if(h=a(o.semver,u.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of n){if(o&&!s(e,String(o),r))return null;if(u&&!s(e,String(u),r))return null;for(const n of t)if(!s(e,String(n),r))return!1;return!0}let v=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,E=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;v&&1===v.prerelease.length&&"<"===u.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(y=y||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,o)if(E&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===E.major&&e.semver.minor===E.minor&&e.semver.patch===E.patch&&(E=!1),">"===e.operator||">="===e.operator){if(f=p(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!s(o.semver,String(e),r))return!1;if(u)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(g=d(u,e,r),g===e&&g!==u)return!1}else if("<="===u.operator&&!s(u.semver,String(e),r))return!1;if(!e.operator&&(u||o)&&0!==h)return!1}return!(o&&m&&!u&&0!==h||u&&y&&!o&&0!==h||E||v)},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},5129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENT_APP_PACKAGE_FILE_NAME=t.CURRENT_APP_INSTALLER_FILE_NAME=t.XElement=t.parseXml=t.UUID=t.parseDn=t.retry=t.githubUrl=t.getS3LikeProviderBaseUrl=t.ProgressCallbackTransform=t.MemoLazy=t.safeStringifyJson=t.safeGetHeader=t.parseJson=t.HttpExecutor=t.HttpError=t.DigestTransform=t.createHttpError=t.configureRequestUrl=t.configureRequestOptionsFromUrl=t.configureRequestOptions=t.newError=t.CancellationToken=t.CancellationError=void 0,t.asArray=function(e){return null==e?[]:Array.isArray(e)?e:[e]};var n=r(9993);Object.defineProperty(t,"CancellationError",{enumerable:!0,get:function(){return n.CancellationError}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return n.CancellationToken}});var o=r(7339);Object.defineProperty(t,"newError",{enumerable:!0,get:function(){return o.newError}});var i=r(5616);Object.defineProperty(t,"configureRequestOptions",{enumerable:!0,get:function(){return i.configureRequestOptions}}),Object.defineProperty(t,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return i.configureRequestOptionsFromUrl}}),Object.defineProperty(t,"configureRequestUrl",{enumerable:!0,get:function(){return i.configureRequestUrl}}),Object.defineProperty(t,"createHttpError",{enumerable:!0,get:function(){return i.createHttpError}}),Object.defineProperty(t,"DigestTransform",{enumerable:!0,get:function(){return i.DigestTransform}}),Object.defineProperty(t,"HttpError",{enumerable:!0,get:function(){return i.HttpError}}),Object.defineProperty(t,"HttpExecutor",{enumerable:!0,get:function(){return i.HttpExecutor}}),Object.defineProperty(t,"parseJson",{enumerable:!0,get:function(){return i.parseJson}}),Object.defineProperty(t,"safeGetHeader",{enumerable:!0,get:function(){return i.safeGetHeader}}),Object.defineProperty(t,"safeStringifyJson",{enumerable:!0,get:function(){return i.safeStringifyJson}});var s=r(4165);Object.defineProperty(t,"MemoLazy",{enumerable:!0,get:function(){return s.MemoLazy}});var a=r(657);Object.defineProperty(t,"ProgressCallbackTransform",{enumerable:!0,get:function(){return a.ProgressCallbackTransform}});var c=r(5202);Object.defineProperty(t,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return c.getS3LikeProviderBaseUrl}}),Object.defineProperty(t,"githubUrl",{enumerable:!0,get:function(){return c.githubUrl}});var l=r(7183);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return l.retry}});var u=r(9899);Object.defineProperty(t,"parseDn",{enumerable:!0,get:function(){return u.parseDn}});var p=r(4862);Object.defineProperty(t,"UUID",{enumerable:!0,get:function(){return p.UUID}});var d=r(4988);Object.defineProperty(t,"parseXml",{enumerable:!0,get:function(){return d.parseXml}}),Object.defineProperty(t,"XElement",{enumerable:!0,get:function(){return d.XElement}}),t.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",t.CURRENT_APP_PACKAGE_FILE_NAME="package.7z"},5200:(e,t,r)=>{"use strict";const n=r(560);e.exports=(e,t,r)=>n(e,t,r)<=0},5202:(e,t)=>{"use strict";function r(e,t){return null!=t&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.githubUrl=function(e,t="github.com"){return`${e.protocol||"https"}://${e.host||t}`},t.getS3LikeProviderBaseUrl=function(e){const t=e.provider;if("s3"===t)return function(e){let t;if(1==e.accelerate)t=`https://${e.bucket}.s3-accelerate.amazonaws.com`;else if(null!=e.endpoint)t=`${e.endpoint}/${e.bucket}`;else if(e.bucket.includes(".")){if(null==e.region)throw new Error(`Bucket name "${e.bucket}" includes a dot, but S3 region is missing`);t="us-east-1"===e.region?`https://s3.amazonaws.com/${e.bucket}`:`https://s3-${e.region}.amazonaws.com/${e.bucket}`}else t="cn-north-1"===e.region?`https://${e.bucket}.s3.${e.region}.amazonaws.com.cn`:`https://${e.bucket}.s3.amazonaws.com`;return r(t,e.path)}(e);if("spaces"===t)return function(e){if(null==e.name)throw new Error("name is missing");if(null==e.region)throw new Error("region is missing");return r(`https://${e.name}.${e.region}.digitaloceanspaces.com`,e.path)}(e);throw new Error(`Not supported provider: ${t}`)}},5255:(e,t,r)=>{"use strict";const n=r(4434),o=r(9896),i=r(6928),s=r(7364),a=r(8369);e.exports=class extends n{store={};constructor(){super(),this.emitError=this.emitError.bind(this)}provide({filePath:e,writeOptions:t={},writeAsync:r=!1}){let n;try{if(e=i.resolve(e),this.store[e])return this.store[e];n=this.createFile({filePath:e,writeOptions:t,writeAsync:r})}catch(t){n=new a({path:e}),this.emitError(t,n)}return n.on("error",this.emitError),this.store[e]=n,n}createFile({filePath:e,writeOptions:t,writeAsync:r}){return this.testFileWriting({filePath:e,writeOptions:t}),new s({path:e,writeOptions:t,writeAsync:r})}emitError(e,t){this.emit("error",e,t)}testFileWriting({filePath:e,writeOptions:t}){o.mkdirSync(i.dirname(e),{recursive:!0}),o.writeFileSync(e,"",{flag:"a",mode:t.mode})}}},5317:e=>{"use strict";e.exports=require("child_process")},5332:(e,t,r)=>{"use strict";const n=r(9279);e.exports={readJson:n.readFile,readJsonSync:n.readFileSync,writeJson:n.writeFile,writeJsonSync:n.writeFileSync}},5342:(e,t,r)=>{"use strict";const n=r(7075);e.exports=(e,t,r)=>n(e,t,"<",r)},5388:(e,t,r)=>{"use strict";var n=r(1231),o=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],i=["scalar","sequence","mapping"];e.exports=function(e,t){var r,s;if(t=t||{},Object.keys(t).forEach(function(t){if(-1===o.indexOf(t))throw new n('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=(r=t.styleAliases||null,s={},null!==r&&Object.keys(r).forEach(function(e){r[e].forEach(function(t){s[String(t)]=e})}),s),-1===i.indexOf(this.kind))throw new n('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}},5489:(e,t,r)=>{"use strict";e.exports=r(1769).extend({implicit:[r(127),r(1851)],explicit:[r(9342),r(6946),r(6942),r(6663)]})},5532:(e,t,r)=>{"use strict";const n=r(3735),o=r(3950).fromCallback,i=r(1619);e.exports={remove:o(function(e,t){if(n.rm)return n.rm(e,{recursive:!0,force:!0},t);i(e,t)}),removeSync:function(e){if(n.rmSync)return n.rmSync(e,{recursive:!0,force:!0});i.sync(e)}}},5571:(e,t,r)=>{"use strict";const n=r(7075);e.exports=(e,t,r)=>n(e,t,">",r)},5580:(e,t,r)=>{"use strict";const n=r(560);e.exports=(e,t,r)=>n(e,t,r)>0},5616:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DigestTransform=t.HttpExecutor=t.HttpError=void 0,t.createHttpError=d,t.parseJson=function(e){return e.then(e=>null==e||0===e.length?null:JSON.parse(e))},t.configureRequestOptionsFromUrl=m,t.configureRequestUrl=y,t.safeGetHeader=E,t.configureRequestOptions=w,t.safeStringifyJson=b;const n=r(6982),o=r(5753),i=r(9896),s=r(2203),a=r(7016),c=r(9993),l=r(7339),u=r(657),p=(0,o.default)("electron-builder");function d(e,t=null){return new f(e.statusCode||-1,`${e.statusCode} ${e.statusMessage}`+(null==t?"":"\n"+JSON.stringify(t,null,"  "))+"\nHeaders: "+b(e.headers),t)}const h=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class f extends Error{constructor(e,t=`HTTP error: ${h.get(e)||e}`,r=null){super(t),this.statusCode=e,this.description=r,this.name="HttpError",this.code=`HTTP_ERROR_${e}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}t.HttpError=f;class g{constructor(){this.maxRedirects=10}request(e,t=new c.CancellationToken,r){w(e);const n=null==r?void 0:JSON.stringify(r),o=n?Buffer.from(n):void 0;if(null!=o){p(n);const{headers:t,...r}=e;e={method:"post",headers:{"Content-Type":"application/json","Content-Length":o.length,...t},...r}}return this.doApiRequest(e,t,e=>e.end(o))}doApiRequest(e,t,r,n=0){return p.enabled&&p(`Request: ${b(e)}`),t.createPromise((o,i,s)=>{const a=this.createRequest(e,s=>{try{this.handleResponse(s,e,t,o,i,n,r)}catch(e){i(e)}});this.addErrorAndTimeoutHandlers(a,i,e.timeout),this.addRedirectHandlers(a,e,i,n,e=>{this.doApiRequest(e,t,r,n).then(o).catch(i)}),r(a,i),s(()=>a.abort())})}addRedirectHandlers(e,t,r,n,o){}addErrorAndTimeoutHandlers(e,t,r=6e4){this.addTimeOutHandler(e,t,r),e.on("error",t),e.on("aborted",()=>{t(new Error("Request has been aborted by the server"))})}handleResponse(e,t,r,n,o,i,s){var a;if(p.enabled&&p(`Response: ${e.statusCode} ${e.statusMessage}, request options: ${b(t)}`),404===e.statusCode)return void o(d(e,`method: ${t.method||"GET"} url: ${t.protocol||"https:"}//${t.hostname}${t.port?`:${t.port}`:""}${t.path}\n\nPlease double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.\n`));if(204===e.statusCode)return void n();const c=null!==(a=e.statusCode)&&void 0!==a?a:0,l=c>=300&&c<400,u=E(e,"location");if(l&&null!=u)return i>this.maxRedirects?void o(this.createMaxRedirectError()):void this.doApiRequest(g.prepareRedirectUrlOptions(u,t),r,s,i).then(n).catch(o);e.setEncoding("utf8");let h="";e.on("error",o),e.on("data",e=>h+=e),e.on("end",()=>{try{if(null!=e.statusCode&&e.statusCode>=400){const r=E(e,"content-type"),n=null!=r&&(Array.isArray(r)?null!=r.find(e=>e.includes("json")):r.includes("json"));o(d(e,`method: ${t.method||"GET"} url: ${t.protocol||"https:"}//${t.hostname}${t.port?`:${t.port}`:""}${t.path}\n\n          Data:\n          ${n?JSON.stringify(JSON.parse(h)):h}\n          `))}else n(0===h.length?null:h)}catch(e){o(e)}})}async downloadToBuffer(e,t){return await t.cancellationToken.createPromise((r,n,o)=>{const i=[],s={headers:t.headers||void 0,redirect:"manual"};y(e,s),w(s),this.doDownload(s,{destination:null,options:t,onCancel:o,callback:e=>{null==e?r(Buffer.concat(i)):n(e)},responseHandler:(e,t)=>{let r=0;e.on("data",e=>{r+=e.length,r>524288e3?t(new Error("Maximum allowed size is 500 MB")):i.push(e)}),e.on("end",()=>{t(null)})}},0)})}doDownload(e,t,r){const n=this.createRequest(e,n=>{if(n.statusCode>=400)return void t.callback(new Error(`Cannot download "${e.protocol||"https:"}//${e.hostname}${e.path}", status ${n.statusCode}: ${n.statusMessage}`));n.on("error",t.callback);const o=E(n,"location");null==o?null==t.responseHandler?function(e,t){if(r=E(t,"X-Checksum-Sha2"),n=e.options.sha2,o=e.callback,null!=r&&null!=n&&r!==n&&(o(new Error(`checksum mismatch: expected ${n} but got ${r} (X-Checksum-Sha2 header)`)),1))return;var r,n,o;const s=[];if(null!=e.options.onProgress){const r=E(t,"content-length");null!=r&&s.push(new u.ProgressCallbackTransform(parseInt(r,10),e.options.cancellationToken,e.options.onProgress))}const a=e.options.sha512;null!=a?s.push(new v(a,"sha512",128!==a.length||a.includes("+")||a.includes("Z")||a.includes("=")?"base64":"hex")):null!=e.options.sha2&&s.push(new v(e.options.sha2,"sha256","hex"));const c=(0,i.createWriteStream)(e.destination);s.push(c);let l=t;for(const t of s)t.on("error",t=>{c.close(),e.options.cancellationToken.cancelled||e.callback(t)}),l=l.pipe(t);c.on("finish",()=>{c.close(e.callback)})}(t,n):t.responseHandler(n,t.callback):r<this.maxRedirects?this.doDownload(g.prepareRedirectUrlOptions(o,e),t,r++):t.callback(this.createMaxRedirectError())});this.addErrorAndTimeoutHandlers(n,t.callback,e.timeout),this.addRedirectHandlers(n,e,t.callback,r,e=>{this.doDownload(e,t,r++)}),n.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(e,t,r){e.on("socket",n=>{n.setTimeout(r,()=>{e.abort(),t(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(e,t){const r=m(e,{...t}),n=r.headers;if(null==n?void 0:n.authorization){const t=new a.URL(e);(t.hostname.endsWith(".amazonaws.com")||t.searchParams.has("X-Amz-Credential"))&&delete n.authorization}return r}static retryOnServerError(e,t=3){for(let r=0;;r++)try{return e()}catch(e){if(r<t&&(e instanceof f&&e.isServerError()||"EPIPE"===e.code))continue;throw e}}}function m(e,t){const r=w(t);return y(new a.URL(e),r),r}function y(e,t){t.protocol=e.protocol,t.hostname=e.hostname,e.port?t.port=e.port:t.port&&delete t.port,t.path=e.pathname+e.search}t.HttpExecutor=g;class v extends s.Transform{get actual(){return this._actual}constructor(e,t="sha512",r="base64"){super(),this.expected=e,this.algorithm=t,this.encoding=r,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,n.createHash)(t)}_transform(e,t,r){this.digester.update(e),r(null,e)}_flush(e){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(t){return void e(t)}e(null)}validate(){if(null==this._actual)throw(0,l.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,l.newError)(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}function E(e,t){const r=e.headers[t];return null==r?null:Array.isArray(r)?0===r.length?null:r[r.length-1]:r}function w(e,t,r){null!=r&&(e.method=r),e.headers={...e.headers};const n=e.headers;return null!=t&&(n.authorization=t.startsWith("Basic")||t.startsWith("Bearer")?t:`token ${t}`),null==n["User-Agent"]&&(n["User-Agent"]="electron-builder"),null!=r&&"GET"!==r&&null!=n["Cache-Control"]||(n["Cache-Control"]="no-cache"),null==e.protocol&&null!=process.versions.electron&&(e.protocol="https:"),e}function b(e,t){return JSON.stringify(e,(e,r)=>e.endsWith("Authorization")||e.endsWith("authorization")||e.endsWith("Password")||e.endsWith("PASSWORD")||e.endsWith("Token")||e.includes("password")||e.includes("token")||null!=t&&t.has(e)?"<stripped sensitive data>":r,2)}t.DigestTransform=v},5692:e=>{"use strict";e.exports=require("https")},5753:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(7833):e.exports=r(6033)},5776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=void 0,t.findFile=function(e,t,r){if(0===e.length)throw(0,n.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const o=e.find(e=>e.url.pathname.toLowerCase().endsWith(`.${t}`));return null!=o?o:null==r?e[0]:e.find(e=>!r.some(t=>e.url.pathname.toLowerCase().endsWith(`.${t}`)))},t.parseUpdateInfo=function(e,t,r){if(null==e)throw(0,n.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let i;try{i=(0,o.load)(e)}catch(o){throw(0,n.newError)(`Cannot parse update info from ${t} in the latest release artifacts (${r}): ${o.stack||o.message}, rawData: ${e}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return i},t.getFileList=s,t.resolveFiles=function(e,t,r=e=>e){const o=s(e).map(e=>{if(null==e.sha2&&null==e.sha512)throw(0,n.newError)(`Update info doesn't contain nor sha256 neither sha512 checksum: ${(0,n.safeStringifyJson)(e)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:(0,i.newUrlFromBase)(r(e.url),t),info:e}}),a=e.packages,c=null==a?null:a[process.arch]||a.ia32;return null!=c&&(o[0].packageInfo={...c,path:(0,i.newUrlFromBase)(r(c.path),t).href}),o};const n=r(5129),o=r(7210),i=r(906);function s(e){const t=e.files;if(null!=t&&t.length>0)return t;if(null!=e.path)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw(0,n.newError)(`No files provided: ${(0,n.safeStringifyJson)(e)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}t.Provider=class{constructor(e){this.runtimeOptions=e,this.requestHeaders=null,this.executor=e.executor}get isUseMultipleRangeRequest(){return!1!==this.runtimeOptions.isUseMultipleRangeRequest}getChannelFilePrefix(){if("linux"===this.runtimeOptions.platform){const e=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+("x64"===e?"":`-${e}`)}return"darwin"===this.runtimeOptions.platform?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(e){return`${e}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(e){this.requestHeaders=e}httpRequest(e,t,r){return this.executor.request(this.createRequestOptions(e,t),r)}createRequestOptions(e,t){const r={};return null==this.requestHeaders?null!=t&&(r.headers=t):r.headers=null==t?this.requestHeaders:{...this.requestHeaders,...t},(0,n.configureRequestUrl)(e,r),r}}},5879:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.NsisUpdater=t.MacUpdater=t.RpmUpdater=t.PacmanUpdater=t.DebUpdater=t.AppImageUpdater=t.Provider=t.NoOpLogger=t.AppUpdater=t.BaseUpdater=void 0;const i=r(8799),s=r(6928);var a=r(9322);Object.defineProperty(t,"BaseUpdater",{enumerable:!0,get:function(){return a.BaseUpdater}});var c=r(4718);Object.defineProperty(t,"AppUpdater",{enumerable:!0,get:function(){return c.AppUpdater}}),Object.defineProperty(t,"NoOpLogger",{enumerable:!0,get:function(){return c.NoOpLogger}});var l=r(5776);Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return l.Provider}});var u=r(6441);Object.defineProperty(t,"AppImageUpdater",{enumerable:!0,get:function(){return u.AppImageUpdater}});var p=r(3378);Object.defineProperty(t,"DebUpdater",{enumerable:!0,get:function(){return p.DebUpdater}});var d=r(1005);Object.defineProperty(t,"PacmanUpdater",{enumerable:!0,get:function(){return d.PacmanUpdater}});var h=r(3916);Object.defineProperty(t,"RpmUpdater",{enumerable:!0,get:function(){return h.RpmUpdater}});var f=r(2658);Object.defineProperty(t,"MacUpdater",{enumerable:!0,get:function(){return f.MacUpdater}});var g=r(776);let m;Object.defineProperty(t,"NsisUpdater",{enumerable:!0,get:function(){return g.NsisUpdater}}),o(r(3765),t),Object.defineProperty(t,"autoUpdater",{enumerable:!0,get:()=>m||function(){if("win32"===process.platform)m=new(r(776).NsisUpdater);else if("darwin"===process.platform)m=new(r(2658).MacUpdater);else{m=new(r(6441).AppImageUpdater);try{const e=s.join(process.resourcesPath,"package-type");if(!(0,i.existsSync)(e))return m;console.info("Checking for beta autoupdate feature for deb/rpm distributions");const t=(0,i.readFileSync)(e).toString().trim();switch(console.info("Found package-type:",t),t){case"deb":m=new(r(3378).DebUpdater);break;case"rpm":m=new(r(3916).RpmUpdater);break;case"pacman":m=new(r(1005).PacmanUpdater)}}catch(e){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",e.message)}}return m}()})},5884:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},5989:(e,t,r)=>{"use strict";var n=r(5879),o=r(329),i=r.n(o),s=r(1288),a=r(6928),c=r(5317);const l=require("dgram");var u=r.n(l);const p={homm2:"C:/Games/Heroes2/HEROES2.EXE",homm3:"C:/Games/Heroes3/HEROES3.EXE"};s.ipcMain.handle("start-game",async(e,t,r)=>{if("string"!=typeof t||r&&"string"!=typeof r)return void console.error("Invalid arguments for start-game:",{gameId:t,exePath:r});const n=r||p[t];n&&"string"==typeof n&&(0,c.execFile)(n,e=>{e&&console.error("Failed to launch game:",e)})});const d=41234,h="255.255.255.255",f=u().createSocket("udp4");f.bind(d,()=>{f.setBroadcast(!0)}),s.ipcMain.handle("lan-discover",async()=>new Promise(e=>{const t=[],r=Buffer.from(JSON.stringify({type:"discover"}));f.send(r,0,r.length,d,h);const n=e=>{try{const r=JSON.parse(e.toString());"lobbies"===r.type&&t.push(...r.lobbies)}catch{}};f.on("message",n),setTimeout(()=>{f.off("message",n),e(t)},500)})),s.ipcMain.handle("lan-announce",async(e,t)=>{if(!t||"object"!=typeof t||"string"!=typeof t.id)return void console.error("Invalid lobby for lan-announce:",t);const r=Buffer.from(JSON.stringify({type:"announce",lobby:t}));f.send(r,0,r.length,d,h)}),s.ipcMain.handle("lan-remove",async(e,t)=>{if("string"!=typeof t)return void console.error("Invalid lobbyId for lan-remove:",t);const r=Buffer.from(JSON.stringify({type:"remove",lobbyId:t}));f.send(r,0,r.length,d,h)});const g=u().createSocket("udp4");g.bind(41234,()=>{g.setBroadcast(!0)}),s.ipcMain.handle("lan-broadcast",async(e,t)=>{const r=Buffer.from(JSON.stringify(t));g.send(r,0,r.length,41234,"255.255.255.255")}),g.on("message",e=>{let t;try{t=JSON.parse(e.toString())}catch{return}s.BrowserWindow.getAllWindows().forEach(e=>{e.webContents.send("lan-event",t)})}),s.app.whenReady().then(function(){i().info("Lobby App started"),n.autoUpdater.checkForUpdatesAndNotify(),n.autoUpdater.logger=i(),n.autoUpdater.on("update-available",()=>{i().info("Update available"),e.webContents.send("update-available")}),n.autoUpdater.on("update-downloaded",()=>{i().info("Update downloaded"),e.webContents.send("update-downloaded")});const e=new s.BrowserWindow({width:1e3,height:700,webPreferences:{preload:a.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0}});e.loadFile(a.join(__dirname,"index.html")),e.webContents.on("will-navigate",(t,r)=>{i().warn("Blocked navigation to:",r),r!==e.webContents.getURL()&&t.preventDefault()}),e.webContents.setWindowOpenHandler(()=>(i().warn("Blocked window open attempt"),{action:"deny"}))}),s.app.on("window-all-closed",()=>{"darwin"!==process.platform&&s.app.quit()})},6029:(e,t,r)=>{"use strict";const n=r(9896),o=r(857),i=r(6928),s=r(8308);let a=!1,c=!1;e.exports={initialize({externalApi:e,getSessions:t,includeFutureSession:r,logger:l,preload:u=!0,spyRendererConsole:p=!1}){e.onAppReady(()=>{try{u&&function({externalApi:e,getSessions:t,includeFutureSession:r,logger:c,preloadOption:l}){let u="string"==typeof l?l:void 0;if(a)c.warn(new Error("log.initialize({ preload }) already called").stack);else{a=!0;try{u=i.resolve(__dirname,"../renderer/electron-log-preload.js")}catch{}if(!u||!n.existsSync(u)){u=i.join(e.getAppUserDataPath()||o.tmpdir(),"electron-log-preload.js");const t=`\n      try {\n        (${s.toString()})(require('electron'));\n      } catch(e) {\n        console.error(e);\n      }\n    `;n.writeFileSync(u,t,"utf8")}e.setPreloadFileForSessions({filePath:u,includeFutureSession:r,getSessions:t})}}({externalApi:e,getSessions:t,includeFutureSession:r,logger:l,preloadOption:u}),p&&function({externalApi:e,logger:t}){if(c)return void t.warn(new Error("log.initialize({ spyRendererConsole }) already called").stack);c=!0;const r=["debug","info","warn","error"];e.onEveryWebContentsEvent("console-message",(e,n,o)=>{t.processMessage({data:[o],level:r[n],variables:{processType:"renderer"}})})}({externalApi:e,logger:l})}catch(e){l.warn(e)}})}}},6033:(e,t,r)=>{const n=r(2018),o=r(9023);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(7687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(736)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},6162:(e,t,r)=>{"use strict";const n=r(3735);e.exports={symlinkType:function(e,t,r){if(r="function"==typeof t?t:r,t="function"!=typeof t&&t)return r(null,t);n.lstat(e,(e,n)=>{if(e)return r(null,"file");t=n&&n.isDirectory()?"dir":"file",r(null,t)})},symlinkTypeSync:function(e,t){let r;if(t)return t;try{r=n.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}}},6170:(e,t,r)=>{"use strict";const n=r(3908),o=r(144),{safeRe:i,t:s}=r(9718);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?i[s.COERCERTLFULL]:i[s.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?i[s.COERCEFULL]:i[s.COERCE]);if(null===r)return null;const a=r[2],c=r[3]||"0",l=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",p=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o(`${a}.${c}.${l}${u}${p}`,t)}},6176:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppCacheDir=function(){const e=(0,o.homedir)();let t;return t="win32"===process.platform?process.env.LOCALAPPDATA||n.join(e,"AppData","Local"):"darwin"===process.platform?n.join(e,"Library","Caches"):process.env.XDG_CACHE_HOME||n.join(e,".cache"),t};const n=r(6928),o=r(857)},6184:(e,t,r)=>{"use strict";e.exports=r(7759).extend({implicit:[r(9198),r(6199),r(4466),r(1461)]})},6199:(e,t,r)=>{"use strict";var n=r(5388);e.exports=new n("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},6230:e=>{"use strict";e.exports={transformStyles:o,applyAnsiStyles:({data:e})=>o(e,r,n),removeStyles:({data:e})=>o(e,()=>"")};const t={unset:"[0m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",gray:"[90m"};function r(e){const r=e.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return t[r]||""}function n(e){return e+t.unset}function o(e,t,r){const n={};return e.reduce((e,o,i,s)=>{if(n[i])return e;if("string"==typeof o){let e=i,a=!1;o=o.replace(/%[1cdfiOos]/g,r=>{if(e+=1,"%c"!==r)return r;const i=s[e];return"string"==typeof i?(n[e]=!0,a=!0,t(i,o)):r}),a&&r&&(o=r(o))}return e.push(o),e},[])}},6254:(e,t,r)=>{"use strict";const n=r(3908);e.exports=(e,t)=>new n(e,t).minor},6338:(e,t,r)=>{"use strict";const n=r(3950).fromCallback,o=r(6928),i=r(3735),s=r(8860);e.exports={createFile:n(function(e,t){function r(){i.writeFile(e,"",e=>{if(e)return t(e);t()})}i.stat(e,(n,a)=>{if(!n&&a.isFile())return t();const c=o.dirname(e);i.stat(c,(e,n)=>{if(e)return"ENOENT"===e.code?s.mkdirs(c,e=>{if(e)return t(e);r()}):t(e);n.isDirectory()?r():i.readdir(c,e=>{if(e)return t(e)})})})}),createFileSync:function(e){let t;try{t=i.statSync(e)}catch{}if(t&&t.isFile())return;const r=o.dirname(e);try{i.statSync(r).isDirectory()||i.readdirSync(r)}catch(e){if(!e||"ENOENT"!==e.code)throw e;s.mkdirsSync(r)}i.writeFileSync(e,"")}}},6358:(e,t,r)=>{"use strict";const n=r(3735),o=r(6928),i=r(2057).copySync,s=r(5532).removeSync,a=r(8860).mkdirpSync,c=r(396);function l(e,t,r){try{n.renameSync(e,t)}catch(n){if("EXDEV"!==n.code)throw n;return function(e,t,r){return i(e,t,{overwrite:r,errorOnExist:!0}),s(e)}(e,t,r)}}e.exports=function(e,t,r){const i=(r=r||{}).overwrite||r.clobber||!1,{srcStat:u,isChangingCase:p=!1}=c.checkPathsSync(e,t,"move",r);return c.checkParentPathsSync(e,u,t,"move"),function(e){const t=o.dirname(e);return o.parse(t).root===t}(t)||a(o.dirname(t)),function(e,t,r,o){if(o)return l(e,t,r);if(r)return s(t),l(e,t,r);if(n.existsSync(t))throw new Error("dest already exists.");return l(e,t,r)}(e,t,i,p)}},6393:(e,t,r)=>{"use strict";const n=r(885),o=r(3616),i=r(4857),s=r(6954);"object"==typeof process&&"browser"===process.type&&console.warn("electron-log/renderer is loaded in the main process. It could cause unexpected behaviour."),e.exports=function(){const e=new n({allowUnknownLevel:!0,errorHandler:new o,initializeFn:()=>{},logId:"default",transportFactories:{console:i,ipc:s},variables:{processType:"renderer"}});return e.errorHandler.setOptions({logFn({error:t,errorName:r,showDialog:n}){e.transports.console({data:[r,t].filter(Boolean),level:"error"}),e.transports.ipc({cmd:"errorHandler",error:{cause:t?.cause,code:t?.code,name:t?.name,message:t?.message,stack:t?.stack},errorName:r,logId:e.logId,showDialog:n})}}),"object"==typeof window&&window.addEventListener("message",e=>{const{cmd:t,logId:r,...o}=e.data||{},i=n.getInstance({logId:r});"message"===t&&i.processMessage(o,{transports:["console"]})}),new Proxy(e,{get:(t,r)=>void 0!==t[r]?t[r]:(...t)=>e.logData(t,{level:r})})}(),e.exports.Logger=n,e.exports.default=e.exports},6441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppImageUpdater=void 0;const n=r(5129),o=r(5317),i=r(8799),s=r(9896),a=r(6928),c=r(9322),l=r(1972),u=r(5776),p=r(3765);class d extends c.BaseUpdater{constructor(e,t){super(e,t)}isUpdaterActive(){return null==process.env.APPIMAGE?(null==process.env.SNAP?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(e){const t=e.updateInfoAndProvider.provider,r=(0,u.findFile)(t.resolveFiles(e.updateInfoAndProvider.info),"AppImage",["rpm","deb","pacman"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:r,downloadUpdateOptions:e,task:async(o,s)=>{const a=process.env.APPIMAGE;if(null==a)throw(0,n.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(e.disableDifferentialDownload||await this.downloadDifferential(r,a,o,t,e))&&await this.httpExecutor.download(r.url,o,s),await(0,i.chmod)(o,493)}})}async downloadDifferential(e,t,r,n,o){try{const i={newUrl:e.url,oldFile:t,logger:this._logger,newFile:r,isUseMultipleRangeRequest:n.isUseMultipleRangeRequest,requestHeaders:o.requestHeaders,cancellationToken:o.cancellationToken};return this.listenerCount(p.DOWNLOAD_PROGRESS)>0&&(i.onProgress=e=>this.emit(p.DOWNLOAD_PROGRESS,e)),await new l.FileWithEmbeddedBlockMapDifferentialDownloader(e.info,this.httpExecutor,i).download(),!1}catch(e){return this._logger.error(`Cannot download differentially, fallback to full download: ${e.stack||e}`),"linux"===process.platform}}doInstall(e){const t=process.env.APPIMAGE;if(null==t)throw(0,n.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let r;(0,s.unlinkSync)(t);const i=a.basename(t),c=this.installerPath;if(null==c)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;r=a.basename(c)!==i&&/\d+\.\d+\.\d+/.test(i)?a.join(a.dirname(t),a.basename(c)):t,(0,o.execFileSync)("mv",["-f",c,r]),r!==t&&this.emit("appimage-filename-updated",r);const l={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return e.isForceRunAfter?this.spawnLog(r,[],l):(l.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,o.execFileSync)(r,[],{env:l})),!0}}t.AppImageUpdater=d},6566:(e,t,r)=>{"use strict";const n=r(3950).fromPromise,o=r(4603);e.exports={pathExists:n(function(e){return o.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:o.existsSync}},6578:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifySignature=function(e,t,r){return new Promise((i,c)=>{const l=t.replace(/'/g,"''");r.info(`Verifying signature ${l}`),(0,o.execFile)('set "PSModulePath=" & chcp 65001 >NUL & powershell.exe',["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`"Get-AuthenticodeSignature -LiteralPath '${l}' | ConvertTo-Json -Compress"`],{shell:!0,timeout:2e4},(o,l,u)=>{var p;try{if(null!=o||u)return a(r,o,u,c),void i(null);const d=function(e){const t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;const r=t.SignerCertificate;return null!=r&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),t}(l);if(0===d.Status){try{const e=s.normalize(d.Path),n=s.normalize(t);if(r.info(`LiteralPath: ${e}. Update Path: ${n}`),e!==n)return a(r,new Error(`LiteralPath of ${e} is different than ${n}`),u,c),void i(null)}catch(o){r.warn(`Unable to verify LiteralPath of update asset due to missing data.Path. Skipping this step of validation. Message: ${null!==(p=o.message)&&void 0!==p?p:o.stack}`)}const l=(0,n.parseDn)(d.SignerCertificate.Subject);let h=!1;for(const t of e){const e=(0,n.parseDn)(t);if(e.size?h=Array.from(e.keys()).every(t=>e.get(t)===l.get(t)):t===l.get("CN")&&(r.warn(`Signature validated using only CN ${t}. Please add your full Distinguished Name (DN) to publisherNames configuration`),h=!0),h)return void i(null)}}const h=`publisherNames: ${e.join(" | ")}, raw info: `+JSON.stringify(d,(e,t)=>"RawData"===e?void 0:t,2);r.warn(`Sign verification failed, installer signed with incorrect certificate: ${h}`),i(h)}catch(e){return a(r,e,null,c),void i(null)}})})};const n=r(5129),o=r(5317),i=r(857),s=r(6928);function a(e,t,r,n){if(function(){const e=i.release();return e.startsWith("6.")&&!e.startsWith("6.3")}())e.warn(`Cannot execute Get-AuthenticodeSignature: ${t||r}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);else{try{(0,o.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:1e4})}catch(t){return void e.warn(`Cannot execute ConvertTo-Json: ${t.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`)}null!=t&&n(t),r&&n(new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${r}. Failing signature validation due to unknown stderr.`))}}},6585:e=>{var t=1e3,r=60*t,n=60*r,o=24*n,i=7*o;function s(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,a){a=a||{};var c,l,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*i;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===u&&isFinite(e))return a.long?(c=e,(l=Math.abs(c))>=o?s(c,l,o,"day"):l>=n?s(c,l,n,"hour"):l>=r?s(c,l,r,"minute"):l>=t?s(c,l,t,"second"):c+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6663:(e,t,r)=>{"use strict";var n=r(5388),o=Object.prototype.hasOwnProperty;e.exports=new n("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(o.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},6780:(e,t,r)=>{"use strict";const n=r(8311);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},6820:(e,t,r)=>{"use strict";const n=r(3735),o=r(6928),i=r(2057).copy,s=r(5532).remove,a=r(8860).mkdirp,c=r(6566).pathExists,l=r(396);function u(e,t,r,n,o){return n?p(e,t,r,o):r?s(t,n=>n?o(n):p(e,t,r,o)):void c(t,(n,i)=>n?o(n):i?o(new Error("dest already exists.")):p(e,t,r,o))}function p(e,t,r,o){n.rename(e,t,n=>n?"EXDEV"!==n.code?o(n):function(e,t,r,n){i(e,t,{overwrite:r,errorOnExist:!0},t=>t?n(t):s(e,n))}(e,t,r,o):o())}e.exports=function(e,t,r,n){"function"==typeof r&&(n=r,r={});const i=(r=r||{}).overwrite||r.clobber||!1;l.checkPaths(e,t,"move",r,(r,s)=>{if(r)return n(r);const{srcStat:c,isChangingCase:p=!1}=s;l.checkParentPaths(e,c,t,"move",r=>r?n(r):function(e){const t=o.dirname(e);return o.parse(t).root===t}(t)?u(e,t,i,p,n):void a(o.dirname(t),r=>r?n(r):u(e,t,i,p,n)))})}},6874:e=>{"use strict";const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},6928:e=>{"use strict";e.exports=require("path")},6942:(e,t,r)=>{"use strict";var n=r(5388),o=Object.prototype.toString;e.exports=new n("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],"[object Object]"!==o.call(n))return!1;if(1!==(i=Object.keys(n)).length)return!1;s[t]=[i[0],n[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,n,o,i,s=e;for(i=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],o=Object.keys(n),i[t]=[o[0],n[o[0]]];return i}})},6946:(e,t,r)=>{"use strict";var n=r(5388),o=Object.prototype.hasOwnProperty,i=Object.prototype.toString;e.exports=new n("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,s,a,c=[],l=e;for(t=0,r=l.length;t<r;t+=1){if(n=l[t],a=!1,"[object Object]"!==i.call(n))return!1;for(s in n)if(o.call(n,s)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==c.indexOf(s))return!1;c.push(s)}return!0},construct:function(e){return null!==e?e:[]}})},6953:(e,t,r)=>{"use strict";const n=r(144);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},6954:(e,t,r)=>{"use strict";const{transform:n}=r(8915);e.exports=function(e){return Object.assign(function t(r){if(window.__electronLog)try{const o=n({initialData:r,logger:e,message:r,transport:t});__electronLog.sendToMain(o)}catch(t){e.transports.console({data:["electronLog.transports.ipc",t,"data:",r.data],level:"error"})}else e.processMessage({data:["electron-log: logger isn't initialized in the main process"],level:"error"},{transports:["console"]})},{depth:5,transforms:[s]})};const o=new Set([Promise,WeakMap,WeakSet]);function i(e){return Object(e)!==e}function s({data:e,depth:t,seen:r=new WeakSet,transport:n={}}={}){const a=t||n.depth||5;return r.has(e)?"[Circular]":a<1?i(e)?e:Array.isArray(e)?"[Array]":`[${typeof e}]`:["function","symbol"].includes(typeof e)?e.toString():i(e)?e:o.has(e.constructor)?`[${e.constructor.name}]`:Array.isArray(e)?e.map(e=>s({data:e,depth:a-1,seen:r})):e instanceof Date?e.toISOString():e instanceof Error?e.stack:e instanceof Map?new Map(Array.from(e).map(([e,t])=>[s({data:e,depth:a-1,seen:r}),s({data:t,depth:a-1,seen:r})])):e instanceof Set?new Set(Array.from(e).map(e=>s({data:e,depth:a-1,seen:r}))):(r.add(e),Object.fromEntries(Object.entries(e).map(([e,t])=>[e,s({data:t,depth:a-1,seen:r})])))}},6982:e=>{"use strict";e.exports=require("crypto")},7016:e=>{"use strict";e.exports=require("url")},7045:(e,t,r)=>{"use strict";const n=r(3950).fromPromise,o=r(4603),i=r(6928),s=r(8860),a=r(5532),c=n(async function(e){let t;try{t=await o.readdir(e)}catch{return s.mkdirs(e)}return Promise.all(t.map(t=>a.remove(i.join(e,t))))});function l(e){let t;try{t=o.readdirSync(e)}catch{return s.mkdirsSync(e)}t.forEach(t=>{t=i.join(e,t),a.removeSync(t)})}e.exports={emptyDirSync:l,emptydirSync:l,emptyDir:c,emptydir:c}},7059:(e,t,r)=>{"use strict";const n=r(560);e.exports=(e,t,r)=>n(e,t,r)<0},7075:(e,t,r)=>{"use strict";const n=r(3908),o=r(3904),{ANY:i}=o,s=r(8311),a=r(7638),c=r(5580),l=r(7059),u=r(5200),p=r(4089);e.exports=(e,t,r,d)=>{let h,f,g,m,y;switch(e=new n(e,d),t=new s(t,d),r){case">":h=c,f=u,g=l,m=">",y=">=";break;case"<":h=l,f=p,g=c,m="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let s=null,a=null;if(n.forEach(e=>{e.semver===i&&(e=new o(">=0.0.0")),s=s||e,a=a||e,h(e.semver,s.semver,d)?s=e:g(e.semver,a.semver,d)&&(a=e)}),s.operator===m||s.operator===y)return!1;if((!a.operator||a.operator===m)&&f(e,a.semver))return!1;if(a.operator===y&&g(e,a.semver))return!1}return!0}},7183:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retry=async function e(t,r,o,i=0,s=0,a){var c;const l=new n.CancellationToken;try{return await t()}catch(n){if((null===(c=null==a?void 0:a(n))||void 0===c||c)&&r>0&&!l.cancelled)return await new Promise(e=>setTimeout(e,o+i*s)),await e(t,r-1,o,i,s+1,a);throw n}};const n=r(9993)},7210:(e,t,r)=>{"use strict";var n=r(9243),o=r(4781);function i(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}e.exports.Type=r(5388),e.exports.Schema=r(2119),e.exports.FAILSAFE_SCHEMA=r(7759),e.exports.JSON_SCHEMA=r(6184),e.exports.CORE_SCHEMA=r(1769),e.exports.DEFAULT_SCHEMA=r(5489),e.exports.load=n.load,e.exports.loadAll=n.loadAll,e.exports.dump=o.dump,e.exports.YAMLException=r(1231),e.exports.types={binary:r(9342),float:r(1461),map:r(2369),null:r(9198),pairs:r(6942),set:r(6663),timestamp:r(127),bool:r(6199),int:r(4466),merge:r(1851),omap:r(6946),seq:r(8636),str:r(7212)},e.exports.safeLoad=i("safeLoad","load"),e.exports.safeLoadAll=i("safeLoadAll","loadAll"),e.exports.safeDump=i("safeDump","dump")},7212:(e,t,r)=>{"use strict";var n=r(5388);e.exports=new n("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},7272:e=>{"use strict";const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},7295:(e,t,r)=>{"use strict";const n=r(1288),o=r(2088),{initialize:i}=r(6029),s=r(8559),a=new o({electron:n}),c=s({dependencies:{externalApi:a},initializeFn:i});function l(e){c.Logger.getInstance(e)?.processMessage(e)}e.exports=c,a.onIpc("__ELECTRON_LOG__",(e,t)=>{t.scope&&c.Logger.getInstance(t).scope(t.scope);const r=new Date(t.date);l({...t,date:r.getTime()?r:new Date})}),a.onIpcInvoke("__ELECTRON_LOG__",(e,{cmd:t="",logId:r})=>"getOptions"===t?{levels:c.Logger.getInstance({logId:r}).levels,logId:r}:(l({data:[`Unknown cmd '${t}'`],level:"error"}),{}))},7339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newError=function(e,t){const r=new Error(e);return r.code=t,r}},7364:(e,t,r)=>{"use strict";const n=r(4434),o=r(9896),i=r(857);e.exports=class extends n{asyncWriteQueue=[];bytesWritten=0;hasActiveAsyncWriting=!1;path=null;initialSize=void 0;writeOptions=null;writeAsync=!1;constructor({path:e,writeOptions:t={encoding:"utf8",flag:"a",mode:438},writeAsync:r=!1}){super(),this.path=e,this.writeOptions=t,this.writeAsync=r}get size(){return this.getSize()}clear(){try{return o.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(e){return"ENOENT"===e.code||(this.emit("error",e,this),!1)}}crop(e){try{const t=function(e,t){const r=Buffer.alloc(t),n=o.statSync(e),i=Math.min(n.size,t),s=Math.max(0,n.size-t),a=o.openSync(e,"r"),c=o.readSync(a,r,0,i,s);return o.closeSync(a),r.toString("utf8",0,c)}(this.path,e||4096);this.clear(),this.writeLine(`[log cropped]${i.EOL}${t}`)}catch(e){this.emit("error",new Error(`Couldn't crop file ${this.path}. ${e.message}`),this)}}getSize(){if(void 0===this.initialSize)try{const e=o.statSync(this.path);this.initialSize=e.size}catch(e){this.initialSize=0}return this.initialSize+this.bytesWritten}increaseBytesWrittenCounter(e){this.bytesWritten+=Buffer.byteLength(e,this.writeOptions.encoding)}isNull(){return!1}nextAsyncWrite(){const e=this;if(this.hasActiveAsyncWriting||0===this.asyncWriteQueue.length)return;const t=this.asyncWriteQueue.join("");this.asyncWriteQueue=[],this.hasActiveAsyncWriting=!0,o.writeFile(this.path,t,this.writeOptions,r=>{e.hasActiveAsyncWriting=!1,r?e.emit("error",new Error(`Couldn't write to ${e.path}. ${r.message}`),this):e.increaseBytesWrittenCounter(t),e.nextAsyncWrite()})}reset(){this.initialSize=void 0,this.bytesWritten=0}toString(){return this.path}writeLine(e){if(e+=i.EOL,this.writeAsync)return this.asyncWriteQueue.push(e),void this.nextAsyncWrite();try{o.writeFileSync(this.path,e,this.writeOptions),this.increaseBytesWrittenCounter(e)}catch(e){this.emit("error",new Error(`Couldn't write to ${this.path}. ${e.message}`),this)}}}},7414:(e,t,r)=>{"use strict";const n=r(144);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},7542:(e,t,r)=>{"use strict";const n=r(3950).fromCallback,o=r(3735),i=r(6928),s=r(8860),a=r(6566).pathExists;e.exports={outputFile:n(function(e,t,r,n){"function"==typeof r&&(n=r,r="utf8");const c=i.dirname(e);a(c,(i,a)=>i?n(i):a?o.writeFile(e,t,r,n):void s.mkdirs(c,i=>{if(i)return n(i);o.writeFile(e,t,r,n)}))}),outputFileSync:function(e,...t){const r=i.dirname(e);if(o.existsSync(r))return o.writeFileSync(e,...t);s.mkdirsSync(r),o.writeFileSync(e,...t)}}},7631:(e,t,r)=>{"use strict";const n=r(8311);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},7638:(e,t,r)=>{"use strict";const n=r(8311);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},7687:(e,t,r)=>{"use strict";const n=r(857),o=r(2018),i=r(5884),{env:s}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===a)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const r=a||0;if("dumb"===s.TERM)return r;if("win32"===process.platform){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in s)||"codeship"===s.CI_NAME?1:r;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:r}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?a=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(a=1),"FORCE_COLOR"in s&&(a="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,o.isatty(1))),stderr:c(l(!0,o.isatty(2)))}},7759:(e,t,r)=>{"use strict";var n=r(2119);e.exports=new n({explicit:[r(7212),r(8636),r(2369)]})},7764:(e,t,r)=>{"use strict";const{stringify:n}=r(8698),{outputFile:o}=r(7542);e.exports=async function(e,t,r={}){const i=n(t,r);await o(e,i,r)}},7791:e=>{"use strict";e.exports=class{constructor({processMessage:e}){this.processMessage=e,this.buffer=[],this.enabled=!1,this.begin=this.begin.bind(this),this.commit=this.commit.bind(this),this.reject=this.reject.bind(this)}addMessage(e){this.buffer.push(e)}begin(){this.enabled=[]}commit(){this.enabled=!1,this.buffer.forEach(e=>this.processMessage(e)),this.buffer=[]}reject(){this.enabled=!1,this.buffer=[]}}},7833:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(736)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},7981:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlProbablySupportMultiRangeRequests=l,t.createClient=function(e,t,r){if("string"==typeof e)throw(0,n.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const u=e.provider;switch(u){case"github":{const n=e,o=(n.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||n.token;return null==o?new s.GitHubProvider(n,t,r):new c.PrivateGitHubProvider(n,t,o,r)}case"bitbucket":return new o.BitbucketProvider(e,t,r);case"keygen":return new a.KeygenProvider(e,t,r);case"s3":case"spaces":return new i.GenericProvider({provider:"generic",url:(0,n.getS3LikeProviderBaseUrl)(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{const n=e;return new i.GenericProvider(n,t,{...r,isUseMultipleRangeRequest:!1!==n.useMultipleRangeRequest&&l(n.url)})}case"custom":{const o=e,i=o.updateProvider;if(!i)throw(0,n.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new i(o,t,r)}default:throw(0,n.newError)(`Unsupported provider: ${u}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}};const n=r(5129),o=r(1325),i=r(2705),s=r(1203),a=r(8067),c=r(4572);function l(e){return!e.includes("s3.amazonaws.com")}},8067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeygenProvider=void 0;const n=r(5129),o=r(906),i=r(5776);class s extends i.Provider{constructor(e,t,r){super({...r,isUseMultipleRangeRequest:!1}),this.configuration=e,this.updater=t,this.defaultHostname="api.keygen.sh";const n=this.configuration.host||this.defaultHostname;this.baseUrl=(0,o.newBaseUrl)(`https://${n}/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const e=new n.CancellationToken,t=(0,o.getChannelFilename)(this.getCustomChannelName(this.channel)),r=(0,o.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);try{const n=await this.httpRequest(r,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},e);return(0,i.parseUpdateInfo)(n,t,r)}catch(e){throw(0,n.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${e.stack||e.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(e){return(0,i.resolveFiles)(e,this.baseUrl)}toString(){const{account:e,product:t,platform:r}=this.configuration;return`Keygen (account: ${e}, product: ${t}, platform: ${r}, channel: ${this.channel})`}}t.KeygenProvider=s},8083:(e,t,r)=>{"use strict";var n=r(8433);function o(e,t,r,n,o){var i="",s="",a=Math.floor(o/2)-1;return n-t>a&&(t=n-a+(i=" ... ").length),r-n>a&&(r=n+a-(s=" ...").length),{str:i+e.slice(t,r).replace(/\t/g,"→")+s,pos:n-t+i.length}}function i(e,t){return n.repeat(" ",t-e.length)+e}e.exports=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var r,s=/\r?\n|\r|\0/g,a=[0],c=[],l=-1;r=s.exec(e.buffer);)c.push(r.index),a.push(r.index+r[0].length),e.position<=r.index&&l<0&&(l=a.length-2);l<0&&(l=a.length-1);var u,p,d="",h=Math.min(e.line+t.linesAfter,c.length).toString().length,f=t.maxLength-(t.indent+h+3);for(u=1;u<=t.linesBefore&&!(l-u<0);u++)p=o(e.buffer,a[l-u],c[l-u],e.position-(a[l]-a[l-u]),f),d=n.repeat(" ",t.indent)+i((e.line-u+1).toString(),h)+" | "+p.str+"\n"+d;for(p=o(e.buffer,a[l],c[l],e.position,f),d+=n.repeat(" ",t.indent)+i((e.line+1).toString(),h)+" | "+p.str+"\n",d+=n.repeat("-",t.indent+h+3+p.pos)+"^\n",u=1;u<=t.linesAfter&&!(l+u>=c.length);u++)p=o(e.buffer,a[l+u],c[l+u],e.position-(a[l]-a[l+u]),f),d+=n.repeat(" ",t.indent)+i((e.line+u+1).toString(),h)+" | "+p.str+"\n";return d.replace(/\n$/,"")}},8142:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Array]",a="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",p="[object Map]",d="[object Number]",h="[object Object]",f="[object Promise]",g="[object RegExp]",m="[object Set]",y="[object String]",v="[object WeakMap]",E="[object ArrayBuffer]",w="[object DataView]",b=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O[i]=O[s]=O[E]=O[a]=O[w]=O[c]=O[l]=O[u]=O[p]=O[d]=O[h]=O[g]=O[m]=O[y]=O[v]=!1;var A="object"==typeof global&&global&&global.Object===Object&&global,_="object"==typeof self&&self&&self.Object===Object&&self,I=A||_||Function("return this")(),C=t&&!t.nodeType&&t,T=C&&e&&!e.nodeType&&e,N=T&&T.exports===C,P=N&&A.process,D=function(){try{return P&&P.binding&&P.binding("util")}catch(e){}}(),R=D&&D.isTypedArray;function x(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function F(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function L(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var k,U,$,j=Array.prototype,M=Function.prototype,B=Object.prototype,q=I["__core-js_shared__"],H=M.toString,G=B.hasOwnProperty,W=(k=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",z=B.toString,V=RegExp("^"+H.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=N?I.Buffer:void 0,X=I.Symbol,J=I.Uint8Array,K=B.propertyIsEnumerable,Q=j.splice,Z=X?X.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=Y?Y.isBuffer:void 0,re=(U=Object.keys,$=Object,function(e){return U($(e))}),ne=Te(I,"DataView"),oe=Te(I,"Map"),ie=Te(I,"Promise"),se=Te(I,"Set"),ae=Te(I,"WeakMap"),ce=Te(Object,"create"),le=Re(ne),ue=Re(oe),pe=Re(ie),de=Re(se),he=Re(ae),fe=X?X.prototype:void 0,ge=fe?fe.valueOf:void 0;function me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ye(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ve(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ve;++t<r;)this.add(e[t])}function we(e){var t=this.__data__=new ye(e);this.size=t.size}function be(e,t){for(var r=e.length;r--;)if(xe(e[r][0],t))return r;return-1}function Se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Z&&Z in Object(e)?function(e){var t=G.call(e,Z),r=e[Z];try{e[Z]=void 0;var n=!0}catch(e){}var o=z.call(e);return n&&(t?e[Z]=r:delete e[Z]),o}(e):function(e){return z.call(e)}(e)}function Oe(e){return Me(e)&&Se(e)==i}function Ae(e,t,r,n,o){return e===t||(null==e||null==t||!Me(e)&&!Me(t)?e!=e&&t!=t:function(e,t,r,n,o,u){var f=Le(e),v=Le(t),b=f?s:Pe(e),S=v?s:Pe(t),O=(b=b==i?h:b)==h,A=(S=S==i?h:S)==h,_=b==S;if(_&&ke(e)){if(!ke(t))return!1;f=!0,O=!1}if(_&&!O)return u||(u=new we),f||Be(e)?_e(e,t,r,n,o,u):function(e,t,r,n,o,i,s){switch(r){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!i(new J(e),new J(t)));case a:case c:case d:return xe(+e,+t);case l:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case p:var u=F;case m:var h=1&n;if(u||(u=L),e.size!=t.size&&!h)return!1;var f=s.get(e);if(f)return f==t;n|=2,s.set(e,t);var v=_e(u(e),u(t),n,o,i,s);return s.delete(e),v;case"[object Symbol]":if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,b,r,n,o,u);if(!(1&r)){var I=O&&G.call(e,"__wrapped__"),C=A&&G.call(t,"__wrapped__");if(I||C){var T=I?e.value():e,N=C?t.value():t;return u||(u=new we),o(T,N,r,n,u)}}return!!_&&(u||(u=new we),function(e,t,r,n,o,i){var s=1&r,a=Ie(e),c=a.length;if(c!=Ie(t).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in t:G.call(t,u)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var d=!0;i.set(e,t),i.set(t,e);for(var h=s;++l<c;){var f=e[u=a[l]],g=t[u];if(n)var m=s?n(g,f,u,t,e,i):n(f,g,u,e,t,i);if(!(void 0===m?f===g||o(f,g,r,n,i):m)){d=!1;break}h||(h="constructor"==u)}if(d&&!h){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(d=!1)}return i.delete(e),i.delete(t),d}(e,t,r,n,o,u))}(e,t,r,n,Ae,o))}function _e(e,t,r,n,o,i){var s=1&r,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var l=i.get(e);if(l&&i.get(t))return l==t;var u=-1,p=!0,d=2&r?new Ee:void 0;for(i.set(e,t),i.set(t,e);++u<a;){var h=e[u],f=t[u];if(n)var g=s?n(f,h,u,t,e,i):n(h,f,u,e,t,i);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!x(t,function(e,t){if(s=t,!d.has(s)&&(h===e||o(h,e,r,n,i)))return d.push(t);var s})){p=!1;break}}else if(h!==f&&!o(h,f,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function Ie(e){return function(e,t,r){var n=t(e);return Le(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,qe,Ne)}function Ce(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function Te(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!je(e)||function(e){return!!W&&W in e}(e))&&(Ue(e)?V:b).test(Re(e))}(r)?r:void 0}me.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(ce){var r=t[e];return r===n?void 0:r}return G.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:G.call(t,e)},me.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ce&&void 0===t?n:t,this},ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(e){var t=this.__data__,r=be(t,e);return!(r<0||(r==t.length-1?t.pop():Q.call(t,r,1),--this.size,0))},ye.prototype.get=function(e){var t=this.__data__,r=be(t,e);return r<0?void 0:t[r][1]},ye.prototype.has=function(e){return be(this.__data__,e)>-1},ye.prototype.set=function(e,t){var r=this.__data__,n=be(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(oe||ye),string:new me}},ve.prototype.delete=function(e){var t=Ce(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return Ce(this,e).get(e)},ve.prototype.has=function(e){return Ce(this,e).has(e)},ve.prototype.set=function(e,t){var r=Ce(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Ee.prototype.add=Ee.prototype.push=function(e){return this.__data__.set(e,n),this},Ee.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new ye,this.size=0},we.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ye){var n=r.__data__;if(!oe||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ve(n)}return r.set(e,t),this.size=r.size,this};var Ne=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var s=e[r];t(s)&&(i[o++]=s)}return i}(ee(e),function(t){return K.call(e,t)}))}:function(){return[]},Pe=Se;function De(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function Re(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function xe(e,t){return e===t||e!=e&&t!=t}(ne&&Pe(new ne(new ArrayBuffer(1)))!=w||oe&&Pe(new oe)!=p||ie&&Pe(ie.resolve())!=f||se&&Pe(new se)!=m||ae&&Pe(new ae)!=v)&&(Pe=function(e){var t=Se(e),r=t==h?e.constructor:void 0,n=r?Re(r):"";if(n)switch(n){case le:return w;case ue:return p;case pe:return f;case de:return m;case he:return v}return t});var Fe=Oe(function(){return arguments}())?Oe:function(e){return Me(e)&&G.call(e,"callee")&&!K.call(e,"callee")},Le=Array.isArray,ke=te||function(){return!1};function Ue(e){if(!je(e))return!1;var t=Se(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function $e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function je(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Me(e){return null!=e&&"object"==typeof e}var Be=R?function(e){return function(t){return e(t)}}(R):function(e){return Me(e)&&$e(e.length)&&!!O[Se(e)]};function qe(e){return null!=(t=e)&&$e(t.length)&&!Ue(t)?function(e,t){var r=Le(e),n=!r&&Fe(e),o=!r&&!n&&ke(e),i=!r&&!n&&!o&&Be(e),s=r||n||o||i,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=a.length;for(var l in e)!t&&!G.call(e,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||De(l,c))||a.push(l);return a}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||B))return re(e);var t,r,n=[];for(var o in Object(e))G.call(e,o)&&"constructor"!=o&&n.push(o);return n}(e);var t}e.exports=function(e,t){return Ae(e,t)}},8308:(e,t,r)=>{"use strict";let n={};try{n=r(1288)}catch(e){}function o({contextBridge:e,ipcRenderer:t}){if(!t)return;t.on("__ELECTRON_LOG_IPC__",(e,t)=>{window.postMessage({cmd:"message",...t})}),t.invoke("__ELECTRON_LOG__",{cmd:"getOptions"}).catch(e=>console.error(new Error(`electron-log isn't initialized in the main process. Please call log.initialize() before. ${e.message}`)));const r={sendToMain(e){try{t.send("__ELECTRON_LOG__",e)}catch(r){console.error("electronLog.sendToMain ",r,"data:",e),t.send("__ELECTRON_LOG__",{cmd:"errorHandler",error:{message:r?.message,stack:r?.stack},errorName:"sendToMain"})}},log(...e){r.sendToMain({data:e,level:"info"})}};for(const e of["error","warn","info","verbose","debug","silly"])r[e]=(...t)=>r.sendToMain({data:t,level:e});if(e&&process.contextIsolated)try{e.exposeInMainWorld("__electronLog",r)}catch{}"object"==typeof window?window.__electronLog=r:__electronLog=r}n.ipcRenderer&&o(n),e.exports=o},8311:(e,t,r)=>{"use strict";const n=/\s+/g;class o{constructor(e,t){if(t=s(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&g)|(this.options.loose&&m))+":"+e,r=i.get(t);if(r)return r;const n=this.options.loose,o=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,P(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],d),c("comparator trim",e),e=e.replace(u[p.TILDETRIM],h),c("tilde trim",e),e=e.replace(u[p.CARETTRIM],f),c("caret trim",e);let s=e.split(" ").map(e=>w(e,this.options)).join(" ").split(/\s+/).map(e=>N(e,this.options));n&&(s=s.filter(e=>(c("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE])))),c("range list",s);const l=new Map,v=s.map(e=>new a(e,this.options));for(const e of v){if(y(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const E=[...l.values()];return i.set(t,E),E}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some(r=>E(r,t)&&e.set.some(e=>E(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(D(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const i=new(r(8794)),s=r(8587),a=r(3904),c=r(7272),l=r(3908),{safeRe:u,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(9718),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:m}=r(6874),y=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,E=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every(e=>o.intersects(e,t)),o=n.pop();return r},w=(e,t)=>(c("comp",e,t),e=A(e,t),c("caret",e),e=S(e,t),c("tildes",e),e=I(e,t),c("xrange",e),e=T(e,t),c("stars",e),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,S=(e,t)=>e.trim().split(/\s+/).map(e=>O(e,t)).join(" "),O=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,(t,r,n,o,i)=>{let s;return c("tilde",e,t,r,n,o,i),b(r)?s="":b(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:b(o)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(c("replaceTilde pr",i),s=`>=${r}.${n}.${o}-${i} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,c("tilde return",s),s})},A=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(e,t)=>{c("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,o,i,s)=>{let a;return c("caret",e,t,r,o,i,s),b(r)?a="":b(o)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:b(i)?a="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:s?(c("replaceCaret pr",s),a="0"===r?"0"===o?`>=${r}.${o}.${i}-${s} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}-${s} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i}-${s} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===o?`>=${r}.${o}.${i}${n} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i} <${+r+1}.0.0-0`),c("caret return",a),a})},I=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,(r,n,o,i,s,a)=>{c("xRange",e,r,n,o,i,s,a);const l=b(o),u=l||b(i),p=u||b(s),d=p;return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(i=0),s=0,">"===n?(n=">=",u?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",u?o=+o+1:i=+i+1),"<"===n&&(a="-0"),r=`${n+o}.${i}.${s}${a}`):u?r=`>=${o}.0.0${a} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${i}.0${a} <${o}.${+i+1}.0-0`),c("xRange return",r),r})},T=(e,t)=>(c("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),N=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),P=e=>(t,r,n,o,i,s,a,c,l,u,p,d)=>`${r=b(n)?"":b(o)?`>=${n}.0.0${e?"-0":""}`:b(i)?`>=${n}.${o}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=b(l)?"":b(u)?`<${+l+1}.0.0-0`:b(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`}`.trim(),D=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},8330:(e,t,r)=>{"use strict";const n=r(4603),{checkPath:o}=r(805),i=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(o(e),n.mkdir(e,{mode:i(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(o(e),n.mkdirSync(e,{mode:i(t),recursive:!0}))},8369:(e,t,r)=>{"use strict";const n=r(7364);e.exports=class extends n{clear(){}crop(){}getSize(){return 0}isNull(){return!0}writeLine(){}}},8433:e=>{"use strict";function t(e){return null==e}e.exports.isNothing=t,e.exports.isObject=function(e){return"object"==typeof e&&null!==e},e.exports.toArray=function(e){return Array.isArray(e)?e:t(e)?[]:[e]},e.exports.repeat=function(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n},e.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},e.exports.extend=function(e,t){var r,n,o,i;if(t)for(r=0,n=(i=Object.keys(t)).length;r<n;r+=1)e[o=i[r]]=t[o];return e}},8559:(e,t,r)=>{"use strict";const n=r(885),o=r(4454),i=r(2050),s=r(9456),a=r(1548),c=r(4631),l=r(9359);e.exports=function({dependencies:e,initializeFn:t}){const r=new n({dependencies:e,errorHandler:new o,eventLogger:new i,initializeFn:t,isDev:e.externalApi?.isDev(),logId:"default",transportFactories:{console:s,file:a,ipc:c,remote:l},variables:{processType:"main"}});return r.default=r,r.Logger=n,r.processInternalErrorFn=e=>{r.transports.console.writeFn({message:{data:["Unhandled electron-log error",e],level:"error"}})},r}},8587:e=>{"use strict";const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},8611:e=>{"use strict";e.exports=require("http")},8636:(e,t,r)=>{"use strict";var n=r(5388);e.exports=new n("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},8698:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:r=!0,replacer:n=null,spaces:o}={}){const i=r?t:"";return JSON.stringify(e,n,o).replace(/\n/g,t)+i},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},8794:e=>{"use strict";e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},8799:(e,t,r)=>{"use strict";e.exports={...r(4603),...r(2057),...r(7045),...r(4694),...r(3194),...r(8860),...r(345),...r(7542),...r(6566),...r(5532)}},8801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lazy=void 0,t.Lazy=class{constructor(e){this._value=null,this.creator=e}get hasValue(){return null==this.creator}get value(){if(null==this.creator)return this._value;const e=this.creator();return this.value=e,e}set value(e){this._value=e,this.creator=null}}},8860:(e,t,r)=>{"use strict";const n=r(3950).fromPromise,{makeDir:o,makeDirSync:i}=r(8330),s=n(o);e.exports={mkdirs:s,mkdirsSync:i,mkdirp:s,mkdirpSync:i,ensureDir:s,ensureDirSync:i}},8915:e=>{"use strict";e.exports={transform:function({logger:e,message:t,transport:r,initialData:n=t?.data||[],transforms:o=r?.transforms}){return o.reduce((n,o)=>"function"==typeof o?o({data:n,logger:e,message:t,transport:r}):n,n)}}},9023:e=>{"use strict";e.exports=require("util")},9084:(e,t,r)=>{"use strict";const n=r(9896),o=r(6928);function i(...e){if(e[0])try{const t=function(e,t){let r=t;for(;;){const t=o.parse(r),i=t.root,s=t.dir;if(n.existsSync(o.join(r,e)))return o.resolve(o.join(r,e));if(r===i)return null;r=s}}("package.json",o.join(...e));if(!t)return;const r=JSON.parse(n.readFileSync(t,"utf8")),i=r?.productName||r?.name;if(!i||"electron"===i.toLowerCase())return;return i?{name:i,version:r?.version}:void 0}catch(e){return}}e.exports={findAndReadPackageJson:function(){return i(function(){try{return r.c[r.s]?.filename}catch{return}}())||i(function(){const e=process.argv.filter(e=>0===e.indexOf("--user-data-dir="));return 0===e.length||"string"!=typeof e[0]?null:e[0].replace("--user-data-dir=","")}())||i(process.resourcesPath,"app.asar")||i(process.resourcesPath,"app")||i(process.cwd())||{name:void 0,version:void 0}},tryReadJsonAt:i}},9106:(e,t,r)=>{var n=r(9140),o=process.cwd,i=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=o.call(process)),i};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){i=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){function t(t){return t?function(r,n,o){return t.call(e,r,n,function(e){l(e)&&(e=null),o&&o.apply(this,arguments)})}:t}function r(t){return t?function(r,n){try{return t.call(e,r,n)}catch(e){if(!l(e))throw e}}:t}function o(t){return t?function(r,n,o,i){return t.call(e,r,n,o,function(e){l(e)&&(e=null),i&&i.apply(this,arguments)})}:t}function i(t){return t?function(r,n,o){try{return t.call(e,r,n,o)}catch(e){if(!l(e))throw e}}:t}function a(t){return t?function(r,n,o){function i(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof n&&(o=n,n=null),n?t.call(e,r,n,i):t.call(e,r,i)}:t}function c(t){return t?function(r,n){var o=n?t.call(e,r,n):t.call(e,r);return o&&(o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296)),o}:t}function l(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var u;n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,o){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,function(t,n){t?o&&o(t):e.fchmod(n,r,function(t){e.close(n,function(e){o&&o(t||e)})})})},e.lchmodSync=function(t,r){var o,i=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r),s=!0;try{o=e.fchmodSync(i,r),s=!1}finally{if(s)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return o}}(e),e.lutimes||function(e){n.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,r,o,i){e.open(t,n.O_SYMLINK,function(t,n){t?i&&i(t):e.futimes(n,r,o,function(t){e.close(n,function(e){i&&i(t||e)})})})},e.lutimesSync=function(t,r,o){var i,s=e.openSync(t,n.O_SYMLINK),a=!0;try{i=e.futimesSync(s,r,o),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return i}):e.futimes&&(e.lutimes=function(e,t,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=i(e.chownSync),e.fchownSync=i(e.fchownSync),e.lchownSync=i(e.lchownSync),e.chmodSync=r(e.chmodSync),e.fchmodSync=r(e.fchmodSync),e.lchmodSync=r(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,r,n){n&&process.nextTick(n)},e.lchownSync=function(){}),"win32"===s&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function r(r,n,o){var i=Date.now(),s=0;t(r,n,function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code||"EBUSY"===c.code)&&Date.now()-i<6e4)return setTimeout(function(){e.stat(n,function(e,i){e&&"ENOENT"===e.code?t(r,n,a):o(c)})},s),void(s<100&&(s+=10));o&&o(c)})}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function r(r,n,o,i,s,a){var c;if(a&&"function"==typeof a){var l=0;c=function(u,p,d){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,r,n,o,i,s,c);a.apply(this,arguments)}}return t.call(e,r,n,o,i,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(u=e.readSync,function(t,r,n,o,i){for(var s=0;;)try{return u.call(e,t,r,n,o,i)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}})}},9140:e=>{"use strict";e.exports=require("constants")},9198:(e,t,r)=>{"use strict";var n=r(5388);e.exports=new n("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})},9243:(e,t,r)=>{"use strict";var n=r(8433),o=r(1231),i=r(8083),s=r(5489),a=Object.prototype.hasOwnProperty,c=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,l=/[\x85\u2028\u2029]/,u=/[,\[\]\{\}]/,p=/^(?:!|!!|![a-z\-]+!)$/i,d=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function h(e){return Object.prototype.toString.call(e)}function f(e){return 10===e||13===e}function g(e){return 9===e||32===e}function m(e){return 9===e||32===e||10===e||13===e}function y(e){return 44===e||91===e||93===e||123===e||125===e}function v(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function E(e){return 120===e?2:117===e?4:85===e?8:0}function w(e){return 48<=e&&e<=57?e-48:-1}function b(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function S(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var O=new Array(256),A=new Array(256),_=0;_<256;_++)O[_]=b(_)?1:0,A[_]=b(_);function I(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||s,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function C(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=i(r),new o(t,r)}function T(e,t){throw C(e,t)}function N(e,t){e.onWarning&&e.onWarning.call(null,C(e,t))}var P={YAML:function(e,t,r){var n,o,i;null!==e.version&&T(e,"duplication of %YAML directive"),1!==r.length&&T(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&T(e,"ill-formed argument of the YAML directive"),o=parseInt(n[1],10),i=parseInt(n[2],10),1!==o&&T(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&N(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var n,o;2!==r.length&&T(e,"TAG directive accepts exactly two arguments"),n=r[0],o=r[1],p.test(n)||T(e,"ill-formed tag handle (first argument) of the TAG directive"),a.call(e.tagMap,n)&&T(e,'there is a previously declared suffix for "'+n+'" tag handle'),d.test(o)||T(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(t){T(e,"tag prefix is malformed: "+o)}e.tagMap[n]=o}};function D(e,t,r,n){var o,i,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(o=0,i=a.length;o<i;o+=1)9===(s=a.charCodeAt(o))||32<=s&&s<=1114111||T(e,"expected valid JSON character");else c.test(a)&&T(e,"the stream contains non-printable characters");e.result+=a}}function R(e,t,r,o){var i,s,c,l;for(n.isObject(r)||T(e,"cannot merge mappings; the provided source object is unacceptable"),c=0,l=(i=Object.keys(r)).length;c<l;c+=1)s=i[c],a.call(t,s)||(t[s]=r[s],o[s]=!0)}function x(e,t,r,n,o,i,s,c,l){var u,p;if(Array.isArray(o))for(u=0,p=(o=Array.prototype.slice.call(o)).length;u<p;u+=1)Array.isArray(o[u])&&T(e,"nested arrays are not supported inside keys"),"object"==typeof o&&"[object Object]"===h(o[u])&&(o[u]="[object Object]");if("object"==typeof o&&"[object Object]"===h(o)&&(o="[object Object]"),o=String(o),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(i))for(u=0,p=i.length;u<p;u+=1)R(e,t,i[u],r);else R(e,t,i,r);else e.json||a.call(r,o)||!a.call(t,o)||(e.line=s||e.line,e.lineStart=c||e.lineStart,e.position=l||e.position,T(e,"duplicated mapping key")),"__proto__"===o?Object.defineProperty(t,o,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[o]=i,delete r[o];return t}function F(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):T(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function L(e,t,r){for(var n=0,o=e.input.charCodeAt(e.position);0!==o;){for(;g(o);)9===o&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),o=e.input.charCodeAt(++e.position);if(t&&35===o)do{o=e.input.charCodeAt(++e.position)}while(10!==o&&13!==o&&0!==o);if(!f(o))break;for(F(e),o=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&N(e,"deficient indentation"),n}function k(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!m(t)))}function U(e,t){1===t?e.result+=" ":t>1&&(e.result+=n.repeat("\n",t-1))}function $(e,t){var r,n,o=e.tag,i=e.anchor,s=[],a=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),n=e.input.charCodeAt(e.position);0!==n&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,T(e,"tab characters must not be used in indentation")),45===n)&&m(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,L(e,!0,-1)&&e.lineIndent<=t)s.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,B(e,t,3,!1,!0),s.push(e.result),L(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)T(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=o,e.anchor=i,e.kind="sequence",e.result=s,!0)}function j(e){var t,r,n,o,i=!1,s=!1;if(33!==(o=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&T(e,"duplication of a tag property"),60===(o=e.input.charCodeAt(++e.position))?(i=!0,o=e.input.charCodeAt(++e.position)):33===o?(s=!0,r="!!",o=e.input.charCodeAt(++e.position)):r="!",t=e.position,i){do{o=e.input.charCodeAt(++e.position)}while(0!==o&&62!==o);e.position<e.length?(n=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):T(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==o&&!m(o);)33===o&&(s?T(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),p.test(r)||T(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),u.test(n)&&T(e,"tag suffix cannot contain flow indicator characters")}n&&!d.test(n)&&T(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch(t){T(e,"tag name is malformed: "+n)}return i?e.tag=n:a.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:"!"===r?e.tag="!"+n:"!!"===r?e.tag="tag:yaml.org,2002:"+n:T(e,'undeclared tag handle "'+r+'"'),!0}function M(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&T(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!m(r)&&!y(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&T(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function B(e,t,r,o,i){var s,c,l,u,p,d,h,b,_,I=1,C=!1,N=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=c=l=4===r||3===r,o&&L(e,!0,-1)&&(C=!0,e.lineIndent>t?I=1:e.lineIndent===t?I=0:e.lineIndent<t&&(I=-1)),1===I)for(;j(e)||M(e);)L(e,!0,-1)?(C=!0,l=s,e.lineIndent>t?I=1:e.lineIndent===t?I=0:e.lineIndent<t&&(I=-1)):l=!1;if(l&&(l=C||i),1!==I&&4!==r||(b=1===r||2===r?t:t+1,_=e.position-e.lineStart,1===I?l&&($(e,_)||function(e,t,r){var n,o,i,s,a,c,l,u=e.tag,p=e.anchor,d={},h=Object.create(null),f=null,y=null,v=null,E=!1,w=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),l=e.input.charCodeAt(e.position);0!==l;){if(E||-1===e.firstTabInLine||(e.position=e.firstTabInLine,T(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),i=e.line,63!==l&&58!==l||!m(n)){if(s=e.line,a=e.lineStart,c=e.position,!B(e,r,2,!1,!0))break;if(e.line===i){for(l=e.input.charCodeAt(e.position);g(l);)l=e.input.charCodeAt(++e.position);if(58===l)m(l=e.input.charCodeAt(++e.position))||T(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(x(e,d,h,f,y,null,s,a,c),f=y=v=null),w=!0,E=!1,o=!1,f=e.tag,y=e.result;else{if(!w)return e.tag=u,e.anchor=p,!0;T(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!w)return e.tag=u,e.anchor=p,!0;T(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(E&&(x(e,d,h,f,y,null,s,a,c),f=y=v=null),w=!0,E=!0,o=!0):E?(E=!1,o=!0):T(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,l=n;if((e.line===i||e.lineIndent>t)&&(E&&(s=e.line,a=e.lineStart,c=e.position),B(e,t,4,!0,o)&&(E?y=e.result:v=e.result),E||(x(e,d,h,f,y,v,s,a,c),f=y=v=null),L(e,!0,-1),l=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&0!==l)T(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&x(e,d,h,f,y,null,s,a,c),w&&(e.tag=u,e.anchor=p,e.kind="mapping",e.result=d),w}(e,_,b))||function(e,t){var r,n,o,i,s,a,c,l,u,p,d,h,f=!0,g=e.tag,y=e.anchor,v=Object.create(null);if(91===(h=e.input.charCodeAt(e.position)))s=93,l=!1,i=[];else{if(123!==h)return!1;s=125,l=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),h=e.input.charCodeAt(++e.position);0!==h;){if(L(e,!0,t),(h=e.input.charCodeAt(e.position))===s)return e.position++,e.tag=g,e.anchor=y,e.kind=l?"mapping":"sequence",e.result=i,!0;f?44===h&&T(e,"expected the node content, but found ','"):T(e,"missed comma between flow collection entries"),d=null,a=c=!1,63===h&&m(e.input.charCodeAt(e.position+1))&&(a=c=!0,e.position++,L(e,!0,t)),r=e.line,n=e.lineStart,o=e.position,B(e,t,1,!1,!0),p=e.tag,u=e.result,L(e,!0,t),h=e.input.charCodeAt(e.position),!c&&e.line!==r||58!==h||(a=!0,h=e.input.charCodeAt(++e.position),L(e,!0,t),B(e,t,1,!1,!0),d=e.result),l?x(e,i,v,p,u,d,r,n,o):a?i.push(x(e,null,v,p,u,d,r,n,o)):i.push(u),L(e,!0,t),44===(h=e.input.charCodeAt(e.position))?(f=!0,h=e.input.charCodeAt(++e.position)):f=!1}T(e,"unexpected end of the stream within a flow collection")}(e,b)?N=!0:(c&&function(e,t){var r,o,i,s,a=1,c=!1,l=!1,u=t,p=0,d=!1;if(124===(s=e.input.charCodeAt(e.position)))o=!1;else{if(62!==s)return!1;o=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)1===a?a=43===s?3:2:T(e,"repeat of a chomping mode identifier");else{if(!((i=w(s))>=0))break;0===i?T(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?T(e,"repeat of an indentation width identifier"):(u=t+i-1,l=!0)}if(g(s)){do{s=e.input.charCodeAt(++e.position)}while(g(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!f(s)&&0!==s)}for(;0!==s;){for(F(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!l||e.lineIndent<u)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>u&&(u=e.lineIndent),f(s))p++;else{if(e.lineIndent<u){3===a?e.result+=n.repeat("\n",c?1+p:p):1===a&&c&&(e.result+="\n");break}for(o?g(s)?(d=!0,e.result+=n.repeat("\n",c?1+p:p)):d?(d=!1,e.result+=n.repeat("\n",p+1)):0===p?c&&(e.result+=" "):e.result+=n.repeat("\n",p):e.result+=n.repeat("\n",c?1+p:p),c=!0,l=!0,p=0,r=e.position;!f(s)&&0!==s;)s=e.input.charCodeAt(++e.position);D(e,r,e.position,!1)}}return!0}(e,b)||function(e,t){var r,n,o;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=o=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(D(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,o=e.position}else f(r)?(D(e,n,o,!0),U(e,L(e,!1,t)),n=o=e.position):e.position===e.lineStart&&k(e)?T(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);T(e,"unexpected end of the stream within a single quoted scalar")}(e,b)||function(e,t){var r,n,o,i,s,a;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return D(e,r,e.position,!0),e.position++,!0;if(92===a){if(D(e,r,e.position,!0),f(a=e.input.charCodeAt(++e.position)))L(e,!1,t);else if(a<256&&O[a])e.result+=A[a],e.position++;else if((s=E(a))>0){for(o=s,i=0;o>0;o--)(s=v(a=e.input.charCodeAt(++e.position)))>=0?i=(i<<4)+s:T(e,"expected hexadecimal character");e.result+=S(i),e.position++}else T(e,"unknown escape sequence");r=n=e.position}else f(a)?(D(e,r,n,!0),U(e,L(e,!1,t)),r=n=e.position):e.position===e.lineStart&&k(e)?T(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}T(e,"unexpected end of the stream within a double quoted scalar")}(e,b)?N=!0:function(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!m(n)&&!y(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&T(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),a.call(e.anchorMap,r)||T(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],L(e,!0,-1),!0}(e)?(N=!0,null===e.tag&&null===e.anchor||T(e,"alias node should not have any properties")):function(e,t,r){var n,o,i,s,a,c,l,u,p=e.kind,d=e.result;if(m(u=e.input.charCodeAt(e.position))||y(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(m(n=e.input.charCodeAt(e.position+1))||r&&y(n)))return!1;for(e.kind="scalar",e.result="",o=i=e.position,s=!1;0!==u;){if(58===u){if(m(n=e.input.charCodeAt(e.position+1))||r&&y(n))break}else if(35===u){if(m(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&k(e)||r&&y(u))break;if(f(u)){if(a=e.line,c=e.lineStart,l=e.lineIndent,L(e,!1,-1),e.lineIndent>=t){s=!0,u=e.input.charCodeAt(e.position);continue}e.position=i,e.line=a,e.lineStart=c,e.lineIndent=l;break}}s&&(D(e,o,i,!1),U(e,e.line-a),o=i=e.position,s=!1),g(u)||(i=e.position+1),u=e.input.charCodeAt(++e.position)}return D(e,o,i,!1),!!e.result||(e.kind=p,e.result=d,!1)}(e,b,1===r)&&(N=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===I&&(N=l&&$(e,_))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&T(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,p=e.implicitTypes.length;u<p;u+=1)if((h=e.implicitTypes[u]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(a.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,u=0,p=(d=e.typeMap.multi[e.kind||"fallback"]).length;u<p;u+=1)if(e.tag.slice(0,d[u].tag.length)===d[u].tag){h=d[u];break}h||T(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&T(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):T(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||N}function q(e){var t,r,n,o,i=e.position,s=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(o=e.input.charCodeAt(e.position))&&(L(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==o));){for(s=!0,o=e.input.charCodeAt(++e.position),t=e.position;0!==o&&!m(o);)o=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&T(e,"directive name must not be less than one character in length");0!==o;){for(;g(o);)o=e.input.charCodeAt(++e.position);if(35===o){do{o=e.input.charCodeAt(++e.position)}while(0!==o&&!f(o));break}if(f(o))break;for(t=e.position;0!==o&&!m(o);)o=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==o&&F(e),a.call(P,r)?P[r](e,r,n):N(e,'unknown document directive "'+r+'"')}L(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,L(e,!0,-1)):s&&T(e,"directives end mark is expected"),B(e,e.lineIndent-1,4,!1,!0),L(e,!0,-1),e.checkLineBreaks&&l.test(e.input.slice(i,e.position))&&N(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&k(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,L(e,!0,-1)):e.position<e.length-1&&T(e,"end of the stream or a document separator is expected")}function H(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new I(e,t),n=e.indexOf("\0");for(-1!==n&&(r.position=n,T(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)q(r);return r.documents}e.exports.loadAll=function(e,t,r){null!==t&&"object"==typeof t&&void 0===r&&(r=t,t=null);var n=H(e,r);if("function"!=typeof t)return n;for(var o=0,i=n.length;o<i;o+=1)t(n[o])},e.exports.load=function(e,t){var r=H(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new o("expected a single document in the stream, but found more")}}},9279:(e,t,r)=>{let n;try{n=r(3735)}catch(e){n=r(9896)}const o=r(3950),{stringify:i,stripBom:s}=r(8698),a=o.fromPromise(async function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,i=!("throws"in t)||t.throws;let a,c=await o.fromCallback(r.readFile)(e,t);c=s(c);try{a=JSON.parse(c,t?t.reviver:null)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}return a}),c=o.fromPromise(async function(e,t,r={}){const s=r.fs||n,a=i(t,r);await o.fromCallback(s.writeFile)(e,a,r)});e.exports={readFile:a,readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,o=!("throws"in t)||t.throws;try{let n=r.readFileSync(e,t);return n=s(n),JSON.parse(n,t.reviver)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:c,writeFileSync:function(e,t,r={}){const o=r.fs||n,s=i(t,r);return o.writeFileSync(e,s,r)}}},9322:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseUpdater=void 0;const n=r(5317),o=r(4718);class i extends o.AppUpdater{constructor(e,t){super(e,t),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(e=!1,t=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(e,e?t:this.autoRunAppAfterInstall)?setImmediate(()=>{r(1288).autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(e){return super.executeDownload({...e,done:e=>(this.dispatchUpdateDownloaded(e),this.addQuitHandler(),Promise.resolve())})}get installerPath(){return null==this.downloadedUpdateHelper?null:this.downloadedUpdateHelper.file}install(e=!1,t=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const r=this.downloadedUpdateHelper,n=this.installerPath,o=null==r?null:r.downloadedFileInfo;if(null==n||null==o)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${e}, isForceRunAfter: ${t}`),this.doInstall({isSilent:e,isForceRunAfter:t,isAdminRightsRequired:o.isAdminRightsRequired})}catch(e){return this.dispatchError(e),!1}}addQuitHandler(){!this.quitHandlerAdded&&this.autoInstallOnAppQuit&&(this.quitHandlerAdded=!0,this.app.onQuit(e=>{this.quitAndInstallCalled?this._logger.info("Update installer has already been triggered. Quitting application."):this.autoInstallOnAppQuit?0===e?(this._logger.info("Auto install update on quit"),this.install(!0,!1)):this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${e}`):this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.")}))}wrapSudo(){const{name:e}=this.app,t=`"${e} would like to update"`,r=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),n=[r];return/kdesudo/i.test(r)?(n.push("--comment",t),n.push("-c")):/gksudo/i.test(r)?n.push("--message",t):/pkexec/i.test(r)&&n.push("--disable-internal-agent"),n.join(" ")}spawnSyncLog(e,t=[],r={}){this._logger.info(`Executing: ${e} with args: ${t}`);const o=(0,n.spawnSync)(e,t,{env:{...process.env,...r},encoding:"utf-8",shell:!0}),{error:i,status:s,stdout:a,stderr:c}=o;if(null!=i)throw this._logger.error(c),i;if(null!=s&&0!==s)throw this._logger.error(c),new Error(`Command ${e} exited with code ${s}`);return a.trim()}async spawnLog(e,t=[],r=void 0,o="ignore"){return this._logger.info(`Executing: ${e} with args: ${t}`),new Promise((i,s)=>{try{const a={stdio:o,env:r,detached:!0},c=(0,n.spawn)(e,t,a);c.on("error",e=>{s(e)}),c.unref(),void 0!==c.pid&&i(!0)}catch(e){s(e)}})}}t.BaseUpdater=i},9342:(e,t,r)=>{"use strict";var n=r(5388),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new n("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=0,i=e.length,s=o;for(r=0;r<i;r++)if(!((t=s.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=o,a=0,c=[];for(t=0;t<i;t++)t%4==0&&t&&(c.push(a>>16&255),c.push(a>>8&255),c.push(255&a)),a=a<<6|s.indexOf(n.charAt(t));return 0==(r=i%4*6)?(c.push(a>>16&255),c.push(a>>8&255),c.push(255&a)):18===r?(c.push(a>>10&255),c.push(a>>2&255)):12===r&&c.push(a>>4&255),new Uint8Array(c)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,r,n="",i=0,s=e.length,a=o;for(t=0;t<s;t++)t%3==0&&t&&(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]),i=(i<<8)+e[t];return 0==(r=s%3)?(n+=a[i>>18&63],n+=a[i>>12&63],n+=a[i>>6&63],n+=a[63&i]):2===r?(n+=a[i>>10&63],n+=a[i>>4&63],n+=a[i<<2&63],n+=a[64]):1===r&&(n+=a[i>>2&63],n+=a[i<<4&63],n+=a[64],n+=a[64]),n}})},9359:(e,t,r)=>{"use strict";const n=r(8611),o=r(5692),{transform:i}=r(8915),{removeStyles:s}=r(6230),{toJSON:a,maxDepth:c}=r(1296);e.exports=function(e){return Object.assign(t,{client:{name:"electron-application"},depth:6,level:!1,requestOptions:{},transforms:[s,a,c],makeBodyFn:({message:e})=>JSON.stringify({client:t.client,data:e.data,date:e.date.getTime(),level:e.level,scope:e.scope,variables:e.variables}),processErrorFn({error:r}){e.processMessage({data:[`electron-log: can't POST ${t.url}`,r],level:"warn"},{transports:["console","file"]})},sendRequestFn({serverUrl:e,requestOptions:t,body:r}){const i=(e.startsWith("https:")?o:n).request(e,{method:"POST",...t,headers:{"Content-Type":"application/json","Content-Length":r.length,...t.headers}});return i.write(r),i.end(),i}});function t(r){if(!t.url)return;const n=t.makeBodyFn({logger:e,message:{...r,data:i({logger:e,message:r,transport:t})},transport:t}),o=t.sendRequestFn({serverUrl:t.url,requestOptions:t.requestOptions,body:Buffer.from(n,"utf8")});o.on("error",n=>t.processErrorFn({error:n,logger:e,message:r,request:o,transport:t}))}}},9392:(e,t,r)=>{"use strict";const n=r(6928),o=r(3735),i=r(6566).pathExists;e.exports={symlinkPaths:function(e,t,r){if(n.isAbsolute(e))return o.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:e}));{const s=n.dirname(t),a=n.join(s,e);return i(a,(t,i)=>t?r(t):i?r(null,{toCwd:a,toDst:e}):o.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:n.relative(s,e)})))}},symlinkPathsSync:function(e,t){let r;if(n.isAbsolute(e)){if(r=o.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const i=n.dirname(t),s=n.join(i,e);if(r=o.existsSync(s),r)return{toCwd:s,toDst:e};if(r=o.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:n.relative(i,e)}}}}},9456:(e,t,r)=>{"use strict";const{concatFirstStringElements:n,format:o}=r(1640),{maxDepth:i,toJSON:s}=r(1296),{applyAnsiStyles:a,removeStyles:c}=r(6230),{transform:l}=r(8915),u={error:console.error,warn:console.warn,info:console.info,verbose:console.info,debug:console.debug,silly:console.debug,log:console.log};e.exports=d;const p=`%c{h}:{i}:{s}.{ms}{scope}%c ${"win32"===process.platform?">":"›"} {text}`;function d(e){return Object.assign(function t(r){const n=l({logger:e,message:r,transport:t});t.writeFn({message:{...r,data:n}})},{colorMap:{error:"red",warn:"yellow",info:"cyan",verbose:"unset",debug:"gray",silly:"gray",default:"unset"},format:p,level:"silly",transforms:[h,o,f,n,i,s],useStyles:process.env.FORCE_STYLES,writeFn({message:e}){(u[e.level]||u.info)(...e.data)}})}function h({data:e,message:t,transport:r}){return"string"==typeof r.format&&r.format.includes("%c")?[`color:${g(t.level,r)}`,"color:unset",...e]:e}function f(e){const{message:t,transport:r}=e;return(function(e,t){if("boolean"==typeof e)return e;const r="error"===t||"warn"===t?process.stderr:process.stdout;return r&&r.isTTY}(r.useStyles,t.level)?a:c)(e)}function g(e,t){return t.colorMap[e]||t.colorMap.default}Object.assign(d,{DEFAULT_FORMAT:p})},9516:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressDifferentialDownloadCallbackTransform=void 0;const n=r(2203);var o;!function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"}(o||(o={}));class i extends n.Transform{constructor(e,t,r){super(),this.progressDifferentialDownloadInfo=e,this.cancellationToken=t,this.onProgress=r,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=o.COPY,this.nextUpdate=this.start+1e3}_transform(e,t,r){if(this.cancellationToken.cancelled)return void r(new Error("cancelled"),null);if(this.operationType==o.COPY)return void r(null,e);this.transferred+=e.length,this.delta+=e.length;const n=Date.now();n>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=n+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((n-this.start)/1e3))}),this.delta=0),r(null,e)}beginFileCopy(){this.operationType=o.COPY}beginRangeDownload(){this.operationType=o.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(e){this.cancellationToken.cancelled?e(new Error("cancelled")):(this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,e(null))}}t.ProgressDifferentialDownloadCallbackTransform=i},9589:(e,t,r)=>{"use strict";const n=r(9718),o=r(6874),i=r(3908),s=r(1123),a=r(144),c=r(6953),l=r(7414),u=r(3007),p=r(1832),d=r(2938),h=r(6254),f=r(4493),g=r(1729),m=r(560),y=r(9970),v=r(1763),E=r(909),w=r(3927),b=r(4277),S=r(5580),O=r(7059),A=r(4641),_=r(3999),I=r(4089),C=r(5200),T=r(2111),N=r(6170),P=r(3904),D=r(8311),R=r(7638),x=r(7631),F=r(9628),L=r(270),k=r(1261),U=r(3874),$=r(7075),j=r(5571),M=r(5342),B=r(6780),q=r(2525),H=r(5032);e.exports={parse:a,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:f,prerelease:g,compare:m,rcompare:y,compareLoose:v,compareBuild:E,sort:w,rsort:b,gt:S,lt:O,eq:A,neq:_,gte:I,lte:C,cmp:T,coerce:N,Comparator:P,Range:D,satisfies:R,toComparators:x,maxSatisfying:F,minSatisfying:L,minVersion:k,validRange:U,outside:$,gtr:j,ltr:M,intersects:B,simplifyRange:q,subset:H,SemVer:i,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},9628:(e,t,r)=>{"use strict";const n=r(3908),o=r(8311);e.exports=(e,t,r)=>{let i=null,s=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(i&&-1!==s.compare(e)||(i=e,s=new n(i,r)))}),i}},9633:(e,t,r)=>{"use strict";const n=r(3735);e.exports={utimesMillis:function(e,t,r,o){n.open(e,"r+",(e,i)=>{if(e)return o(e);n.futimes(i,t,r,e=>{n.close(i,t=>{o&&o(e||t)})})})},utimesMillisSync:function(e,t,r){const o=n.openSync(e,"r+");return n.futimesSync(o,t,r),n.closeSync(o)}}},9718:(e,t,r)=>{"use strict";const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=r(6874),s=r(7272),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],p=t.t={};let d=0;const h="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[h,o]],g=(e,t,r)=>{const n=(e=>{for(const[t,r]of f)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=d++;s(e,o,t),p[e]=o,l[o]=t,u[o]=n,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),g("MAINVERSION",`(${l[p.NUMERICIDENTIFIER]})\\.(${l[p.NUMERICIDENTIFIER]})\\.(${l[p.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[p.NUMERICIDENTIFIERLOOSE]})\\.(${l[p.NUMERICIDENTIFIERLOOSE]})\\.(${l[p.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[p.NONNUMERICIDENTIFIER]}|${l[p.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[p.NONNUMERICIDENTIFIER]}|${l[p.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${l[p.PRERELEASEIDENTIFIER]}(?:\\.${l[p.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[p.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[p.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${h}+`),g("BUILD",`(?:\\+(${l[p.BUILDIDENTIFIER]}(?:\\.${l[p.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[p.MAINVERSION]}${l[p.PRERELEASE]}?${l[p.BUILD]}?`),g("FULL",`^${l[p.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[p.MAINVERSIONLOOSE]}${l[p.PRERELEASELOOSE]}?${l[p.BUILD]}?`),g("LOOSE",`^${l[p.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[p.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[p.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[p.XRANGEIDENTIFIER]})(?:\\.(${l[p.XRANGEIDENTIFIER]})(?:\\.(${l[p.XRANGEIDENTIFIER]})(?:${l[p.PRERELEASE]})?${l[p.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[p.XRANGEIDENTIFIERLOOSE]})(?:${l[p.PRERELEASELOOSE]})?${l[p.BUILD]}?)?)?`),g("XRANGE",`^${l[p.GTLT]}\\s*${l[p.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[p.GTLT]}\\s*${l[p.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${l[p.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[p.COERCEPLAIN]+`(?:${l[p.PRERELEASE]})?`+`(?:${l[p.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[p.COERCE],!0),g("COERCERTLFULL",l[p.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[p.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${l[p.LONETILDE]}${l[p.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[p.LONETILDE]}${l[p.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[p.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${l[p.LONECARET]}${l[p.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[p.LONECARET]}${l[p.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[p.GTLT]}\\s*(${l[p.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[p.GTLT]}\\s*(${l[p.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[p.GTLT]}\\s*(${l[p.LOOSEPLAIN]}|${l[p.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[p.XRANGEPLAIN]})\\s+-\\s+(${l[p.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[p.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[p.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},9896:e=>{"use strict";e.exports=require("fs")},9899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDn=function(e){let t=!1,r=null,n="",o=0;e=e.trim();const i=new Map;for(let s=0;s<=e.length;s++){if(s===e.length){null!==r&&i.set(r,n);break}const a=e[s];if(t){if('"'===a){t=!1;continue}}else{if('"'===a){t=!0;continue}if("\\"===a){s++;const t=parseInt(e.slice(s,s+2),16);Number.isNaN(t)?n+=e[s]:(s++,n+=String.fromCharCode(t));continue}if(null===r&&"="===a){r=n,n="";continue}if(","===a||";"===a||"+"===a){null!==r&&i.set(r,n),r=null,n="";continue}}if(" "===a&&!t){if(0===n.length)continue;if(s>o){let t=s;for(;" "===e[t];)t++;o=t}if(o>=e.length||","===e[o]||";"===e[o]||null===r&&"="===e[o]||null!==r&&"+"===e[o]){s=o-1;continue}}n+=a}return i}},9970:(e,t,r)=>{"use strict";const n=r(560);e.exports=(e,t,r)=>n(t,e,r)},9993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationError=t.CancellationToken=void 0;const n=r(4434);class o extends n.EventEmitter{get cancelled(){return this._cancelled||null!=this._parent&&this._parent.cancelled}set parent(e){this.removeParentCancelHandler(),this._parent=e,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(e){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,null!=e&&(this.parent=e)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(e){this.cancelled?e():this.once("cancel",e)}createPromise(e){if(this.cancelled)return Promise.reject(new i);const t=()=>{if(null!=r)try{this.removeListener("cancel",r),r=null}catch(e){}};let r=null;return new Promise((t,n)=>{let o=null;r=()=>{try{null!=o&&(o(),o=null)}finally{n(new i)}},this.cancelled?r():(this.onCancel(r),e(t,n,e=>{o=e}))}).then(e=>(t(),e)).catch(e=>{throw t(),e})}removeParentCancelHandler(){const e=this._parent;null!=e&&null!=this.parentCancelHandler&&(e.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}t.CancellationToken=o;class i extends Error{constructor(){super("cancelled")}}t.CancellationError=i}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.c=t,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n=r(r.s=5989);module.exports=n})();